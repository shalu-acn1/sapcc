import{a as v,b as w,c as qm,f as at}from"./chunk-25N2FLV6.js";function G(e){return typeof e=="function"}function si(e){let t=e(n=>{Error.call(n),n.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Hu=si(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Pr(e,r){if(e){let t=e.indexOf(r);0<=t&&e.splice(t,1)}}var de=class e{constructor(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let r;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:n}=this;if(G(n))try{n()}catch(o){r=o instanceof Hu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Cb(o)}catch(s){r=r??[],s instanceof Hu?r=[...r,...s.errors]:r.push(s)}}if(r)throw new Hu(r)}}add(r){var t;if(r&&r!==this)if(this.closed)Cb(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(r)}}_hasParent(r){let{_parentage:t}=this;return t===r||Array.isArray(t)&&t.includes(r)}_addParent(r){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r}_removeParent(r){let{_parentage:t}=this;t===r?this._parentage=null:Array.isArray(t)&&Pr(t,r)}remove(r){let{_finalizers:t}=this;t&&Pr(t,r),r instanceof e&&r._removeParent(this)}};de.EMPTY=(()=>{let e=new de;return e.closed=!0,e})();var Ym=de.EMPTY;function zu(e){return e instanceof de||e&&"closed"in e&&G(e.remove)&&G(e.add)&&G(e.unsubscribe)}function Cb(e){G(e)?e():e.unsubscribe()}var Mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $o={setTimeout(e,r,...t){let{delegate:n}=$o;return n?.setTimeout?n.setTimeout(e,r,...t):setTimeout(e,r,...t)},clearTimeout(e){let{delegate:r}=$o;return(r?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Gu(e){$o.setTimeout(()=>{let{onUnhandledError:r}=Mn;if(r)r(e);else throw e})}function Tt(){}var Ib=Km("C",void 0,void 0);function Db(e){return Km("E",void 0,e)}function wb(e){return Km("N",e,void 0)}function Km(e,r,t){return{kind:e,value:r,error:t}}var Pi=null;function Bo(e){if(Mn.useDeprecatedSynchronousErrorHandling){let r=!Pi;if(r&&(Pi={errorThrown:!1,error:null}),e(),r){let{errorThrown:t,error:n}=Pi;if(Pi=null,t)throw n}}else e()}function bb(e){Mn.useDeprecatedSynchronousErrorHandling&&Pi&&(Pi.errorThrown=!0,Pi.error=e)}var Fi=class extends de{constructor(r){super(),this.isStopped=!1,r?(this.destination=r,zu(r)&&r.add(this)):this.destination=UL}static create(r,t,n){return new Fr(r,t,n)}next(r){this.isStopped?Qm(wb(r),this):this._next(r)}error(r){this.isStopped?Qm(Db(r),this):(this.isStopped=!0,this._error(r))}complete(){this.isStopped?Qm(Ib,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(r){this.destination.next(r)}_error(r){try{this.destination.error(r)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},LL=Function.prototype.bind;function Zm(e,r){return LL.call(e,r)}var Xm=class{constructor(r){this.partialObserver=r}next(r){let{partialObserver:t}=this;if(t.next)try{t.next(r)}catch(n){Wu(n)}}error(r){let{partialObserver:t}=this;if(t.error)try{t.error(r)}catch(n){Wu(n)}else Wu(r)}complete(){let{partialObserver:r}=this;if(r.complete)try{r.complete()}catch(t){Wu(t)}}},Fr=class extends Fi{constructor(r,t,n){super();let i;if(G(r)||!r)i={next:r??void 0,error:t??void 0,complete:n??void 0};else{let o;this&&Mn.useDeprecatedNextContext?(o=Object.create(r),o.unsubscribe=()=>this.unsubscribe(),i={next:r.next&&Zm(r.next,o),error:r.error&&Zm(r.error,o),complete:r.complete&&Zm(r.complete,o)}):i=r}this.destination=new Xm(i)}};function Wu(e){Mn.useDeprecatedSynchronousErrorHandling?bb(e):Gu(e)}function kL(e){throw e}function Qm(e,r){let{onStoppedNotification:t}=Mn;t&&$o.setTimeout(()=>t(e,r))}var UL={closed:!0,next:Tt,error:kL,complete:Tt};var Vo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ge(e){return e}function Jm(...e){return ev(e)}function ev(e){return e.length===0?Ge:e.length===1?e[0]:function(t){return e.reduce((n,i)=>i(n),t)}}var V=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let n=new e;return n.source=this,n.operator=t,n}subscribe(t,n,i){let o=$L(t)?t:new Fr(t,n,i);return Bo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return n=Tb(n),new n((i,o)=>{let s=new Fr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)}[Vo](){return this}pipe(...t){return ev(t)(this)}toPromise(t){return t=Tb(t),new t((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return e.create=r=>new e(r),e})();function Tb(e){var r;return(r=e??Mn.Promise)!==null&&r!==void 0?r:Promise}function jL(e){return e&&G(e.next)&&G(e.error)&&G(e.complete)}function $L(e){return e&&e instanceof Fi||jL(e)&&zu(e)}var Rb=si(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=(()=>{class e extends V{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let n=new qu(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new Rb}next(t){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(t)}})}error(t){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:n,isStopped:i,observers:o}=this;return n||i?Ym:(this.currentObservers=null,o.push(t),new de(()=>{this.currentObservers=null,Pr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:n,thrownError:i,isStopped:o}=this;n?t.error(i):o&&t.complete()}asObservable(){let t=new V;return t.source=this,t}}return e.create=(r,t)=>new qu(r,t),e})(),qu=class extends oe{constructor(r,t){super(),this.destination=r,this.source=t}next(r){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.next)===null||n===void 0||n.call(t,r)}error(r){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.error)===null||n===void 0||n.call(t,r)}complete(){var r,t;(t=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||t===void 0||t.call(r)}_subscribe(r){var t,n;return(n=(t=this.source)===null||t===void 0?void 0:t.subscribe(r))!==null&&n!==void 0?n:Ym}};var me=class extends oe{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){let t=super._subscribe(r);return!t.closed&&r.next(this._value),t}getValue(){let{hasError:r,thrownError:t,_value:n}=this;if(r)throw t;return this._throwIfClosed(),n}next(r){super.next(this._value=r)}};var Sa={now(){return(Sa.delegate||Date).now()},delegate:void 0};var Lt=class extends oe{constructor(r=1/0,t=1/0,n=Sa){super(),this._bufferSize=r,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,t)}next(r){let{isStopped:t,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(n.push(r),!i&&n.push(o.now()+s)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(r),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!r.closed;s+=n?1:2)r.next(o[s]);return this._checkFinalizedStatuses(r),t}_trimBuffer(){let{_bufferSize:r,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*r;if(r<1/0&&o<n.length&&n.splice(0,n.length-o),!i){let s=t.now(),a=0;for(let c=1;c<n.length&&n[c]<=s;c+=2)a=c;a&&n.splice(0,a+1)}}};var ce=new V(e=>e.complete());function Yu(e){return e&&G(e.schedule)}function tv(e){return e[e.length-1]}function ai(e){return G(tv(e))?e.pop():void 0}function tr(e){return Yu(tv(e))?e.pop():void 0}function Ab(e,r){return typeof tv(e)=="number"?e.pop():r}function X7(e,r,t,n){var i=arguments.length,o=i<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,r,t,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(r,t,o):s(r,t))||o);return i>3&&o&&Object.defineProperty(r,t,o),o}function J7(e,r){return function(t,n){r(t,n,e)}}function Mb(e,r,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,r||[])).next())})}function _b(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Li(e){return this instanceof Li?(this.v=e,this):new Li(e)}function Nb(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(E){return Promise.resolve(E).then(p,f)}}function a(p,E){n[p]&&(i[p]=function(I){return new Promise(function(b,x){o.push([p,I,b,x])>1||c(p,I)})},E&&(i[p]=E(i[p])))}function c(p,E){try{u(n[p](E))}catch(I){h(o[0][3],I)}}function u(p){p.value instanceof Li?Promise.resolve(p.value.v).then(l,f):h(o[0][2],p)}function l(p){c("next",p)}function f(p){c("throw",p)}function h(p,E){p(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Ob(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof _b=="function"?_b(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Ho=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ku(e){return G(e?.then)}function Zu(e){return G(e[Vo])}function Qu(e){return Symbol.asyncIterator&&G(e?.[Symbol.asyncIterator])}function Xu(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function BL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ju=BL();function el(e){return G(e?.[Ju])}function tl(e){return Nb(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:n,done:i}=yield Li(t.read());if(i)return yield Li(void 0);yield yield Li(n)}}finally{t.releaseLock()}})}function nl(e){return G(e?.getReader)}function H(e){if(e instanceof V)return e;if(e!=null){if(Zu(e))return VL(e);if(Ho(e))return HL(e);if(Ku(e))return zL(e);if(Qu(e))return xb(e);if(el(e))return GL(e);if(nl(e))return WL(e)}throw Xu(e)}function VL(e){return new V(r=>{let t=e[Vo]();if(G(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function HL(e){return new V(r=>{for(let t=0;t<e.length&&!r.closed;t++)r.next(e[t]);r.complete()})}function zL(e){return new V(r=>{e.then(t=>{r.closed||(r.next(t),r.complete())},t=>r.error(t)).then(null,Gu)})}function GL(e){return new V(r=>{for(let t of e)if(r.next(t),r.closed)return;r.complete()})}function xb(e){return new V(r=>{qL(e,r).catch(t=>r.error(t))})}function WL(e){return xb(tl(e))}function qL(e,r){var t,n,i,o;return Mb(this,void 0,void 0,function*(){try{for(t=Ob(e);n=yield t.next(),!n.done;){let s=n.value;if(r.next(s),r.closed)return}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}r.complete()})}function pt(e,r,t,n=0,i=!1){let o=r.schedule(function(){t(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function nv(e){return G(e?.lift)}function L(e){return r=>{if(nv(r))return r.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function O(e,r,t,n,i){return new Ca(e,r,t,n,i)}var Ca=class extends Fi{constructor(r,t,n,i,o,s){super(r),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){r.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){r.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){r.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((r=this.onFinalize)===null||r===void 0||r.call(this))}}};function hn(e,r=0){return L((t,n)=>{t.subscribe(O(n,i=>pt(n,e,()=>n.next(i),r),()=>pt(n,e,()=>n.complete(),r),i=>pt(n,e,()=>n.error(i),r)))})}function rl(e,r=0){return L((t,n)=>{n.add(e.schedule(()=>t.subscribe(n),r))})}function Pb(e,r){return H(e).pipe(rl(r),hn(r))}function Fb(e,r){return H(e).pipe(rl(r),hn(r))}function Lb(e,r){return new V(t=>{let n=0;return r.schedule(function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())})})}function kb(e,r){return new V(t=>{let n;return pt(t,r,()=>{n=e[Ju](),pt(t,r,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>G(n?.return)&&n.return()})}function il(e,r){if(!e)throw new Error("Iterable cannot be null");return new V(t=>{pt(t,r,()=>{let n=e[Symbol.asyncIterator]();pt(t,r,()=>{n.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ub(e,r){return il(tl(e),r)}function jb(e,r){if(e!=null){if(Zu(e))return Pb(e,r);if(Ho(e))return Lb(e,r);if(Ku(e))return Fb(e,r);if(Qu(e))return il(e,r);if(el(e))return kb(e,r);if(nl(e))return Ub(e,r)}throw Xu(e)}function ue(e,r){return r?jb(e,r):H(e)}function D(...e){let r=tr(e);return ue(e,r)}function S(e,r){return L((t,n)=>{let i=0;t.subscribe(O(n,o=>{n.next(e.call(r,o,i++))}))})}var{isArray:YL}=Array,{getPrototypeOf:KL,prototype:ZL,keys:QL}=Object;function ol(e){if(e.length===1){let r=e[0];if(YL(r))return{args:r,keys:null};if(XL(r)){let t=QL(r);return{args:t.map(n=>r[n]),keys:t}}}return{args:e,keys:null}}function XL(e){return e&&typeof e=="object"&&KL(e)===ZL}var{isArray:JL}=Array;function ek(e,r){return JL(r)?e(...r):e(r)}function zo(e){return S(r=>ek(e,r))}function sl(e,r){return e.reduce((t,n,i)=>(t[n]=r[i],t),{})}function Ae(...e){let r=tr(e),t=ai(e),{args:n,keys:i}=ol(e);if(n.length===0)return ue([],r);let o=new V(tk(n,r,i?s=>sl(i,s):Ge));return t?o.pipe(zo(t)):o}function tk(e,r,t=Ge){return n=>{$b(r,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)$b(r,()=>{let u=ue(e[c],r),l=!1;u.subscribe(O(n,f=>{o[c]=f,l||(l=!0,a--),a||n.next(t(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function $b(e,r,t){e?pt(t,e,r):r()}function Bb(e,r,t,n,i,o,s,a){let c=[],u=0,l=0,f=!1,h=()=>{f&&!c.length&&!u&&r.complete()},p=I=>u<n?E(I):c.push(I),E=I=>{o&&r.next(I),u++;let b=!1;H(t(I,l++)).subscribe(O(r,x=>{i?.(x),o?p(x):r.next(x)},()=>{b=!0},void 0,()=>{if(b)try{for(u--;c.length&&u<n;){let x=c.shift();s?pt(r,s,()=>E(x)):E(x)}h()}catch(x){r.error(x)}}))};return e.subscribe(O(r,p,()=>{f=!0,h()})),()=>{a?.()}}function $(e,r,t=1/0){return G(r)?$((n,i)=>S((o,s)=>r(n,o,i,s))(H(e(n,i))),t):(typeof r=="number"&&(t=r),L((n,i)=>Bb(n,i,e,t)))}var al=class extends de{constructor(r,t){super()}schedule(r,t=0){return this}};var Ia={setInterval(e,r,...t){let{delegate:n}=Ia;return n?.setInterval?n.setInterval(e,r,...t):setInterval(e,r,...t)},clearInterval(e){let{delegate:r}=Ia;return(r?.clearInterval||clearInterval)(e)},delegate:void 0};var nr=class extends al{constructor(r,t){super(r,t),this.scheduler=r,this.work=t,this.pending=!1}schedule(r,t=0){var n;if(this.closed)return this;this.state=r;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,t),this}requestAsyncId(r,t,n=0){return Ia.setInterval(r.flush.bind(r,this),n)}recycleAsyncId(r,t,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return t;t!=null&&Ia.clearInterval(t)}execute(r,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(r,t);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,t){let n=!1,i;try{this.work(r)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:r,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Pr(n,this),r!=null&&(this.id=this.recycleAsyncId(t,r,null)),this.delay=null,super.unsubscribe()}}};var Go=class e{constructor(r,t=e.now){this.schedulerActionCtor=r,this.now=t}schedule(r,t=0,n){return new this.schedulerActionCtor(this,r).schedule(n,t)}};Go.now=Sa.now;var rr=class extends Go{constructor(r,t=Go.now){super(r,t),this.actions=[],this._active=!1}flush(r){let{actions:t}=this;if(this._active){t.push(r);return}let n;this._active=!0;do if(n=r.execute(r.state,r.delay))break;while(r=t.shift());if(this._active=!1,n){for(;r=t.shift();)r.unsubscribe();throw n}}};var tn=new rr(nr),Vb=tn;function cl(e){return e instanceof Date&&!isNaN(e)}function nn(e=0,r,t=Vb){let n=-1;return r!=null&&(Yu(r)?t=r:n=r),new V(i=>{let o=cl(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function ir(e=1/0){return $(Ge,e)}function pn(...e){let r=tr(e),t=Ab(e,1/0),n=e;return n.length?n.length===1?H(n[0]):ir(t)(ue(n,r)):ce}function R(e,r){return L((t,n)=>{let i=0;t.subscribe(O(n,o=>e.call(r,o,i++)&&n.next(o)))})}function M(e){return L((r,t)=>{let n=null,i=!1,o;n=r.subscribe(O(t,void 0,void 0,s=>{o=H(e(s,M(e)(r))),n?(n.unsubscribe(),n=null,o.subscribe(t)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(t))})}function nk(e){return L((r,t)=>{let n=!1,i=null,o=null,s=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let a=i;i=null,t.next(a)}};r.subscribe(O(t,a=>{o?.unsubscribe(),n=!0,i=a,o=O(t,s,Tt),H(e(a)).subscribe(o)},()=>{s(),t.complete()},void 0,()=>{i=o=null}))})}function q(e){return e<=0?()=>ce:L((r,t)=>{let n=0;r.subscribe(O(t,i=>{++n<=e&&(t.next(i),e<=n&&t.complete())}))})}function Hb(){return ir(1)}function or(...e){return Hb()(ue(e,tr(e)))}function Da(){return L((e,r)=>{e.subscribe(O(r,Tt))})}function zb(e){return S(()=>e)}function ul(e,r){return r?t=>or(r.pipe(q(1),Da()),t.pipe(ul(e))):$((t,n)=>H(e(t,n)).pipe(q(1),zb(t)))}function sr(e,r=tn){let t=nn(e,r);return ul(()=>t)}function rk(e,r){return L((t,n)=>{let i=new Set;t.subscribe(O(n,o=>{let s=e?e(o):o;i.has(s)||(i.add(s),n.next(o))})),r&&H(r).subscribe(O(n,()=>i.clear(),Tt))})}function gn(e,r=Ge){return e=e??ik,L((t,n)=>{let i,o=!0;t.subscribe(O(n,s=>{let a=r(s);(o||!e(i,a))&&(o=!1,i=a,n.next(s))}))})}function ik(e,r){return e===r}function ok(e,r){return gn((t,n)=>r?r(t[e],n[e]):t[e]===n[e])}var Nn=si(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ci(e){return L((r,t)=>{let n=!1;r.subscribe(O(t,i=>{n=!0,t.next(i)},()=>{n||t.next(e),t.complete()}))})}function ll(e=sk){return L((r,t)=>{let n=!1;r.subscribe(O(t,i=>{n=!0,t.next(i)},()=>n?t.complete():t.error(e())))})}function sk(){return new Nn}function kt(e,r){let t=arguments.length>=2;return n=>n.pipe(e?R((i,o)=>e(i,o,n)):Ge,q(1),t?ci(r):ll(()=>new Nn))}function ki(e={}){let{connector:r=()=>new oe,resetOnError:t=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,u=0,l=!1,f=!1,h=()=>{a?.unsubscribe(),a=void 0},p=()=>{h(),s=c=void 0,l=f=!1},E=()=>{let I=s;p(),I?.unsubscribe()};return L((I,b)=>{u++,!f&&!l&&h();let x=c=c??r();b.add(()=>{u--,u===0&&!f&&!l&&(a=rv(E,i))}),x.subscribe(b),!s&&u>0&&(s=new Fr({next:N=>x.next(N),error:N=>{f=!0,h(),a=rv(p,t,N),x.error(N)},complete:()=>{l=!0,h(),a=rv(p,n),x.complete()}}),H(I).subscribe(s))})(o)}}function rv(e,r,...t){if(r===!0){e();return}if(r===!1)return;let n=new Fr({next:()=>{n.unsubscribe(),e()}});return H(r(...t)).subscribe(n)}function Qe(e,r,t){let n,i=!1;return e&&typeof e=="object"?{bufferSize:n=1/0,windowTime:r=1/0,refCount:i=!1,scheduler:t}=e:n=e??1/0,ki({connector:()=>new Lt(n,r,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function iv(e){return R((r,t)=>e<=t)}function ar(...e){let r=tr(e);return L((t,n)=>{(r?or(e,t,r):or(e,t)).subscribe(n)})}function _(e,r){return L((t,n)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&n.complete();t.subscribe(O(n,c=>{i?.unsubscribe();let u=0,l=o++;H(e(c,l)).subscribe(i=O(n,f=>n.next(r?r(c,f,l,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ak(e,r=!1){return L((t,n)=>{let i=0;t.subscribe(O(n,o=>{let s=e(o,i++);(s||r)&&n.next(o),!s&&n.complete()}))})}function F(e,r,t){let n=G(e)||r||t?{next:e,error:r,complete:t}:e;return n?L((i,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;i.subscribe(O(o,c=>{var u;(u=n.next)===null||u===void 0||u.call(n,c),o.next(c)},()=>{var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),o.complete()},c=>{var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),o.error(c)},()=>{var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Ge}function Wo(){return L((e,r)=>{let t=null;e._refCount++;let n=O(r,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),r.unsubscribe()});e.subscribe(n),n.closed||(t=e.connect())})}var qo=class extends V{constructor(r,t){super(),this.source=r,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,nv(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){let r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:r}=this;this._subject=this._connection=null,r?.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new de;let t=this.getSubject();r.add(this.source.subscribe(O(t,void 0,()=>{this._teardown(),t.complete()},n=>{this._teardown(),t.error(n)},()=>this._teardown()))),r.closed&&(this._connection=null,r=de.EMPTY)}return r}refCount(){return Wo()(this)}};var Yo={schedule(e){let r=requestAnimationFrame,t=cancelAnimationFrame,{delegate:n}=Yo;n&&(r=n.requestAnimationFrame,t=n.cancelAnimationFrame);let i=r(o=>{t=void 0,e(o)});return new de(()=>t?.(i))},requestAnimationFrame(...e){let{delegate:r}=Yo;return(r?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){let{delegate:r}=Yo;return(r?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};var ck=1,ov,sv={};function Gb(e){return e in sv?(delete sv[e],!0):!1}var Wb={setImmediate(e){let r=ck++;return sv[r]=!0,ov||(ov=Promise.resolve()),ov.then(()=>Gb(r)&&e()),r},clearImmediate(e){Gb(e)}};var{setImmediate:uk,clearImmediate:lk}=Wb,wa={setImmediate(...e){let{delegate:r}=wa;return(r?.setImmediate||uk)(...e)},clearImmediate(e){let{delegate:r}=wa;return(r?.clearImmediate||lk)(e)},delegate:void 0};var dl=class extends nr{constructor(r,t){super(r,t),this.scheduler=r,this.work=t}requestAsyncId(r,t,n=0){return n!==null&&n>0?super.requestAsyncId(r,t,n):(r.actions.push(this),r._scheduled||(r._scheduled=wa.setImmediate(r.flush.bind(r,void 0))))}recycleAsyncId(r,t,n=0){var i;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(r,t,n);let{actions:o}=r;t!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(wa.clearImmediate(t),r._scheduled===t&&(r._scheduled=void 0))}};var fl=class extends rr{flush(r){this._active=!0;let t=this._scheduled;this._scheduled=void 0;let{actions:n}=this,i;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while((r=n[0])&&r.id===t&&n.shift());if(this._active=!1,i){for(;(r=n[0])&&r.id===t&&n.shift();)r.unsubscribe();throw i}}};var av=new fl(dl);var hl=class extends nr{constructor(r,t){super(r,t),this.scheduler=r,this.work=t}schedule(r,t=0){return t>0?super.schedule(r,t):(this.delay=t,this.state=r,this.scheduler.flush(this),this)}execute(r,t){return t>0||this.closed?super.execute(r,t):this._execute(r,t)}requestAsyncId(r,t,n=0){return n!=null&&n>0||n==null&&this.delay>0?super.requestAsyncId(r,t,n):(r.flush(this),0)}};var pl=class extends rr{};var ui=new pl(hl);var gl=class extends nr{constructor(r,t){super(r,t),this.scheduler=r,this.work=t}requestAsyncId(r,t,n=0){return n!==null&&n>0?super.requestAsyncId(r,t,n):(r.actions.push(this),r._scheduled||(r._scheduled=Yo.requestAnimationFrame(()=>r.flush(void 0))))}recycleAsyncId(r,t,n=0){var i;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(r,t,n);let{actions:o}=r;t!=null&&t===r._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(Yo.cancelAnimationFrame(t),r._scheduled=void 0)}};var ml=class extends rr{flush(r){this._active=!0;let t;r?t=r.id:(t=this._scheduled,this._scheduled=void 0);let{actions:n}=this,i;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while((r=n[0])&&r.id===t&&n.shift());if(this._active=!1,i){for(;(r=n[0])&&r.id===t&&n.shift();)r.unsubscribe();throw i}}};var dk=new ml(gl);function Rt(e,r){let t=G(e)?e:()=>e,n=i=>i.error(t());return new V(r?i=>r.schedule(n,0,i):n)}var li=class e{constructor(r,t,n){this.kind=r,this.value=t,this.error=n,this.hasValue=r==="N"}observe(r){return cv(this,r)}do(r,t,n){let{kind:i,value:o,error:s}=this;return i==="N"?r?.(o):i==="E"?t?.(s):n?.()}accept(r,t,n){var i;return G((i=r)===null||i===void 0?void 0:i.next)?this.observe(r):this.do(r,t,n)}toObservable(){let{kind:r,value:t,error:n}=this,i=r==="N"?D(t):r==="E"?Rt(()=>n):r==="C"?ce:0;if(!i)throw new TypeError(`Unexpected notification kind ${r}`);return i}static createNext(r){return new e("N",r)}static createError(r){return new e("E",void 0,r)}static createComplete(){return e.completeNotification}};li.completeNotification=new li("C");function cv(e,r){var t,n,i;let{kind:o,value:s,error:a}=e;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(t=r.next)===null||t===void 0||t.call(r,s):o==="E"?(n=r.error)===null||n===void 0||n.call(r,a):(i=r.complete)===null||i===void 0||i.call(r)}function Ui(e){return!!e&&(e instanceof V||G(e.lift)&&G(e.subscribe))}function cr(e,r){let t=typeof r=="object";return new Promise((n,i)=>{let o=!1,s;e.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?n(s):t?n(r.defaultValue):i(new Nn)}})})}var vl=si(e=>function(t=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function ba(e,r){let{first:t,each:n,with:i=fk,scheduler:o=r??tn,meta:s=null}=cl(e)?{first:e}:typeof e=="number"?{each:e}:e;if(t==null&&n==null)throw new TypeError("No timeout provided.");return L((a,c)=>{let u,l,f=null,h=0,p=E=>{l=pt(c,o,()=>{try{u.unsubscribe(),H(i({meta:s,lastValue:f,seen:h})).subscribe(c)}catch(I){c.error(I)}},E)};u=a.subscribe(O(c,E=>{l?.unsubscribe(),h++,c.next(f=E),n>0&&p(n)},void 0,void 0,()=>{l?.closed||l?.unsubscribe(),f=null})),!h&&p(t!=null?typeof t=="number"?t:+t-o.now():n)})}function fk(e){throw new vl(e)}function je(e){return new V(r=>{H(e()).subscribe(r)})}var hk={connector:()=>new oe,resetOnDisconnect:!0};function yl(e,r=hk){let t=null,{connector:n,resetOnDisconnect:i=!0}=r,o=n(),s=new V(a=>o.subscribe(a));return s.connect=()=>((!t||t.closed)&&(t=je(()=>e).subscribe(o),i&&t.add(()=>o=n())),t),s}function Ko(...e){let r=ai(e),{args:t,keys:n}=ol(e),i=new V(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let f=!1;H(t[l]).subscribe(O(o,h=>{f||(f=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!f)&&(u||o.next(n?sl(n,a):a),o.complete())}))}});return r?i.pipe(zo(r)):i}var pk=["addListener","removeListener"],gk=["addEventListener","removeEventListener"],mk=["on","off"];function Ta(e,r,t,n){if(G(t)&&(n=t,t=void 0),n)return Ta(e,r,t).pipe(zo(n));let[i,o]=Ek(e)?gk.map(s=>a=>e[s](r,a,t)):vk(e)?pk.map(qb(e,r)):yk(e)?mk.map(qb(e,r)):[];if(!i&&Ho(e))return $(s=>Ta(s,r,t))(H(e));if(!i)throw new TypeError("Invalid event target");return new V(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function qb(e,r){return t=>n=>e[t](r,n)}function vk(e){return G(e.addListener)&&G(e.removeListener)}function yk(e){return G(e.on)&&G(e.off)}function Ek(e){return G(e.addEventListener)&&G(e.removeEventListener)}function Ra(e,r,t){return je(()=>e()?r:t)}function Sk(e=0,r=tn){return e<0&&(e=0),nn(e,e,r)}var uv=new V(Tt);var{isArray:Ck}=Array;function El(e){return e.length===1&&Ck(e[0])?e[0]:e}function lv(...e){return e=El(e),e.length===1?H(e[0]):new V(Ik(e))}function Ik(e){return r=>{let t=[];for(let n=0;t&&!r.closed&&n<e.length;n++)t.push(H(e[n]).subscribe(O(r,i=>{if(t){for(let o=0;o<t.length;o++)o!==n&&t[o].unsubscribe();t=null}r.next(i)})))}}function di(e,r){return new V(t=>{let n=e(),i=r(n);return(i?H(i):ce).subscribe(t),()=>{n&&n.unsubscribe()}})}function ji(...e){let r=ai(e),t=El(e);return t.length?new V(n=>{let i=t.map(()=>[]),o=t.map(()=>!1);n.add(()=>{i=o=null});for(let s=0;!n.closed&&s<t.length;s++)H(t[s]).subscribe(O(n,a=>{if(i[s].push(a),i.every(c=>c.length)){let c=i.map(u=>u.shift());n.next(r?r(...c):c),i.some((u,l)=>!u.length&&o[l])&&n.complete()}},()=>{o[s]=!0,!i[s].length&&n.complete()}));return()=>{i=o=null}}):ce}function Aa(e){return L((r,t)=>{let n=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let u=i;i=null,t.next(u)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};r.subscribe(O(t,u=>{n=!0,i=u,o||H(e(u)).subscribe(o=O(t,a,c))},()=>{s=!0,(!n||!o||o.closed)&&t.complete()}))})}function Zo(e,r=tn){return Aa(()=>nn(e,r))}function _a(e,r=null){return r=r??e,L((t,n)=>{let i=[],o=0;t.subscribe(O(n,s=>{let a=null;o++%r===0&&i.push([]);for(let c of i)c.push(s),e<=c.length&&(a=a??[],a.push(c));if(a)for(let c of a)Pr(i,c),n.next(c)},()=>{for(let s of i)n.next(s);n.complete()},void 0,()=>{i=null}))})}function Yb(e,r,t,n,i){return(o,s)=>{let a=t,c=r,u=0;o.subscribe(O(s,l=>{let f=u++;c=a?e(c,l,f):(a=!0,l),n&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Te(e,r){return G(r)?$(e,r,1):$(e,1)}function $i(e,r=tn){return L((t,n)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,n.next(u)}};function c(){let u=s+e,l=r.now();if(l<u){i=this.schedule(void 0,u-l),n.add(i);return}a()}t.subscribe(O(n,u=>{o=u,s=r.now(),i||(i=r.schedule(c,e),n.add(i))},()=>{a(),n.complete()},void 0,()=>{o=i=null}))})}function dv(){return L((e,r)=>{e.subscribe(O(r,t=>cv(t,r)))})}function Dk(...e){return r=>or(r,D(...e))}function wk(e,r){return L((t,n)=>{let i=0;t.subscribe(O(n,o=>{e.call(r,o,i++,t)||(n.next(!1),n.complete())},()=>{n.next(!0),n.complete()}))})}function ur(e,r){return r?t=>t.pipe(ur((n,i)=>H(e(n,i)).pipe(S((o,s)=>r(n,o,i,s))))):L((t,n)=>{let i=0,o=null,s=!1;t.subscribe(O(n,a=>{o||(o=O(n,void 0,()=>{o=null,s&&n.complete()}),H(e(a,i++)).subscribe(o))},()=>{s=!0,!o&&n.complete()}))})}function On(e){return L((r,t)=>{try{r.subscribe(t)}finally{t.add(e)}})}function lr(e,r,t,n){return L((i,o)=>{let s;!r||typeof r=="function"?s=r:{duration:t,element:s,connector:n}=r;let a=new Map,c=E=>{a.forEach(E),E(o)},u=E=>c(I=>I.error(E)),l=0,f=!1,h=new Ca(o,E=>{try{let I=e(E),b=a.get(I);if(!b){a.set(I,b=n?n():new oe);let x=p(I,b);if(o.next(x),t){let N=O(b,()=>{b.complete(),N?.unsubscribe()},void 0,void 0,()=>a.delete(I));h.add(H(t(x)).subscribe(N))}}b.next(s?s(E):E)}catch(I){u(I)}},()=>c(E=>E.complete()),u,()=>a.clear(),()=>(f=!0,l===0));i.subscribe(h);function p(E,I){let b=new V(x=>{l++;let N=I.subscribe(x);return()=>{N.unsubscribe(),--l===0&&f&&h.unsubscribe()}});return b.key=E,b}})}function Qo(e){return e<=0?()=>ce:L((r,t)=>{let n=[];r.subscribe(O(t,i=>{n.push(i),e<n.length&&n.shift()},()=>{for(let i of n)t.next(i);t.complete()},void 0,()=>{n=null}))})}function fv(e,r){let t=arguments.length>=2;return n=>n.pipe(e?R((i,o)=>e(i,o,n)):Ge,Qo(1),t?ci(r):ll(()=>new Nn))}function hv(){return L((e,r)=>{e.subscribe(O(r,t=>{r.next(li.createNext(t))},()=>{r.next(li.createComplete()),r.complete()},t=>{r.next(li.createError(t)),r.complete()}))})}function Ma(){return L((e,r)=>{let t,n=!1;e.subscribe(O(r,i=>{let o=t;t=i,n&&r.next([o,i]),n=!0}))})}function pv(...e){let r=e.length;if(r===0)throw new Error("list of properties cannot be empty.");return S(t=>{let n=t;for(let i=0;i<r;i++){let o=n?.[e[i]];if(typeof o<"u")n=o;else return}return n})}function gv(e=1/0){let r;e&&typeof e=="object"?r=e:r={count:e};let{count:t=1/0,delay:n,resetOnSuccess:i=!1}=r;return t<=0?Ge:L((o,s)=>{let a=0,c,u=()=>{let l=!1;c=o.subscribe(O(s,f=>{i&&(a=0),s.next(f)},void 0,f=>{if(a++<t){let h=()=>{c?(c.unsubscribe(),c=null,u()):l=!0};if(n!=null){let p=typeof n=="number"?nn(n):H(n(f,a)),E=O(s,()=>{E.unsubscribe(),h()},()=>{s.complete()});p.subscribe(E)}else h()}else s.error(f)})),l&&(c.unsubscribe(),c=null,u())};u()})}function Bi(e,r){return L(Yb(e,r,arguments.length>=2,!0))}function Sl(e){return L((r,t)=>{let n=!1,i=0;r.subscribe(O(t,o=>(n||(n=!e(o,i++)))&&t.next(o)))})}function Vi(e){return L((r,t)=>{H(e).subscribe(O(t,()=>t.complete(),Tt)),!t.closed&&r.subscribe(t)})}function Kb(e,r){return L((t,n)=>{let{leading:i=!0,trailing:o=!1}=r??{},s=!1,a=null,c=null,u=!1,l=()=>{c?.unsubscribe(),c=null,o&&(p(),u&&n.complete())},f=()=>{c=null,u&&n.complete()},h=E=>c=H(e(E)).subscribe(O(n,l,f)),p=()=>{if(s){s=!1;let E=a;a=null,n.next(E),!u&&h(E)}};t.subscribe(O(n,E=>{s=!0,a=E,!(c&&!c.closed)&&(i?p():h(E))},()=>{u=!0,!(o&&s&&c&&!c.closed)&&n.complete()}))})}function bk(e,r=tn,t){let n=nn(e,r);return Kb(()=>n,t)}function Xe(...e){let r=ai(e);return L((t,n)=>{let i=e.length,o=new Array(i),s=e.map(()=>!1),a=!1;for(let c=0;c<i;c++)H(e[c]).subscribe(O(n,u=>{o[c]=u,!a&&!s[c]&&(s[c]=!0,(a=s.every(Ge))&&(s=null))},Tt));t.subscribe(O(n,c=>{if(a){let u=[c,...o];n.next(r?r(...u):u)}}))})}function Ev(e,r){return Object.is(e,r)}var We=null,Cl=!1,Sv=1,mn=Symbol("SIGNAL");function ne(e){let r=We;return We=e,r}function Cv(){return We}var Xo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Oa(e){if(Cl)throw new Error("");if(We===null)return;We.consumerOnSignalRead(e);let r=We.nextProducerIndex++;if(Tl(We),r<We.producerNode.length&&We.producerNode[r]!==e&&Na(We)){let t=We.producerNode[r];bl(t,We.producerIndexOfThis[r])}We.producerNode[r]!==e&&(We.producerNode[r]=e,We.producerIndexOfThis[r]=Na(We)?Qb(e,We,r):0),We.producerLastReadVersion[r]=e.version}function Zb(){Sv++}function Iv(e){if(!(Na(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Sv)){if(!e.producerMustRecompute(e)&&!wl(e)){yv(e);return}e.producerRecomputeValue(e),yv(e)}}function Dv(e){if(e.liveConsumerNode===void 0)return;let r=Cl;Cl=!0;try{for(let t of e.liveConsumerNode)t.dirty||Tk(t)}finally{Cl=r}}function wv(){return We?.consumerAllowSignalWrites!==!1}function Tk(e){e.dirty=!0,Dv(e),e.consumerMarkedDirty?.(e)}function yv(e){e.dirty=!1,e.lastCleanEpoch=Sv}function xa(e){return e&&(e.nextProducerIndex=0),ne(e)}function Dl(e,r){if(ne(r),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Na(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)bl(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function wl(e){Tl(e);for(let r=0;r<e.producerNode.length;r++){let t=e.producerNode[r],n=e.producerLastReadVersion[r];if(n!==t.version||(Iv(t),n!==t.version))return!0}return!1}function Pa(e){if(Tl(e),Na(e))for(let r=0;r<e.producerNode.length;r++)bl(e.producerNode[r],e.producerIndexOfThis[r]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Qb(e,r,t){if(Xb(e),e.liveConsumerNode.length===0&&Jb(e))for(let n=0;n<e.producerNode.length;n++)e.producerIndexOfThis[n]=Qb(e.producerNode[n],e,n);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(r)-1}function bl(e,r){if(Xb(e),e.liveConsumerNode.length===1&&Jb(e))for(let n=0;n<e.producerNode.length;n++)bl(e.producerNode[n],e.producerIndexOfThis[n]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[r]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[r]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,r<e.liveConsumerNode.length){let n=e.liveConsumerIndexOfThis[r],i=e.liveConsumerNode[r];Tl(i),i.producerIndexOfThis[n]=r}}function Na(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Tl(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Xb(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Jb(e){return e.producerNode!==void 0}function bv(e,r){let t=Object.create(Rk);t.computation=e,r!==void 0&&(t.equal=r);let n=()=>{if(Iv(t),Oa(t),t.value===Il)throw t.error;return t.value};return n[mn]=t,n}var mv=Symbol("UNSET"),vv=Symbol("COMPUTING"),Il=Symbol("ERRORED"),Rk=w(v({},Xo),{value:mv,dirty:!0,error:null,equal:Ev,kind:"computed",producerMustRecompute(e){return e.value===mv||e.value===vv},producerRecomputeValue(e){if(e.value===vv)throw new Error("Detected cycle in computations.");let r=e.value;e.value=vv;let t=xa(e),n,i=!1;try{n=e.computation(),ne(null),i=r!==mv&&r!==Il&&n!==Il&&e.equal(r,n)}catch(o){n=Il,e.error=o}finally{Dl(e,t)}if(i){e.value=r;return}e.value=n,e.version++}});function Ak(){throw new Error}var eT=Ak;function tT(e){eT(e)}function Tv(e){eT=e}var _k=null;function Rv(e,r){let t=Object.create(Rl);t.value=e,r!==void 0&&(t.equal=r);let n=()=>(Oa(t),t.value);return n[mn]=t,n}function Fa(e,r){wv()||tT(e),e.equal(e.value,r)||(e.value=r,Mk(e))}function Av(e,r){wv()||tT(e),Fa(e,r(e.value))}var Rl=w(v({},Xo),{equal:Ev,value:void 0,kind:"signal"});function Mk(e){e.version++,Zb(),Dv(e),_k?.()}function _v(e){let r=ne(null);try{return e()}finally{ne(r)}}var Mv;function La(){return Mv}function Lr(e){let r=Mv;return Mv=e,r}var Al=Symbol("NotFound");var ZT="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",P=class extends Error{code;constructor(r,t){super(tE(r,t)),this.code=r}};function Pk(e){return`NG0${Math.abs(e)}`}function tE(e,r){return`${Pk(e)}${r?": "+r:""}`}var QT=Symbol("InputSignalNode#UNSET"),Fk=w(v({},Rl),{transformFn:void 0,applyValueToInputSignal(e,r){Fa(e,r)}});function XT(e,r){let t=Object.create(Fk);t.value=e,t.transformFn=r?.transform;function n(){if(Oa(t),t.value===QT){let i=null;throw new P(-950,i)}return t.value}return n[mn]=t,n}function Za(e){return{toString:e}.toString()}var _l="__parameters__";function Lk(e){return function(...t){if(e){let n=e(...t);for(let i in n)this[i]=n[i]}}}function nE(e,r,t){return Za(()=>{let n=Lk(r);function i(...o){if(this instanceof i)return n.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let f=c.hasOwnProperty(_l)?c[_l]:Object.defineProperty(c,_l,{value:[]})[_l];for(;f.length<=l;)f.push(null);return(f[l]=f[l]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Je=globalThis;function Se(e){for(let r in e)if(e[r]===Se)return r;throw Error("Could not find renamed property on target object.")}function kk(e,r){for(let t in r)r.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function $t(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map($t).join(", ")}]`;if(e==null)return""+e;let r=e.overriddenName||e.name;if(r)return`${r}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n>=0?t.slice(0,n):t}function Wv(e,r){return e?r?`${e} ${r}`:e:r||""}var Uk=Se({__forward_ref__:Se});function JT(e){return e.__forward_ref__=JT,e.toString=function(){return $t(this())},e}function At(e){return eR(e)?e():e}function eR(e){return typeof e=="function"&&e.hasOwnProperty(Uk)&&e.__forward_ref__===JT}function g(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function k(e){return{providers:e.providers||[],imports:e.imports||[]}}function gd(e){return nT(e,nR)||nT(e,rR)}function tR(e){return gd(e)!==null}function nT(e,r){return e.hasOwnProperty(r)?e[r]:null}function jk(e){let r=e&&(e[nR]||e[rR]);return r||null}function rT(e){return e&&(e.hasOwnProperty(iT)||e.hasOwnProperty($k))?e[iT]:null}var nR=Se({\u0275prov:Se}),iT=Se({\u0275inj:Se}),rR=Se({ngInjectableDef:Se}),$k=Se({ngInjectorDef:Se}),C=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(r,t){this._desc=r,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=g({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function iR(e){return e&&!!e.\u0275providers}var Bk=Se({\u0275cmp:Se}),Vk=Se({\u0275dir:Se}),Hk=Se({\u0275pipe:Se}),zk=Se({\u0275mod:Se}),$l=Se({\u0275fac:Se}),$a=Se({__NG_ELEMENT_ID__:Se}),oT=Se({__NG_ENV_ID__:Se});function pi(e){return typeof e=="string"?e:e==null?"":String(e)}function Gk(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():pi(e)}function oR(e,r){throw new P(-200,e)}function rE(e,r){throw new P(-201,!1)}var ee=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ee||{}),qv;function sR(){return qv}function Ut(e){let r=qv;return qv=e,r}function aR(e,r,t){let n=gd(e);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(t&ee.Optional)return null;if(r!==void 0)return r;rE(e,"Injector")}var Wk={},zi=Wk,Yv="__NG_DI_FLAG__",Bl=class{injector;constructor(r){this.injector=r}retrieve(r,t){let n=t;return this.injector.get(r,n.optional?Al:zi,n)}},Vl="ngTempTokenPath",qk="ngTokenPath",Yk=/\n/gm,Kk="\u0275",sT="__source";function Zk(e,r=ee.Default){if(La()===void 0)throw new P(-203,!1);if(La()===null)return aR(e,void 0,r);{let t=La(),n;return t instanceof Bl?n=t.injector:n=t,n.get(e,r&ee.Optional?null:void 0,r)}}function d(e,r=ee.Default){return(sR()||Zk)(At(e),r)}function y(e,r=ee.Default){return d(e,md(r))}function md(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Kv(e){let r=[];for(let t=0;t<e.length;t++){let n=At(e[t]);if(Array.isArray(n)){if(n.length===0)throw new P(900,!1);let i,o=ee.Default;for(let s=0;s<n.length;s++){let a=n[s],c=Qk(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}r.push(d(i,o))}else r.push(d(n))}return r}function iE(e,r){return e[Yv]=r,e.prototype[Yv]=r,e}function Qk(e){return e[Yv]}function Xk(e,r,t,n){let i=e[Vl];throw r[sT]&&i.unshift(r[sT]),e.message=Jk(`
`+e.message,i,t,n),e[qk]=i,e[Vl]=null,e}function Jk(e,r,t,n=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Kk?e.slice(2):e;let i=$t(r);if(Array.isArray(r))i=r.map($t).join(" -> ");else if(typeof r=="object"){let o=[];for(let s in r)if(r.hasOwnProperty(s)){let a=r[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):$t(a)))}i=`{${o.join(", ")}}`}return`${t}${n?"("+n+")":""}[${i}]: ${e.replace(Yk,`
  `)}`}var oE=iE(nE("Inject",e=>({token:e})),-1),mr=iE(nE("Optional"),8);var cR=iE(nE("SkipSelf"),4);function Wi(e,r){let t=e.hasOwnProperty($l);return t?e[$l]:null}function eU(e,r,t){if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],o=r[n];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function tU(e){return e.flat(Number.POSITIVE_INFINITY)}function sE(e,r){e.forEach(t=>Array.isArray(t)?sE(t,r):r(t))}function uR(e,r,t){r>=e.length?e.push(t):e.splice(r,0,t)}function Hl(e,r){return r>=e.length-1?e.pop():e.splice(r,1)[0]}function nU(e,r){let t=[];for(let n=0;n<e;n++)t.push(r);return t}function rU(e,r,t,n){let i=e.length;if(i==r)e.push(t,n);else if(i===1)e.push(n,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>r;){let o=i-2;e[i]=e[o],i--}e[r]=t,e[r+1]=n}}function Qa(e,r,t){let n=Xa(e,r);return n>=0?e[n|1]=t:(n=~n,rU(e,n,r,t)),n}function Nv(e,r){let t=Xa(e,r);if(t>=0)return e[t|1]}function Xa(e,r){return iU(e,r,1)}function iU(e,r,t){let n=0,i=e.length>>t;for(;i!==n;){let o=n+(i-n>>1),s=e[o<<t];if(r===s)return o<<t;s>r?i=o:n=o+1}return~(i<<t)}var qi={},jt=[],Yi=new C(""),lR=new C("",-1),dR=new C(""),zl=class{get(r,t=zi){if(t===zi){let n=new Error(`NullInjectorError: No provider for ${$t(r)}!`);throw n.name="NullInjectorError",n}return t}};function fR(e,r){let t=e[zk]||null;if(!t&&r===!0)throw new Error(`Type ${$t(e)} does not have '\u0275mod' property.`);return t}function Ki(e){return e[Bk]||null}function oU(e){return e[Vk]||null}function sU(e){return e[Hk]||null}function yn(e){return{\u0275providers:e}}function ms(e){return yn([{provide:Yi,multi:!0,useValue:e}])}function aU(...e){return{\u0275providers:hR(!0,e),\u0275fromNgModule:!0}}function hR(e,...r){let t=[],n=new Set,i,o=s=>{t.push(s)};return sE(r,s=>{let a=s;Zv(a,o,[],n)&&(i||=[],i.push(a))}),i!==void 0&&pR(i,o),t}function pR(e,r){for(let t=0;t<e.length;t++){let{ngModule:n,providers:i}=e[t];aE(i,o=>{r(o,n)})}}function Zv(e,r,t,n){if(e=At(e),!e)return!1;let i=null,o=rT(e),s=!o&&Ki(e);if(!o&&!s){let c=e.ngModule;if(o=rT(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=n.has(i);if(s){if(a)return!1;if(n.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Zv(u,r,t,n)}}else if(o){if(o.imports!=null&&!a){n.add(i);let u;try{sE(o.imports,l=>{Zv(l,r,t,n)&&(u||=[],u.push(l))})}finally{}u!==void 0&&pR(u,r)}if(!a){let u=Wi(i)||(()=>new i);r({provide:i,useFactory:u,deps:jt},i),r({provide:dR,useValue:i,multi:!0},i),r({provide:Yi,useValue:()=>d(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=e;aE(c,l=>{r(l,u)})}}else return!1;return i!==e&&e.providers!==void 0}function aE(e,r){for(let t of e)iR(t)&&(t=t.\u0275providers),Array.isArray(t)?aE(t,r):r(t)}var cU=Se({provide:String,useValue:Se});function gR(e){return e!==null&&typeof e=="object"&&cU in e}function uU(e){return!!(e&&e.useExisting)}function lU(e){return!!(e&&e.useFactory)}function os(e){return typeof e=="function"}function dU(e){return!!e.useClass}var vd=new C(""),Fl={},aT={},Ov;function cE(){return Ov===void 0&&(Ov=new zl),Ov}var mt=class{},Va=class extends mt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(r,t,n,i){super(),this.parent=t,this.source=n,this.scopes=i,Xv(r,s=>this.processProvider(s)),this.records.set(lR,Jo(void 0,this)),i.has("environment")&&this.records.set(mt,Jo(void 0,this));let o=this.records.get(vd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(dR,jt,ee.Self))}retrieve(r,t){let n=t;return this.get(r,n.optional?Al:zi,n)}destroy(){Ua(this),this._destroyed=!0;let r=ne(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(r)}}onDestroy(r){return Ua(this),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){Ua(this);let t=Lr(this),n=Ut(void 0),i;try{return r()}finally{Lr(t),Ut(n)}}get(r,t=zi,n=ee.Default){if(Ua(this),r.hasOwnProperty(oT))return r[oT](this);n=md(n);let i,o=Lr(this),s=Ut(void 0);try{if(!(n&ee.SkipSelf)){let c=this.records.get(r);if(c===void 0){let u=mU(r)&&gd(r);u&&this.injectableDefInScope(u)?c=Jo(Qv(r),Fl):c=null,this.records.set(r,c)}if(c!=null)return this.hydrate(r,c,n)}let a=n&ee.Self?cE():this.parent;return t=n&ee.Optional&&t===zi?null:t,a.get(r,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Vl]=a[Vl]||[]).unshift($t(r)),o)throw a;return Xk(a,r,"R3InjectorError",this.source)}else throw a}finally{Ut(s),Lr(o)}}resolveInjectorInitializers(){let r=ne(null),t=Lr(this),n=Ut(void 0),i;try{let o=this.get(Yi,jt,ee.Self);for(let s of o)s()}finally{Lr(t),Ut(n),ne(r)}}toString(){let r=[],t=this.records;for(let n of t.keys())r.push($t(n));return`R3Injector[${r.join(", ")}]`}processProvider(r){r=At(r);let t=os(r)?r:At(r&&r.provide),n=hU(r);if(!os(r)&&r.multi===!0){let i=this.records.get(t);i||(i=Jo(void 0,Fl,!0),i.factory=()=>Kv(i.multi),this.records.set(t,i)),t=r,i.multi.push(r)}this.records.set(t,n)}hydrate(r,t,n){let i=ne(null);try{return t.value===aT?oR($t(r)):t.value===Fl&&(t.value=aT,t.value=t.factory(void 0,n)),typeof t.value=="object"&&t.value&&gU(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ne(i)}}injectableDefInScope(r){if(!r.providedIn)return!1;let t=At(r.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(r){let t=this._onDestroyHooks.indexOf(r);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Qv(e){let r=gd(e),t=r!==null?r.factory:Wi(e);if(t!==null)return t;if(e instanceof C)throw new P(204,!1);if(e instanceof Function)return fU(e);throw new P(204,!1)}function fU(e){if(e.length>0)throw new P(204,!1);let t=jk(e);return t!==null?()=>t.factory(e):()=>new e}function hU(e){if(gR(e))return Jo(void 0,e.useValue);{let r=mR(e);return Jo(r,Fl)}}function mR(e,r,t){let n;if(os(e)){let i=At(e);return Wi(i)||Qv(i)}else if(gR(e))n=()=>At(e.useValue);else if(lU(e))n=()=>e.useFactory(...Kv(e.deps||[]));else if(uU(e))n=(i,o)=>d(At(e.useExisting),o!==void 0&&o&ee.Optional?ee.Optional:void 0);else{let i=At(e&&(e.useClass||e.provide));if(pU(e))n=()=>new i(...Kv(e.deps));else return Wi(i)||Qv(i)}return n}function Ua(e){if(e.destroyed)throw new P(205,!1)}function Jo(e,r,t=!1){return{factory:e,value:r,multi:t?[]:void 0}}function pU(e){return!!e.deps}function gU(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function mU(e){return typeof e=="function"||typeof e=="object"&&e instanceof C}function Xv(e,r){for(let t of e)Array.isArray(t)?Xv(t,r):t&&iR(t)?Xv(t.\u0275providers,r):r(t)}function Ht(e,r){let t;e instanceof Va?(Ua(e),t=e):t=new Bl(e);let n,i=Lr(t),o=Ut(void 0);try{return r()}finally{Lr(i),Ut(o)}}function uE(){return sR()!==void 0||La()!=null}function oo(e){if(!uE())throw new P(-203,!1)}function vU(e){let r=Je.ng;if(r&&r.\u0275compilerFacade)return r.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function yU(e){return typeof e=="function"}var Vr=0,X=1,K=2,vt=3,Pn=4,zt=5,ss=6,Gl=7,$e=8,as=9,kr=10,_e=11,Ha=12,cT=13,vs=14,Bt=15,Zi=16,es=17,Ur=18,yd=19,vR=20,fi=21,xv=22,Qi=23,vn=24,rs=25,Le=26,yR=1;var Xi=7,Wl=8,cs=9,gt=10;function hi(e){return Array.isArray(e)&&typeof e[yR]=="object"}function Hr(e){return Array.isArray(e)&&e[yR]===!0}function lE(e){return(e.flags&4)!==0}function ys(e){return e.componentOffset>-1}function Ed(e){return(e.flags&1)===1}function fr(e){return!!e.template}function ql(e){return(e[K]&512)!==0}function Es(e){return(e[K]&256)===256}var Jv=class{previousValue;currentValue;firstChange;constructor(r,t,n){this.previousValue=r,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}};function ER(e,r,t,n){r!==null?r.applyValueToInputSignal(r,n):e[t]=n}var vi=(()=>{let e=()=>SR;return e.ngInherit=!0,e})();function SR(e){return e.type.prototype.ngOnChanges&&(e.setInput=SU),EU}function EU(){let e=IR(this),r=e?.current;if(r){let t=e.previous;if(t===qi)e.previous=r;else for(let n in r)t[n]=r[n];e.current=null,this.ngOnChanges(r)}}function SU(e,r,t,n,i){let o=this.declaredInputs[n],s=IR(e)||CU(e,{previous:qi,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Jv(u&&u.currentValue,t,c===qi),ER(e,r,i,t)}var CR="__ngSimpleChanges__";function IR(e){return e[CR]||null}function CU(e,r){return e[CR]=r}var uT=null;var Ie=function(e,r=null,t){uT?.(e,r,t)},IU="svg",DU="math";function hr(e){for(;Array.isArray(e);)e=e[Vr];return e}function DR(e,r){return hr(r[e])}function vr(e,r){return hr(r[e.index])}function dE(e,r){return e.data[r]}function Ja(e,r){return e[r]}function wU(e,r,t,n){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),r[t]=n}function pr(e,r){let t=r[e];return hi(t)?t:t[Vr]}function bU(e){return(e[K]&4)===4}function fE(e){return(e[K]&128)===128}function TU(e){return Hr(e[vt])}function gi(e,r){return r==null?null:e[r]}function wR(e){e[es]=0}function bR(e){e[K]&1024||(e[K]|=1024,fE(e)&&Ss(e))}function RU(e,r){for(;e>0;)r=r[vs],e--;return r}function Sd(e){return!!(e[K]&9216||e[vn]?.dirty)}function ey(e){e[kr].changeDetectionScheduler?.notify(8),e[K]&64&&(e[K]|=1024),Sd(e)&&Ss(e)}function Ss(e){e[kr].changeDetectionScheduler?.notify(0);let r=Ji(e);for(;r!==null&&!(r[K]&8192||(r[K]|=8192,!fE(r)));)r=Ji(r)}function TR(e,r){if(Es(e))throw new P(911,!1);e[fi]===null&&(e[fi]=[]),e[fi].push(r)}function AU(e,r){if(e[fi]===null)return;let t=e[fi].indexOf(r);t!==-1&&e[fi].splice(t,1)}function Ji(e){let r=e[vt];return Hr(r)?r[vt]:r}function hE(e){return e[Gl]??=[]}function pE(e){return e.cleanup??=[]}function _U(e,r,t,n){let i=hE(r);i.push(t),e.firstCreatePass&&pE(e).push(n,i.length-1)}var re={lFrame:xR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ty=!1;function MU(){return re.lFrame.elementDepthCount}function NU(){re.lFrame.elementDepthCount++}function OU(){re.lFrame.elementDepthCount--}function gE(){return re.bindingsEnabled}function RR(){return re.skipHydrationRootTNode!==null}function xU(e){return re.skipHydrationRootTNode===e}function PU(){re.skipHydrationRootTNode=null}function z(){return re.lFrame.lView}function Me(){return re.lFrame.tView}function aae(e){return re.lFrame.contextLView=e,e[$e]}function cae(e){return re.lFrame.contextLView=null,e}function yt(){let e=AR();for(;e!==null&&e.type===64;)e=e.parent;return e}function AR(){return re.lFrame.currentTNode}function FU(){let e=re.lFrame,r=e.currentTNode;return e.isParent?r:r.parent}function so(e,r){let t=re.lFrame;t.currentTNode=e,t.isParent=r}function mE(){return re.lFrame.isParent}function vE(){re.lFrame.isParent=!1}function LU(){return re.lFrame.contextLView}function _R(){return ty}function Yl(e){let r=ty;return ty=e,r}function En(){let e=re.lFrame,r=e.bindingRootIndex;return r===-1&&(r=e.bindingRootIndex=e.tView.bindingStartIndex),r}function kU(){return re.lFrame.bindingIndex}function UU(e){return re.lFrame.bindingIndex=e}function ao(){return re.lFrame.bindingIndex++}function yE(e){let r=re.lFrame,t=r.bindingIndex;return r.bindingIndex=r.bindingIndex+e,t}function jU(){return re.lFrame.inI18n}function $U(e,r){let t=re.lFrame;t.bindingIndex=t.bindingRootIndex=e,ny(r)}function BU(){return re.lFrame.currentDirectiveIndex}function ny(e){re.lFrame.currentDirectiveIndex=e}function VU(e){let r=re.lFrame.currentDirectiveIndex;return r===-1?null:e[r]}function MR(){return re.lFrame.currentQueryIndex}function EE(e){re.lFrame.currentQueryIndex=e}function HU(e){let r=e[X];return r.type===2?r.declTNode:r.type===1?e[zt]:null}function NR(e,r,t){if(t&ee.SkipSelf){let i=r,o=e;for(;i=i.parent,i===null&&!(t&ee.Host);)if(i=HU(o),i===null||(o=o[vs],i.type&10))break;if(i===null)return!1;r=i,e=o}let n=re.lFrame=OR();return n.currentTNode=r,n.lView=e,!0}function SE(e){let r=OR(),t=e[X];re.lFrame=r,r.currentTNode=t.firstChild,r.lView=e,r.tView=t,r.contextLView=e,r.bindingIndex=t.bindingStartIndex,r.inI18n=!1}function OR(){let e=re.lFrame,r=e===null?null:e.child;return r===null?xR(e):r}function xR(e){let r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=r),r}function PR(){let e=re.lFrame;return re.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var FR=PR;function CE(){let e=PR();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function zU(e){return(re.lFrame.contextLView=RU(e,re.lFrame.contextLView))[$e]}function zr(){return re.lFrame.selectedIndex}function eo(e){re.lFrame.selectedIndex=e}function ec(){let e=re.lFrame;return dE(e.tView,e.selectedIndex)}function GU(){return re.lFrame.currentNamespace}var LR=!0;function Cd(){return LR}function Id(e){LR=e}function WU(e,r,t){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=r.type.prototype;if(n){let s=SR(r);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function IE(e,r){for(let t=r.directiveStart,n=r.directiveEnd;t<n;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),u&&((e.viewHooks??=[]).push(t,u),(e.viewCheckHooks??=[]).push(t,u)),l!=null&&(e.destroyHooks??=[]).push(t,l)}}function Ll(e,r,t){kR(e,r,3,t)}function kl(e,r,t,n){(e[K]&3)===t&&kR(e,r,t,n)}function Pv(e,r){let t=e[K];(t&3)===r&&(t&=16383,t+=1,e[K]=t)}function kR(e,r,t,n){let i=n!==void 0?e[es]&65535:0,o=n??-1,s=r.length-1,a=0;for(let c=i;c<s;c++)if(typeof r[c+1]=="number"){if(a=r[c],n!=null&&a>=n)break}else r[c]<0&&(e[es]+=65536),(a<o||o==-1)&&(qU(e,t,r,c),e[es]=(e[es]&4294901760)+c+2),c++}function lT(e,r){Ie(4,e,r);let t=ne(null);try{r.call(e)}finally{ne(t),Ie(5,e,r)}}function qU(e,r,t,n){let i=t[n]<0,o=t[n+1],s=i?-t[n]:t[n],a=e[s];i?e[K]>>14<e[es]>>16&&(e[K]&3)===r&&(e[K]+=16384,lT(a,o)):lT(a,o)}var is=-1,to=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(r,t,n){this.factory=r,this.canSeeViewProviders=t,this.injectImpl=n}};function YU(e){return(e.flags&8)!==0}function KU(e){return(e.flags&16)!==0}function ZU(e,r,t){let n=0;for(;n<t.length;){let i=t[n];if(typeof i=="number"){if(i!==0)break;n++;let o=t[n++],s=t[n++],a=t[n++];e.setAttribute(r,s,a,o)}else{let o=i,s=t[++n];QU(o)?e.setProperty(r,o,s):e.setAttribute(r,o,s),n++}}return n}function UR(e){return e===3||e===4||e===6}function QU(e){return e.charCodeAt(0)===64}function us(e,r){if(!(r===null||r.length===0))if(e===null||e.length===0)e=r.slice();else{let t=-1;for(let n=0;n<r.length;n++){let i=r[n];typeof i=="number"?t=i:t===0||(t===-1||t===2?dT(e,t,i,null,r[++n]):dT(e,t,i,null,null))}}return e}function dT(e,r,t,n,i){let o=0,s=e.length;if(r===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===r){s=-1;break}else if(a>r){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,r),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function jR(e){return e!==is}function Kl(e){return e&32767}function XU(e){return e>>16}function Zl(e,r){let t=XU(e),n=r;for(;t>0;)n=n[vs],t--;return n}var ry=!0;function Ql(e){let r=ry;return ry=e,r}var JU=256,$R=JU-1,BR=5,ej=0,dr={};function tj(e,r,t){let n;typeof t=="string"?n=t.charCodeAt(0)||0:t.hasOwnProperty($a)&&(n=t[$a]),n==null&&(n=t[$a]=ej++);let i=n&$R,o=1<<i;r.data[e+(i>>BR)]|=o}function Xl(e,r){let t=VR(e,r);if(t!==-1)return t;let n=r[X];n.firstCreatePass&&(e.injectorIndex=r.length,Fv(n.data,e),Fv(r,null),Fv(n.blueprint,null));let i=DE(e,r),o=e.injectorIndex;if(jR(i)){let s=Kl(i),a=Zl(i,r),c=a[X].data;for(let u=0;u<8;u++)r[o+u]=a[s+u]|c[s+u]}return r[o+8]=i,o}function Fv(e,r){e.push(0,0,0,0,0,0,0,0,r)}function VR(e,r){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||r[e.injectorIndex+8]===null?-1:e.injectorIndex}function DE(e,r){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,n=null,i=r;for(;i!==null;){if(n=qR(i),n===null)return is;if(t++,i=i[vs],n.injectorIndex!==-1)return n.injectorIndex|t<<16}return is}function iy(e,r,t){tj(e,r,t)}function nj(e,r){if(r==="class")return e.classes;if(r==="style")return e.styles;let t=e.attrs;if(t){let n=t.length,i=0;for(;i<n;){let o=t[i];if(UR(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<n&&typeof t[i]=="string";)i++;else{if(o===r)return t[i+1];i=i+2}}}return null}function HR(e,r,t){if(t&ee.Optional||e!==void 0)return e;rE(r,"NodeInjector")}function zR(e,r,t,n){if(t&ee.Optional&&n===void 0&&(n=null),(t&(ee.Self|ee.Host))===0){let i=e[as],o=Ut(void 0);try{return i?i.get(r,n,t&ee.Optional):aR(r,n,t&ee.Optional)}finally{Ut(o)}}return HR(n,r,t)}function GR(e,r,t,n=ee.Default,i){if(e!==null){if(r[K]&2048&&!(n&ee.Self)){let s=sj(e,r,t,n,dr);if(s!==dr)return s}let o=WR(e,r,t,n,dr);if(o!==dr)return o}return zR(r,t,n,i)}function WR(e,r,t,n,i){let o=ij(t);if(typeof o=="function"){if(!NR(r,e,n))return n&ee.Host?HR(i,t,n):zR(r,t,n,i);try{let s;if(s=o(n),s==null&&!(n&ee.Optional))rE(t);else return s}finally{FR()}}else if(typeof o=="number"){let s=null,a=VR(e,r),c=is,u=n&ee.Host?r[Bt][zt]:null;for((a===-1||n&ee.SkipSelf)&&(c=a===-1?DE(e,r):r[a+8],c===is||!hT(n,!1)?a=-1:(s=r[X],a=Kl(c),r=Zl(c,r)));a!==-1;){let l=r[X];if(fT(o,a,l.data)){let f=rj(a,r,t,s,n,u);if(f!==dr)return f}c=r[a+8],c!==is&&hT(n,r[X].data[a+8]===u)&&fT(o,a,r)?(s=l,a=Kl(c),r=Zl(c,r)):a=-1}}return i}function rj(e,r,t,n,i,o){let s=r[X],a=s.data[e+8],c=n==null?ys(a)&&ry:n!=s&&(a.type&3)!==0,u=i&ee.Host&&o===a,l=Ul(a,s,t,c,u);return l!==null?za(r,s,l,a,i):dr}function Ul(e,r,t,n,i){let o=e.providerIndexes,s=r.data,a=o&1048575,c=e.directiveStart,u=e.directiveEnd,l=o>>20,f=n?a:a+l,h=i?a+l:u;for(let p=f;p<h;p++){let E=s[p];if(p<c&&t===E||p>=c&&E.type===t)return p}if(i){let p=s[c];if(p&&fr(p)&&p.type===t)return c}return null}function za(e,r,t,n,i){let o=e[t],s=r.data;if(o instanceof to){let a=o;a.resolving&&oR(Gk(s[t]));let c=Ql(a.canSeeViewProviders);a.resolving=!0;let u,l=a.injectImpl?Ut(a.injectImpl):null,f=NR(e,n,ee.Default);try{o=e[t]=a.factory(void 0,i,s,e,n),r.firstCreatePass&&t>=n.directiveStart&&WU(t,s[t],r)}finally{l!==null&&Ut(l),Ql(c),a.resolving=!1,FR()}}return o}function ij(e){if(typeof e=="string")return e.charCodeAt(0)||0;let r=e.hasOwnProperty($a)?e[$a]:void 0;return typeof r=="number"?r>=0?r&$R:oj:r}function fT(e,r,t){let n=1<<e;return!!(t[r+(e>>BR)]&n)}function hT(e,r){return!(e&ee.Self)&&!(e&ee.Host&&r)}var Gi=class{_tNode;_lView;constructor(r,t){this._tNode=r,this._lView=t}get(r,t,n){return GR(this._tNode,this._lView,r,md(n),t)}};function oj(){return new Gi(yt(),z())}function ke(e){return Za(()=>{let r=e.prototype.constructor,t=r[$l]||oy(r),n=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==n;){let o=i[$l]||oy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function oy(e){return eR(e)?()=>{let r=oy(At(e));return r&&r()}:Wi(e)}function sj(e,r,t,n,i){let o=e,s=r;for(;o!==null&&s!==null&&s[K]&2048&&!ql(s);){let a=WR(o,s,t,n|ee.Self,dr);if(a!==dr)return a;let c=o.parent;if(!c){let u=s[vR];if(u){let l=u.get(t,dr,n);if(l!==dr)return l}c=qR(s),s=s[vs]}o=c}return i}function qR(e){let r=e[X],t=r.type;return t===2?r.declTNode:t===1?e[zt]:null}function Dd(e){return nj(yt(),e)}function pT(e,r=null,t=null,n){let i=YR(e,r,t,n);return i.resolveInjectorInitializers(),i}function YR(e,r=null,t=null,n,i=new Set){let o=[t||jt,aU(e)];return n=n||(typeof e=="object"?void 0:$t(e)),new Va(o,r||cE(),n||null,i)}var ve=class e{static THROW_IF_NOT_FOUND=zi;static NULL=new zl;static create(r,t){if(Array.isArray(r))return pT({name:""},t,r,"");{let n=r.name??"";return pT({name:n},r.parent,r.providers,n)}}static \u0275prov=g({token:e,providedIn:"any",factory:()=>d(lR)});static __NG_ELEMENT_ID__=-1};var gT=class{attributeName;constructor(r){this.attributeName=r}__NG_ELEMENT_ID__=()=>Dd(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},aj=new C("");aj.__NG_ELEMENT_ID__=e=>{let r=yt();if(r===null)throw new P(204,!1);if(r.type&2)return r.value;if(e&ee.Optional)return null;throw new P(204,!1)};var KR=!1,Mt=(()=>{class e{static __NG_ELEMENT_ID__=cj;static __NG_ENV_ID__=t=>t}return e})(),Jl=class extends Mt{_lView;constructor(r){super(),this._lView=r}onDestroy(r){let t=this._lView;return Es(t)?(r(),()=>{}):(TR(t,r),()=>AU(t,r))}};function cj(){return new Jl(z())}var no=class{},wE=new C("",{providedIn:"root",factory:()=>!1});var ZR=new C(""),QR=new C(""),Gr=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new me(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=g({token:e,providedIn:"root",factory:()=>new e})}return e})();var sy=class extends oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(r=!1){super(),this.__isAsync=r,uE()&&(this.destroyRef=y(Mt,{optional:!0})??void 0,this.pendingTasks=y(Gr,{optional:!0})??void 0)}emit(r){let t=ne(null);try{super.next(r)}finally{ne(t)}}subscribe(r,t,n){let i=r,o=t||(()=>null),s=n;if(r&&typeof r=="object"){let c=r;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return r instanceof de&&r.add(a),a}wrapInTimeout(r){return t=>{let n=this.pendingTasks?.add();setTimeout(()=>{try{r(t)}finally{n!==void 0&&this.pendingTasks?.remove(n)}})}}},_t=sy;function Ga(...e){}function XR(e){let r,t;function n(){e=Ga;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),r!==void 0&&clearTimeout(r)}catch{}}return r=setTimeout(()=>{e(),n()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),n()})),()=>n()}function mT(e){return queueMicrotask(()=>e()),()=>{e=Ga}}var bE="isAngularZone",ed=bE+"_ID",uj=0,fe=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _t(!1);onMicrotaskEmpty=new _t(!1);onStable=new _t(!1);onError=new _t(!1);constructor(r){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=KR}=r;if(typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&n,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,fj(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(bE)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new P(909,!1)}run(r,t,n){return this._inner.run(r,t,n)}runTask(r,t,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,r,lj,Ga,Ga);try{return o.runTask(s,t,n)}finally{o.cancelTask(s)}}runGuarded(r,t,n){return this._inner.runGuarded(r,t,n)}runOutsideAngular(r){return this._outer.run(r)}},lj={};function TE(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function dj(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function r(){XR(()=>{e.callbackScheduled=!1,ay(e),e.isCheckStableRunning=!0,TE(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{r()}):e._outer.run(()=>{r()}),ay(e)}function fj(e){let r=()=>{dj(e)},t=uj++;e._inner=e._inner.fork({name:"angular",properties:{[bE]:!0,[ed]:t,[ed+t]:!0},onInvokeTask:(n,i,o,s,a,c)=>{if(hj(c))return n.invokeTask(o,s,a,c);try{return vT(e),n.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&r(),yT(e)}},onInvoke:(n,i,o,s,a,c,u)=>{try{return vT(e),n.invoke(o,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!pj(c)&&r(),yT(e)}},onHasTask:(n,i,o,s)=>{n.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,ay(e),TE(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,o,s)=>(n.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function ay(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function vT(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function yT(e){e._nesting--,TE(e)}var td=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _t;onMicrotaskEmpty=new _t;onStable=new _t;onError=new _t;run(r,t,n){return r.apply(t,n)}runGuarded(r,t,n){return r.apply(t,n)}runOutsideAngular(r){return r()}runTask(r,t,n,i){return r.apply(t,n)}};function hj(e){return JR(e,"__ignore_ng_zone__")}function pj(e){return JR(e,"__scheduler_tick__")}function JR(e,r){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[r]===!0}function gj(e="zone.js",r){return e==="noop"?new td:e==="zone.js"?new fe(r):e}var et=class{_console=console;handleError(r){this._console.error("ERROR",r)}},mj=new C("",{providedIn:"root",factory:()=>{let e=y(fe),r=y(et);return t=>e.runOutsideAngular(()=>r.handleError(t))}});function ET(e,r){return XT(e,r)}function vj(e){return XT(QT,e)}var eA=(ET.required=vj,ET);function yj(){return Cs(yt(),z())}function Cs(e,r){return new yr(vr(e,r))}var yr=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=yj}return e})();function Ej(e){return e instanceof yr?e.nativeElement:e}function Sj(e){return typeof e=="function"&&e[mn]!==void 0}function RE(e,r){let t=Rv(e,r?.equal),n=t[mn];return t.set=i=>Fa(n,i),t.update=i=>Av(n,i),t.asReadonly=Cj.bind(t),t}function Cj(){let e=this[mn];if(e.readonlyFn===void 0){let r=()=>this();r[mn]=e,e.readonlyFn=r}return e.readonlyFn}function tA(e){return Sj(e)&&typeof e.set=="function"}function Ij(){return this._results[Symbol.iterator]()}var cy=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new oe}constructor(r=!1){this._emitDistinctChangesOnly=r}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,t){return this._results.reduce(r,t)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,t){this.dirty=!1;let n=tU(r);(this._changesDetected=!eU(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Ij};function nA(e){return(e.flags&128)===128}var rA=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(rA||{}),iA=new Map,Dj=0;function wj(){return Dj++}function bj(e){iA.set(e[yd],e)}function uy(e){iA.delete(e[yd])}var ST="__ngContext__";function Is(e,r){hi(r)?(e[ST]=r[yd],bj(r)):e[ST]=r}function oA(e){return aA(e[Ha])}function sA(e){return aA(e[Pn])}function aA(e){for(;e!==null&&!Hr(e);)e=e[Pn];return e}var ly;function cA(e){ly=e}function AE(){if(ly!==void 0)return ly;if(typeof document<"u")return document;throw new P(210,!1)}var wd=new C("",{providedIn:"root",factory:()=>Tj}),Tj="ng",_E=new C(""),tt=new C("",{providedIn:"platform",factory:()=>"unknown"});var ME=new C("",{providedIn:"root",factory:()=>AE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Rj(){let e=new NE;return e.store=Aj(AE(),y(wd)),e}var NE=(()=>{class e{static \u0275prov=g({token:e,providedIn:"root",factory:Rj});store={};onSerializeCallbacks={};get(t,n){return this.store[t]!==void 0?this.store[t]:n}set(t,n){this.store[t]=n}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,n){this.onSerializeCallbacks[t]=n}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(n){console.warn("Exception in onSerialize callback: ",n)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function Aj(e,r){let t=e.getElementById(r+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(n){console.warn("Exception while restoring TransferState for app "+r,n)}return{}}var _j="h",Mj="b";var uA=!1,Nj=new C("",{providedIn:"root",factory:()=>uA});var OE=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(OE||{}),Ds=new C(""),CT=new Set;function co(e){CT.has(e)||(CT.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var xE=(()=>{class e{view;node;constructor(t,n){this.view=t,this.node=n}static __NG_ELEMENT_ID__=Oj}return e})();function Oj(){return new xE(z(),yt())}var ts=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(ts||{}),lA=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=g({token:e,providedIn:"root",factory:()=>new e})}return e})(),xj=[ts.EarlyRead,ts.Write,ts.MixedReadWrite,ts.Read],Pj=(()=>{class e{ngZone=y(fe);scheduler=y(no);errorHandler=y(et,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){y(Ds,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ie(16),this.executing=!0;for(let n of xj)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[n]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[n];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ie(17)}register(t){let{view:n}=t;n!==void 0?((n[rs]??=[]).push(t),Ss(n),n[K]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,n){return n?n.run(OE.AFTER_NEXT_RENDER,t):t()}static \u0275prov=g({token:e,providedIn:"root",factory:()=>new e})}return e})(),dy=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(r,t,n,i,o,s=null){this.impl=r,this.hooks=t,this.view=n,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let r=this.view?.[rs];r&&(this.view[rs]=r.filter(t=>t!==this))}};function PE(e,r){!r?.injector&&oo(PE);let t=r?.injector??y(ve);return co("NgAfterNextRender"),Lj(e,t,r,!0)}function Fj(e,r){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[r]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function Lj(e,r,t,n){let i=r.get(lA);i.impl??=r.get(Pj);let o=r.get(Ds,null,{optional:!0}),s=t?.phase??ts.MixedReadWrite,a=t?.manualCleanup!==!0?r.get(Mt):null,c=r.get(xE,null,{optional:!0}),u=new dy(i.impl,Fj(e,s),c?.view,n,a,o?.snapshot(null));return i.impl.register(u),u}var kj=(e,r,t,n)=>{};function Uj(e,r,t,n){kj(e,r,t,n)}var jj=()=>null;function dA(e,r,t=!1){return jj(e,r,t)}function fA(e,r){let t=e.contentQueries;if(t!==null){let n=ne(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];EE(o),a.contentQueries(2,r[s],s)}}}finally{ne(n)}}}function fy(e,r,t){EE(0);let n=ne(null);try{r(e,t)}finally{ne(n)}}function FE(e,r,t){if(lE(r)){let n=ne(null);try{let i=r.directiveStart,o=r.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ne(n)}}}var gr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(gr||{}),Ml;function $j(){if(Ml===void 0&&(Ml=null,Je.trustedTypes))try{Ml=Je.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ml}function bd(e){return $j()?.createHTML(e)||e}var Nl;function hA(){if(Nl===void 0&&(Nl=null,Je.trustedTypes))try{Nl=Je.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Nl}function IT(e){return hA()?.createHTML(e)||e}function DT(e){return hA()?.createScriptURL(e)||e}var jr=class{changingThisBreaksApplicationSecurity;constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ZT})`}},hy=class extends jr{getTypeName(){return"HTML"}},py=class extends jr{getTypeName(){return"Style"}},gy=class extends jr{getTypeName(){return"Script"}},my=class extends jr{getTypeName(){return"URL"}},vy=class extends jr{getTypeName(){return"ResourceURL"}};function Gt(e){return e instanceof jr?e.changingThisBreaksApplicationSecurity:e}function Er(e,r){let t=Bj(e);if(t!=null&&t!==r){if(t==="ResourceURL"&&r==="URL")return!0;throw new Error(`Required a safe ${r}, got a ${t} (see ${ZT})`)}return t===r}function Bj(e){return e instanceof jr&&e.getTypeName()||null}function pA(e){return new hy(e)}function gA(e){return new py(e)}function mA(e){return new gy(e)}function vA(e){return new my(e)}function yA(e){return new vy(e)}function Vj(e){let r=new Ey(e);return Hj()?new yy(r):r}var yy=class{inertDocumentHelper;constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{let t=new window.DOMParser().parseFromString(bd(r),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(r):(t.firstChild?.remove(),t)}catch{return null}}},Ey=class{defaultDoc;inertDocument;constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){let t=this.inertDocument.createElement("template");return t.innerHTML=bd(r),t}};function Hj(){try{return!!new window.DOMParser().parseFromString(bd(""),"text/html")}catch{return!1}}var zj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Td(e){return e=String(e),e.match(zj)?e:"unsafe:"+e}function Wr(e){let r={};for(let t of e.split(","))r[t]=!0;return r}function tc(...e){let r={};for(let t of e)for(let n in t)t.hasOwnProperty(n)&&(r[n]=!0);return r}var EA=Wr("area,br,col,hr,img,wbr"),SA=Wr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),CA=Wr("rp,rt"),Gj=tc(CA,SA),Wj=tc(SA,Wr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qj=tc(CA,Wr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wT=tc(EA,Wj,qj,Gj),IA=Wr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yj=Wr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kj=Wr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Zj=tc(IA,Yj,Kj),Qj=Wr("script,style,template"),Sy=class{sanitizedSomething=!1;buf=[];sanitizeChildren(r){let t=r.firstChild,n=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild){i.push(t),t=e1(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=Jj(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(r){let t=bT(r).toLowerCase();if(!wT.hasOwnProperty(t))return this.sanitizedSomething=!0,!Qj.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let n=r.attributes;for(let i=0;i<n.length;i++){let o=n.item(i),s=o.name,a=s.toLowerCase();if(!Zj.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;IA[a]&&(c=Td(c)),this.buf.push(" ",s,'="',TT(c),'"')}return this.buf.push(">"),!0}endElement(r){let t=bT(r).toLowerCase();wT.hasOwnProperty(t)&&!EA.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(r){this.buf.push(TT(r))}};function Xj(e,r){return(e.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Jj(e){let r=e.nextSibling;if(r&&e!==r.previousSibling)throw DA(r);return r}function e1(e){let r=e.firstChild;if(r&&Xj(e,r))throw DA(r);return r}function bT(e){let r=e.nodeName;return typeof r=="string"?r:"FORM"}function DA(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var t1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n1=/([^\#-~ |!])/g;function TT(e){return e.replace(/&/g,"&amp;").replace(t1,function(r){let t=r.charCodeAt(0),n=r.charCodeAt(1);return"&#"+((t-55296)*1024+(n-56320)+65536)+";"}).replace(n1,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ol;function LE(e,r){let t=null;try{Ol=Ol||Vj(e);let n=r?String(r):"";t=Ol.getInertBodyElement(n);let i=5,o=n;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,n=o,o=t.innerHTML,t=Ol.getInertBodyElement(n)}while(n!==o);let a=new Sy().sanitizeChildren(RT(t)||t);return bd(a)}finally{if(t){let n=RT(t)||t;for(;n.firstChild;)n.firstChild.remove()}}}function RT(e){return"content"in e&&r1(e)?e.content:null}function r1(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Sn=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Sn||{});function uae(e){let r=Rd();return r?IT(r.sanitize(Sn.HTML,e)||""):Er(e,"HTML")?IT(Gt(e)):LE(AE(),pi(e))}function lae(e){let r=Rd();return r?r.sanitize(Sn.STYLE,e)||"":Er(e,"Style")?Gt(e):pi(e)}function i1(e){let r=Rd();return r?r.sanitize(Sn.URL,e)||"":Er(e,"URL")?Gt(e):Td(pi(e))}function o1(e){let r=Rd();if(r)return DT(r.sanitize(Sn.RESOURCE_URL,e)||"");if(Er(e,"ResourceURL"))return DT(Gt(e));throw new P(904,!1)}function s1(e,r){return r==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||r==="href"&&(e==="base"||e==="link")?o1:i1}function wA(e,r,t){return s1(r,t)(e)}function Rd(){let e=z();return e&&e[kr].sanitizer}var a1=/^>|^->|<!--|-->|--!>|<!-$/g,c1=/(<|>)/g,u1="\u200B$1\u200B";function l1(e){return e.replace(a1,r=>r.replace(c1,u1))}function dae(e){return e.ownerDocument.defaultView}function fae(e){return e.ownerDocument}function bA(e){return e instanceof Function?e():e}function d1(e,r,t){let n=e.length;for(;;){let i=e.indexOf(r,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=r.length;if(i+o===n||e.charCodeAt(i+o)<=32)return i}t=i+1}}var TA="ng-template";function f1(e,r,t,n){let i=0;if(n){for(;i<r.length&&typeof r[i]=="string";i+=2)if(r[i]==="class"&&d1(r[i+1].toLowerCase(),t,0)!==-1)return!0}else if(kE(e))return!1;if(i=r.indexOf(1,i),i>-1){let o;for(;++i<r.length&&typeof(o=r[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function kE(e){return e.type===4&&e.value!==TA}function h1(e,r,t){let n=e.type===4&&!t?TA:e.value;return r===n}function p1(e,r,t){let n=4,i=e.attrs,o=i!==null?v1(i):0,s=!1;for(let a=0;a<r.length;a++){let c=r[a];if(typeof c=="number"){if(!s&&!xn(n)&&!xn(c))return!1;if(s&&xn(c))continue;s=!1,n=c|n&1;continue}if(!s)if(n&4){if(n=2|n&1,c!==""&&!h1(e,c,t)||c===""&&r.length===1){if(xn(n))return!1;s=!0}}else if(n&8){if(i===null||!f1(e,i,c,t)){if(xn(n))return!1;s=!0}}else{let u=r[++a],l=g1(c,i,kE(e),t);if(l===-1){if(xn(n))return!1;s=!0;continue}if(u!==""){let f;if(l>o?f="":f=i[l+1].toLowerCase(),n&2&&u!==f){if(xn(n))return!1;s=!0}}}}return xn(n)||s}function xn(e){return(e&1)===0}function g1(e,r,t,n){if(r===null)return-1;let i=0;if(n||!t){let o=!1;for(;i<r.length;){let s=r[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=r[++i];for(;typeof a=="string";)a=r[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return y1(r,e)}function RA(e,r,t=!1){for(let n=0;n<r.length;n++)if(p1(e,r[n],t))return!0;return!1}function m1(e){let r=e.attrs;if(r!=null){let t=r.indexOf(5);if((t&1)===0)return r[t+1]}return null}function v1(e){for(let r=0;r<e.length;r++){let t=e[r];if(UR(t))return r}return e.length}function y1(e,r){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let n=e[t];if(typeof n=="number")return-1;if(n===r)return t;t++}return-1}function E1(e,r){e:for(let t=0;t<r.length;t++){let n=r[t];if(e.length===n.length){for(let i=0;i<e.length;i++)if(e[i]!==n[i])continue e;return!0}}return!1}function AT(e,r){return e?":not("+r.trim()+")":r}function S1(e){let r=e[0],t=1,n=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(n&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+s:n&4&&(i+=" "+s);else i!==""&&!xn(s)&&(r+=AT(o,i),i=""),n=s,o=o||!xn(n);t++}return i!==""&&(r+=AT(o,i)),r}function C1(e){return e.map(S1).join(",")}function I1(e){let r=[],t=[],n=1,i=2;for(;n<e.length;){let o=e[n];if(typeof o=="string")i===2?o!==""&&r.push(o,e[++n]):i===8&&t.push(o);else{if(!xn(i))break;i=o}n++}return t.length&&r.push(1,...t),r}var Wt={};function D1(e,r){return e.createText(r)}function w1(e,r,t){e.setValue(r,t)}function b1(e,r){return e.createComment(l1(r))}function AA(e,r,t){return e.createElement(r,t)}function nd(e,r,t,n,i){e.insertBefore(r,t,n,i)}function _A(e,r,t){e.appendChild(r,t)}function _T(e,r,t,n,i){n!==null?nd(e,r,t,n,i):_A(e,r,t)}function T1(e,r,t){e.removeChild(null,r,t)}function R1(e,r,t){e.setAttribute(r,"style",t)}function A1(e,r,t){t===""?e.removeAttribute(r,"class"):e.setAttribute(r,"class",t)}function MA(e,r,t){let{mergedAttrs:n,classes:i,styles:o}=t;n!==null&&ZU(e,r,n),i!==null&&A1(e,r,i),o!==null&&R1(e,r,o)}function UE(e,r,t,n,i,o,s,a,c,u,l){let f=Le+n,h=f+i,p=_1(f,h),E=typeof u=="function"?u():u;return p[X]={type:e,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:r,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:l}}function _1(e,r){let t=[];for(let n=0;n<r;n++)t.push(n<e?null:Wt);return t}function M1(e){let r=e.tView;return r===null||r.incompleteFirstPass?e.tView=UE(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):r}function jE(e,r,t,n,i,o,s,a,c,u,l){let f=r.blueprint.slice();return f[Vr]=i,f[K]=n|4|128|8|64|1024,(u!==null||e&&e[K]&2048)&&(f[K]|=2048),wR(f),f[vt]=f[vs]=e,f[$e]=t,f[kr]=s||e&&e[kr],f[_e]=a||e&&e[_e],f[as]=c||e&&e[as]||null,f[zt]=o,f[yd]=wj(),f[ss]=l,f[vR]=u,f[Bt]=r.type==2?e[Bt]:f,f}function N1(e,r,t){let n=vr(r,e),i=M1(t),o=e[kr].rendererFactory,s=$E(e,jE(e,i,null,NA(t),n,r,null,o.createRenderer(n,t),null,null,null));return e[r.index]=s}function NA(e){let r=16;return e.signals?r=4096:e.onPush&&(r=64),r}function OA(e,r,t,n){if(t===0)return-1;let i=r.length;for(let o=0;o<t;o++)r.push(n),e.blueprint.push(n),e.data.push(null);return i}function $E(e,r){return e[Ha]?e[cT][Pn]=r:e[Ha]=r,e[cT]=r,r}function hae(e=1){xA(Me(),z(),zr()+e,!1)}function xA(e,r,t,n){if(!n)if((r[K]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ll(r,o,t)}else{let o=e.preOrderHooks;o!==null&&kl(r,o,0,t)}eo(t)}var Ad=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ad||{});function Cy(e,r,t,n){let i=ne(null);try{let[o,s,a]=e.inputs[t],c=null;(s&Ad.SignalBased)!==0&&(c=r[o][mn]),c!==null&&c.transformFn!==void 0?n=c.transformFn(n):a!==null&&(n=a.call(r,n)),e.setInput!==null?e.setInput(r,c,n,t,o):ER(r,c,o,n)}finally{ne(i)}}function PA(e,r,t,n,i){let o=zr(),s=n&2;try{eo(-1),s&&r.length>Le&&xA(e,r,Le,!1),Ie(s?2:0,i),t(n,i)}finally{eo(o),Ie(s?3:1,i)}}function _d(e,r,t){k1(e,r,t),(t.flags&64)===64&&U1(e,r,t)}function BE(e,r,t=vr){let n=r.localNames;if(n!==null){let i=r.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?t(r,e):e[s];e[i++]=a}}}function O1(e,r,t,n){let o=n.get(Nj,uA)||t===gr.ShadowDom,s=e.selectRootElement(r,o);return x1(s),s}function x1(e){P1(e)}var P1=()=>null;function F1(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Md(e,r,t,n,i,o,s,a){if(!a&&HE(r,e,t,n,i)){ys(r)&&L1(t,r.index);return}if(r.type&3){let c=vr(r,t);n=F1(n),i=s!=null?s(i,r.value||"",n):i,o.setProperty(c,n,i)}else r.type&12}function L1(e,r){let t=pr(r,e);t[K]&16||(t[K]|=64)}function k1(e,r,t){let n=t.directiveStart,i=t.directiveEnd;ys(t)&&N1(r,t,e.data[n+t.componentOffset]),e.firstCreatePass||Xl(t,r);let o=t.initialInputs;for(let s=n;s<i;s++){let a=e.data[s],c=za(r,e,s,t);if(Is(c,r),o!==null&&V1(r,s-n,c,a,t,o),fr(a)){let u=pr(t.index,r);u[$e]=za(r,e,s,t)}}}function U1(e,r,t){let n=t.directiveStart,i=t.directiveEnd,o=t.index,s=BU();try{eo(o);for(let a=n;a<i;a++){let c=e.data[a],u=r[a];ny(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&j1(c,u)}}finally{eo(-1),ny(s)}}function j1(e,r){e.hostBindings!==null&&e.hostBindings(1,r)}function VE(e,r){let t=e.directiveRegistry,n=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];RA(r,o.selectors,!1)&&(n??=[],fr(o)?n.unshift(o):n.push(o))}return n}function $1(e,r,t,n,i,o){let s=vr(e,r);B1(r[_e],s,o,e.value,t,n,i)}function B1(e,r,t,n,i,o,s){if(o==null)e.removeAttribute(r,i,t);else{let a=s==null?pi(o):s(o,n||"",i);e.setAttribute(r,i,a,t)}}function V1(e,r,t,n,i,o){let s=o[r];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Cy(n,t,c,u)}}function H1(e,r){let t=e[as],n=t?t.get(et,null):null;n&&n.handleError(r)}function HE(e,r,t,n,i){let o=e.inputs?.[n],s=e.hostDirectiveInputs?.[n],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],f=r.data[u];Cy(f,t[u],l,i),a=!0}if(o)for(let c of o){let u=t[c],l=r.data[c];Cy(l,u,n,i),a=!0}return a}function z1(e,r){let t=pr(r,e),n=t[X];G1(n,t);let i=t[Vr];i!==null&&t[ss]===null&&(t[ss]=dA(i,t[as])),Ie(18),zE(n,t,t[$e]),Ie(19,t[$e])}function G1(e,r){for(let t=r.length;t<e.blueprint.length;t++)r.push(e.blueprint[t])}function zE(e,r,t){SE(r);try{let n=e.viewQuery;n!==null&&fy(1,n,t);let i=e.template;i!==null&&PA(e,r,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),r[Ur]?.finishViewCreation(e),e.staticContentQueries&&fA(e,r),e.staticViewQueries&&fy(2,e.viewQuery,t);let o=e.components;o!==null&&W1(r,o)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{r[K]&=-5,CE()}}function W1(e,r){for(let t=0;t<r.length;t++)z1(e,r[t])}function nc(e,r,t,n){let i=ne(null);try{let o=r.tView,a=e[K]&4096?4096:16,c=jE(e,o,t,a,null,r,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),u=e[r.index];c[Zi]=u;let l=e[Ur];return l!==null&&(c[Ur]=l.createEmbeddedView(o)),zE(o,c,t),c}finally{ne(i)}}function ls(e,r){return!r||r.firstChild===null||nA(e)}var q1;function GE(e,r){return q1(e,r)}var $r=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}($r||{});function WE(e){return(e.flags&32)===32}function ns(e,r,t,n,i){if(n!=null){let o,s=!1;Hr(n)?o=n:hi(n)&&(s=!0,n=n[Vr]);let a=hr(n);e===0&&t!==null?i==null?_A(r,t,a):nd(r,t,a,i||null,!0):e===1&&t!==null?nd(r,t,a,i||null,!0):e===2?T1(r,a,s):e===3&&r.destroyNode(a),o!=null&&r$(r,e,o,t,i)}}function Y1(e,r){FA(e,r),r[Vr]=null,r[zt]=null}function K1(e,r,t,n,i,o){n[Vr]=i,n[zt]=r,xd(e,n,t,1,i,o)}function FA(e,r){r[kr].changeDetectionScheduler?.notify(9),xd(e,r,r[_e],2,null,null)}function Z1(e){let r=e[Ha];if(!r)return Lv(e[X],e);for(;r;){let t=null;if(hi(r))t=r[Ha];else{let n=r[gt];n&&(t=n)}if(!t){for(;r&&!r[Pn]&&r!==e;)hi(r)&&Lv(r[X],r),r=r[vt];r===null&&(r=e),hi(r)&&Lv(r[X],r),t=r&&r[Pn]}r=t}}function qE(e,r){let t=e[cs],n=t.indexOf(r);t.splice(n,1)}function Nd(e,r){if(Es(r))return;let t=r[_e];t.destroyNode&&xd(e,r,t,3,null,null),Z1(r)}function Lv(e,r){if(Es(r))return;let t=ne(null);try{r[K]&=-129,r[K]|=256,r[vn]&&Pa(r[vn]),X1(e,r),Q1(e,r),r[X].type===1&&r[_e].destroy();let n=r[Zi];if(n!==null&&Hr(r[vt])){n!==r[vt]&&qE(n,r);let i=r[Ur];i!==null&&i.detachView(e)}uy(r)}finally{ne(t)}}function Q1(e,r){let t=e.cleanup,n=r[Gl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?n[a]():n[-a].unsubscribe(),s+=2}else{let a=n[t[s+1]];t[s].call(a)}n!==null&&(r[Gl]=null);let i=r[fi];if(i!==null){r[fi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=r[Qi];if(o!==null){r[Qi]=null;for(let s of o)s.destroy()}}function X1(e,r){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let n=0;n<t.length;n+=2){let i=r[t[n]];if(!(i instanceof to)){let o=t[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ie(4,a,c);try{c.call(a)}finally{Ie(5,a,c)}}else{Ie(4,i,o);try{o.call(i)}finally{Ie(5,i,o)}}}}}function LA(e,r,t){return J1(e,r.parent,t)}function J1(e,r,t){let n=r;for(;n!==null&&n.type&168;)r=n,n=r.parent;if(n===null)return t[Vr];if(ys(n)){let{encapsulation:i}=e.data[n.directiveStart+n.componentOffset];if(i===gr.None||i===gr.Emulated)return null}return vr(n,t)}function kA(e,r,t){return t$(e,r,t)}function e$(e,r,t){return e.type&40?vr(e,t):null}var t$=e$,MT;function Od(e,r,t,n){let i=LA(e,n,r),o=r[_e],s=n.parent||r[zt],a=kA(s,n,r);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)_T(o,i,t[c],a,!1);else _T(o,i,t,a,!1);MT!==void 0&&MT(o,n,r,t,i)}function ja(e,r){if(r!==null){let t=r.type;if(t&3)return vr(r,e);if(t&4)return Iy(-1,e[r.index]);if(t&8){let n=r.child;if(n!==null)return ja(e,n);{let i=e[r.index];return Hr(i)?Iy(-1,i):hr(i)}}else{if(t&128)return ja(e,r.next);if(t&32)return GE(r,e)()||hr(e[r.index]);{let n=UA(e,r);if(n!==null){if(Array.isArray(n))return n[0];let i=Ji(e[Bt]);return ja(i,n)}else return ja(e,r.next)}}}return null}function UA(e,r){if(r!==null){let n=e[Bt][zt],i=r.projection;return n.projection[i]}return null}function Iy(e,r){let t=gt+e+1;if(t<r.length){let n=r[t],i=n[X].firstChild;if(i!==null)return ja(n,i)}return r[Xi]}function YE(e,r,t,n,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=n[t.index],c=t.type;if(s&&r===0&&(a&&Is(hr(a),n),t.flags|=2),!WE(t))if(c&8)YE(e,r,t.child,n,i,o,!1),ns(r,e,i,a,o);else if(c&32){let u=GE(t,n),l;for(;l=u();)ns(r,e,i,l,o);ns(r,e,i,a,o)}else c&16?jA(e,r,n,t,i,o):ns(r,e,i,a,o);t=s?t.projectionNext:t.next}}function xd(e,r,t,n,i,o){YE(t,n,e.firstChild,r,i,o,!1)}function n$(e,r,t){let n=r[_e],i=LA(e,t,r),o=t.parent||r[zt],s=kA(o,t,r);jA(n,0,r,t,i,s)}function jA(e,r,t,n,i,o){let s=t[Bt],c=s[zt].projection[n.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];ns(r,e,i,l,o)}else{let u=c,l=s[vt];nA(n)&&(u.flags|=128),YE(e,r,u,l,i,o,!0)}}function r$(e,r,t,n,i){let o=t[Xi],s=hr(t);o!==s&&ns(r,e,n,o,i);for(let a=gt;a<t.length;a++){let c=t[a];xd(c[X],c,e,r,n,o)}}function i$(e,r,t,n,i){if(r)i?e.addClass(t,n):e.removeClass(t,n);else{let o=n.indexOf("-")===-1?void 0:$r.DashCase;i==null?e.removeStyle(t,n,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=$r.Important),e.setStyle(t,n,i,o))}}function rd(e,r,t,n,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=r[t.index];o!==null&&n.push(hr(o)),Hr(o)&&o$(o,n);let s=t.type;if(s&8)rd(e,r,t.child,n);else if(s&32){let a=GE(t,r),c;for(;c=a();)n.push(c)}else if(s&16){let a=UA(r,t);if(Array.isArray(a))n.push(...a);else{let c=Ji(r[Bt]);rd(c[X],c,a,n,!0)}}t=i?t.projectionNext:t.next}return n}function o$(e,r){for(let t=gt;t<e.length;t++){let n=e[t],i=n[X].firstChild;i!==null&&rd(n[X],n,i,r)}e[Xi]!==e[Vr]&&r.push(e[Xi])}function $A(e){if(e[rs]!==null){for(let r of e[rs])r.impl.addSequence(r);e[rs].length=0}}var BA=[];function s$(e){return e[vn]??a$(e)}function a$(e){let r=BA.pop()??Object.create(u$);return r.lView=e,r}function c$(e){e.lView[vn]!==e&&(e.lView=null,BA.push(e))}var u$=w(v({},Xo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Ss(e.lView)},consumerOnSignalRead(){this.lView[vn]=this}});function l$(e){let r=e[vn]??Object.create(d$);return r.lView=e,r}var d$=w(v({},Xo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let r=Ji(e.lView);for(;r&&!VA(r[X]);)r=Ji(r);r&&bR(r)},consumerOnSignalRead(){this.lView[vn]=this}});function VA(e){return e.type!==2}function HA(e){if(e[Qi]===null)return;let r=!0;for(;r;){let t=!1;for(let n of e[Qi])n.dirty&&(t=!0,n.zone===null||Zone.current===n.zone?n.run():n.zone.run(()=>n.run()));r=t&&!!(e[K]&8192)}}var f$=100;function zA(e,r=!0,t=0){let i=e[kr].rendererFactory,o=!1;o||i.begin?.();try{h$(e,t)}catch(s){throw r&&H1(e,s),s}finally{o||i.end?.()}}function h$(e,r){let t=_R();try{Yl(!0),Dy(e,r);let n=0;for(;Sd(e);){if(n===f$)throw new P(103,!1);n++,Dy(e,1)}}finally{Yl(t)}}function p$(e,r,t,n){if(Es(r))return;let i=r[K],o=!1,s=!1;SE(r);let a=!0,c=null,u=null;o||(VA(e)?(u=s$(r),c=xa(u)):Cv()===null?(a=!1,u=l$(r),c=xa(u)):r[vn]&&(Pa(r[vn]),r[vn]=null));try{wR(r),UU(e.bindingStartIndex),t!==null&&PA(e,r,t,2,n);let l=(i&3)===3;if(!o)if(l){let p=e.preOrderCheckHooks;p!==null&&Ll(r,p,null)}else{let p=e.preOrderHooks;p!==null&&kl(r,p,0,null),Pv(r,0)}if(s||g$(r),HA(r),GA(r,0),e.contentQueries!==null&&fA(e,r),!o)if(l){let p=e.contentCheckHooks;p!==null&&Ll(r,p)}else{let p=e.contentHooks;p!==null&&kl(r,p,1),Pv(r,1)}v$(e,r);let f=e.components;f!==null&&qA(r,f,0);let h=e.viewQuery;if(h!==null&&fy(2,h,n),!o)if(l){let p=e.viewCheckHooks;p!==null&&Ll(r,p)}else{let p=e.viewHooks;p!==null&&kl(r,p,2),Pv(r,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),r[xv]){for(let p of r[xv])p();r[xv]=null}o||($A(r),r[K]&=-73)}catch(l){throw o||Ss(r),l}finally{u!==null&&(Dl(u,c),a&&c$(u)),CE()}}function GA(e,r){for(let t=oA(e);t!==null;t=sA(t))for(let n=gt;n<t.length;n++){let i=t[n];WA(i,r)}}function g$(e){for(let r=oA(e);r!==null;r=sA(r)){if(!(r[K]&2))continue;let t=r[cs];for(let n=0;n<t.length;n++){let i=t[n];bR(i)}}}function m$(e,r,t){Ie(18);let n=pr(r,e);WA(n,t),Ie(19,n[$e])}function WA(e,r){fE(e)&&Dy(e,r)}function Dy(e,r){let n=e[X],i=e[K],o=e[vn],s=!!(r===0&&i&16);if(s||=!!(i&64&&r===0),s||=!!(i&1024),s||=!!(o?.dirty&&wl(o)),s||=!1,o&&(o.dirty=!1),e[K]&=-9217,s)p$(n,e,n.template,e[$e]);else if(i&8192){HA(e),GA(e,1);let a=n.components;a!==null&&qA(e,a,1),$A(e)}}function qA(e,r,t){for(let n=0;n<r.length;n++)m$(e,r[n],t)}function v$(e,r){let t=e.hostBindingOpCodes;if(t!==null)try{for(let n=0;n<t.length;n++){let i=t[n];if(i<0)eo(~i);else{let o=i,s=t[++n],a=t[++n];$U(s,o);let c=r[o];Ie(24,c),a(2,c),Ie(25,c)}}}finally{eo(-1)}}function KE(e,r){let t=_R()?64:1088;for(e[kr].changeDetectionScheduler?.notify(r);e;){e[K]|=t;let n=Ji(e);if(ql(e)&&!n)return e;e=n}return null}function YA(e,r,t,n){return[e,!0,0,r,null,n,null,t,null,null]}function KA(e,r){let t=gt+r;if(t<e.length)return e[t]}function rc(e,r,t,n=!0){let i=r[X];if(y$(i,r,e,t),n){let s=Iy(t,e),a=r[_e],c=a.parentNode(e[Xi]);c!==null&&K1(i,e[zt],a,r,c,s)}let o=r[ss];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ZA(e,r){let t=Wa(e,r);return t!==void 0&&Nd(t[X],t),t}function Wa(e,r){if(e.length<=gt)return;let t=gt+r,n=e[t];if(n){let i=n[Zi];i!==null&&i!==e&&qE(i,n),r>0&&(e[t-1][Pn]=n[Pn]);let o=Hl(e,gt+r);Y1(n[X],n);let s=o[Ur];s!==null&&s.detachView(o[X]),n[vt]=null,n[Pn]=null,n[K]&=-129}return n}function y$(e,r,t,n){let i=gt+n,o=t.length;n>0&&(t[i-1][Pn]=r),n<o-gt?(r[Pn]=t[i],uR(t,gt+n,r)):(t.push(r),r[Pn]=null),r[vt]=t;let s=r[Zi];s!==null&&t!==s&&QA(s,r);let a=r[Ur];a!==null&&a.insertView(e),ey(r),r[K]|=128}function QA(e,r){let t=e[cs],n=r[vt];if(hi(n))e[K]|=2;else{let i=n[vt][Bt];r[Bt]!==i&&(e[K]|=2)}t===null?e[cs]=[r]:t.push(r)}var qa=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let r=this._lView,t=r[X];return rd(t,r,t.firstChild,[])}constructor(r,t,n=!0){this._lView=r,this._cdRefInjectingView=t,this.notifyErrorHandler=n}get context(){return this._lView[$e]}set context(r){this._lView[$e]=r}get destroyed(){return Es(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let r=this._lView[vt];if(Hr(r)){let t=r[Wl],n=t?t.indexOf(this):-1;n>-1&&(Wa(r,n),Hl(t,n))}this._attachedToViewContainer=!1}Nd(this._lView[X],this._lView)}onDestroy(r){TR(this._lView,r)}markForCheck(){KE(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){ey(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,zA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let r=ql(this._lView),t=this._lView[Zi];t!==null&&!r&&qE(t,this._lView),FA(this._lView[X],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=r;let t=ql(this._lView),n=this._lView[Zi];n!==null&&!t&&QA(n,this._lView),ey(this._lView)}};var Fn=(()=>{class e{static __NG_ELEMENT_ID__=C$}return e})(),E$=Fn,S$=class extends E${_declarationLView;_declarationTContainer;elementRef;constructor(r,t,n){super(),this._declarationLView=r,this._declarationTContainer=t,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,t){return this.createEmbeddedViewImpl(r,t)}createEmbeddedViewImpl(r,t,n){let i=nc(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:t,dehydratedView:n});return new qa(i)}};function C$(){return Pd(yt(),z())}function Pd(e,r){return e.type&4?new S$(r,e,Cs(e,r)):null}function ic(e,r,t,n,i){let o=e.data[r];if(o===null)o=I$(e,r,t,n,i),jU()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=n,o.attrs=i;let s=FU();o.injectorIndex=s===null?-1:s.injectorIndex}return so(o,!0),o}function I$(e,r,t,n,i){let o=AR(),s=mE(),a=s?o:o&&o.parent,c=e.data[r]=w$(e,a,t,r,n,i);return D$(e,c,o,s),c}function D$(e,r,t,n){e.firstChild===null&&(e.firstChild=r),t!==null&&(n?t.child==null&&r.parent!==null&&(t.child=r):t.next===null&&(t.next=r,r.prev=t))}function w$(e,r,t,n,i,o){let s=r?r.injectorIndex:-1,a=0;return RR()&&(a|=128),{type:t,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var mae=new RegExp(`^(\\d+)*(${Mj}|${_j})*(.*)`);var b$=()=>null;function ds(e,r){return b$(e,r)}var T$=class{},XA=class{},wy=class{resolveComponentFactory(r){throw Error(`No component factory found for ${$t(r)}.`)}},Fd=class{static NULL=new wy},mi=class{},ws=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>R$()}return e})();function R$(){let e=z(),r=yt(),t=pr(r.index,e);return(hi(t)?t:e)[_e]}var A$=(()=>{class e{static \u0275prov=g({token:e,providedIn:"root",factory:()=>null})}return e})();var kv={},by=class{injector;parentInjector;constructor(r,t){this.injector=r,this.parentInjector=t}get(r,t,n){n=md(n);let i=this.injector.get(r,kv,n);return i!==kv||t===kv?i:this.parentInjector.get(r,t,n)}};function Ty(e,r,t){let n=t?e.styles:null,i=t?e.classes:null,o=0;if(r!==null)for(let s=0;s<r.length;s++){let a=r[s];if(typeof a=="number")o=a;else if(o==1)i=Wv(i,a);else if(o==2){let c=a,u=r[++s];n=Wv(n,c+": "+u+";")}}t?e.styles=n:e.stylesWithoutHost=n,t?e.classes=i:e.classesWithoutHost=i}function Y(e,r=ee.Default){let t=z();if(t===null)return d(e,r);let n=yt();return GR(n,t,At(e),r)}function JA(){let e="invalid";throw new Error(e)}function ZE(e,r,t,n,i){let o=n===null?null:{"":-1},s=i(e,t);if(s!==null){let a,c=null,u=null,l=M$(s);l===null?a=s:[a,c,u]=l,x$(e,r,t,a,o,c,u)}o!==null&&n!==null&&_$(t,n,o)}function _$(e,r,t){let n=e.localNames=[];for(let i=0;i<r.length;i+=2){let o=t[r[i+1]];if(o==null)throw new P(-301,!1);n.push(r[i],o)}}function M$(e){let r=null,t=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&fr(a)&&(r=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let n=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(n??=[],i??=new Map,o??=new Map,N$(s,n,o,i)),s===r&&(n??=[],n.push(s));return n!==null?(n.push(...r===null?e:e.slice(1)),[n,i,o]):null}function N$(e,r,t,n){let i=r.length;e.findHostDirectiveDefs(e,r,n),t.set(e,[i,r.length-1])}function O$(e,r,t){r.componentOffset=t,(e.components??=[]).push(r.index)}function x$(e,r,t,n,i,o,s){let a=n.length,c=!1;for(let h=0;h<a;h++){let p=n[h];!c&&fr(p)&&(c=!0,O$(e,t,h)),iy(Xl(t,r),e,p.type)}j$(t,e.data.length,a);for(let h=0;h<a;h++){let p=n[h];p.providersResolver&&p.providersResolver(p)}let u=!1,l=!1,f=OA(e,r,a,null);a>0&&(t.directiveToIndex=new Map);for(let h=0;h<a;h++){let p=n[h];if(t.mergedAttrs=us(t.mergedAttrs,p.hostAttrs),F$(e,t,r,f,p),U$(f,p,i),s!==null&&s.has(p)){let[I,b]=s.get(p);t.directiveToIndex.set(p.type,[f,I+t.directiveStart,b+t.directiveStart])}else(o===null||!o.has(p))&&t.directiveToIndex.set(p.type,f);p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let E=p.type.prototype;!u&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),u=!0),!l&&(E.ngOnChanges||E.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),l=!0),f++}P$(e,t,o)}function P$(e,r,t){for(let n=r.directiveStart;n<r.directiveEnd;n++){let i=e.data[n];if(t===null||!t.has(i))NT(0,r,i,n),NT(1,r,i,n),xT(r,n,!1);else{let o=t.get(i);OT(0,r,o,n),OT(1,r,o,n),xT(r,n,!0)}}}function NT(e,r,t,n){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=r.inputs??={}:s=r.outputs??={},s[o]??=[],s[o].push(n),e_(r,o)}}function OT(e,r,t,n){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=r.hostDirectiveInputs??={}:a=r.hostDirectiveOutputs??={},a[s]??=[],a[s].push(n,o),e_(r,s)}}function e_(e,r){r==="class"?e.flags|=8:r==="style"&&(e.flags|=16)}function xT(e,r,t){let{attrs:n,inputs:i,hostDirectiveInputs:o}=e;if(n===null||!t&&i===null||t&&o===null||kE(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<n.length;){let c=n[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let l of u)if(l===r){s??=[],s.push(c,n[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let l=0;l<u.length;l+=2)if(u[l]===r){s??=[],s.push(u[l+1],n[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function F$(e,r,t,n,i){e.data[n]=i;let o=i.factory||(i.factory=Wi(i.type,!0)),s=new to(o,fr(i),Y);e.blueprint[n]=s,t[n]=s,L$(e,r,n,OA(e,t,i.hostVars,Wt),i)}function L$(e,r,t,n,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~r.index;k$(s)!=a&&s.push(a),s.push(t,n,o)}}function k$(e){let r=e.length;for(;r>0;){let t=e[--r];if(typeof t=="number"&&t<0)return t}return 0}function U$(e,r,t){if(t){if(r.exportAs)for(let n=0;n<r.exportAs.length;n++)t[r.exportAs[n]]=e;fr(r)&&(t[""]=e)}}function j$(e,r,t){e.flags|=1,e.directiveStart=r,e.directiveEnd=r+t,e.providerIndexes=r}function t_(e,r,t,n,i,o,s,a){let c=r.consts,u=gi(c,s),l=ic(r,e,2,n,u);return o&&ZE(r,t,l,gi(c,a),i),l.mergedAttrs=us(l.mergedAttrs,l.attrs),l.attrs!==null&&Ty(l,l.attrs,!1),l.mergedAttrs!==null&&Ty(l,l.mergedAttrs,!0),r.queries!==null&&r.queries.elementStart(r,l),l}function n_(e,r){IE(e,r),lE(r)&&e.queries.elementEnd(r)}var id=class extends Fd{ngModule;constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){let t=Ki(r);return new fs(t,this.ngModule)}};function $$(e){return Object.keys(e).map(r=>{let[t,n,i]=e[r],o={propName:t,templateName:r,isSignal:(n&Ad.SignalBased)!==0};return i&&(o.transform=i),o})}function B$(e){return Object.keys(e).map(r=>({propName:e[r],templateName:r}))}function V$(e,r,t){let n=r instanceof mt?r:r?.injector;return n&&e.getStandaloneInjector!==null&&(n=e.getStandaloneInjector(n)||n),n?new by(t,n):t}function H$(e){let r=e.get(mi,null);if(r===null)throw new P(407,!1);let t=e.get(A$,null),n=e.get(no,null);return{rendererFactory:r,sanitizer:t,changeDetectionScheduler:n}}function z$(e,r){let t=(e.selectors[0][0]||"div").toLowerCase();return AA(r,t,t==="svg"?IU:t==="math"?DU:null)}var fs=class extends XA{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=$$(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=B$(this.componentDef.outputs),this.cachedOutputs}constructor(r,t){super(),this.componentDef=r,this.ngModule=t,this.componentType=r.type,this.selector=C1(r.selectors),this.ngContentSelectors=r.ngContentSelectors??[],this.isBoundToModule=!!t}create(r,t,n,i){Ie(22);let o=ne(null);try{let s=this.componentDef,a=n?["ng-version","19.2.14"]:I1(this.componentDef.selectors[0]),c=UE(0,null,null,1,0,null,null,null,null,[a],null),u=V$(s,i||this.ngModule,r),l=H$(u),f=l.rendererFactory.createRenderer(null,s),h=n?O1(f,n,s.encapsulation,u):z$(s,f),p=jE(null,c,null,512|NA(s),null,null,l,f,u,null,dA(h,u,!0));p[Le]=h,SE(p);let E=null;try{let I=t_(Le,c,p,"#host",()=>[this.componentDef],!0,0);h&&(MA(f,h,I),Is(h,p)),_d(c,p,I),FE(c,I,p),n_(c,I),t!==void 0&&G$(I,this.ngContentSelectors,t),E=pr(I.index,p),p[$e]=E[$e],zE(c,p,null)}catch(I){throw E!==null&&uy(E),uy(p),I}finally{Ie(23),CE()}return new Ry(this.componentType,p)}finally{ne(o)}}},Ry=class extends T${_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(r,t){super(),this._rootLView=t,this._tNode=dE(t[X],Le),this.location=Cs(this._tNode,t),this.instance=pr(this._tNode.index,t)[$e],this.hostView=this.changeDetectorRef=new qa(t,void 0,!1),this.componentType=r}setInput(r,t){let n=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),t))return;let i=this._rootLView,o=HE(n,i[X],i,r,t);this.previousInputValues.set(r,t);let s=pr(n.index,i);KE(s,1)}get injector(){return new Gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}};function G$(e,r,t){let n=e.projection=[];for(let i=0;i<r.length;i++){let o=t[i];n.push(o!=null&&o.length?Array.from(o):null)}}var qt=(()=>{class e{static __NG_ELEMENT_ID__=W$}return e})();function W$(){let e=yt();return i_(e,z())}var q$=qt,r_=class extends q${_lContainer;_hostTNode;_hostLView;constructor(r,t,n){super(),this._lContainer=r,this._hostTNode=t,this._hostLView=n}get element(){return Cs(this._hostTNode,this._hostLView)}get injector(){return new Gi(this._hostTNode,this._hostLView)}get parentInjector(){let r=DE(this._hostTNode,this._hostLView);if(jR(r)){let t=Zl(r,this._hostLView),n=Kl(r),i=t[X].data[n+8];return new Gi(i,t)}else return new Gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){let t=PT(this._lContainer);return t!==null&&t[r]||null}get length(){return this._lContainer.length-gt}createEmbeddedView(r,t,n){let i,o;typeof n=="number"?i=n:n!=null&&(i=n.index,o=n.injector);let s=ds(this._lContainer,r.ssrId),a=r.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ls(this._hostTNode,s)),a}createComponent(r,t,n,i,o){let s=r&&!yU(r),a;if(s)a=t;else{let E=t||{};a=E.index,n=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef}let c=s?r:new fs(Ki(r)),u=n||this.parentInjector;if(!o&&c.ngModule==null){let I=(s?u:this.parentInjector).get(mt,null);I&&(o=I)}let l=Ki(c.componentType??{}),f=ds(this._lContainer,l?.id??null),h=f?.firstChild??null,p=c.create(u,i,h,o);return this.insertImpl(p.hostView,a,ls(this._hostTNode,f)),p}insert(r,t){return this.insertImpl(r,t,!0)}insertImpl(r,t,n){let i=r._lView;if(TU(i)){let a=this.indexOf(r);if(a!==-1)this.detach(a);else{let c=i[vt],u=new r_(c,c[zt],c[vt]);u.detach(u.indexOf(r))}}let o=this._adjustIndex(t),s=this._lContainer;return rc(s,i,o,n),r.attachToViewContainerRef(),uR(Uv(s),o,r),r}move(r,t){return this.insert(r,t)}indexOf(r){let t=PT(this._lContainer);return t!==null?t.indexOf(r):-1}remove(r){let t=this._adjustIndex(r,-1),n=Wa(this._lContainer,t);n&&(Hl(Uv(this._lContainer),t),Nd(n[X],n))}detach(r){let t=this._adjustIndex(r,-1),n=Wa(this._lContainer,t);return n&&Hl(Uv(this._lContainer),t)!=null?new qa(n):null}_adjustIndex(r,t=0){return r??this.length+t}};function PT(e){return e[Wl]}function Uv(e){return e[Wl]||(e[Wl]=[])}function i_(e,r){let t,n=r[e.index];return Hr(n)?t=n:(t=YA(n,r,null,e),r[e.index]=t,$E(r,t)),K$(t,r,e,n),new r_(t,e,r)}function Y$(e,r){let t=e[_e],n=t.createComment(""),i=vr(r,e),o=t.parentNode(i);return nd(t,o,n,t.nextSibling(i),!1),n}var K$=X$,Z$=()=>!1;function Q$(e,r,t){return Z$(e,r,t)}function X$(e,r,t,n){if(e[Xi])return;let i;t.type&8?i=hr(n):i=Y$(r,t),e[Xi]=i}var Ay=class e{queryList;matches=null;constructor(r){this.queryList=r}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},_y=class e{queries;constructor(r=[]){this.queries=r}createEmbeddedView(r){let t=r.queries;if(t!==null){let n=r.contentQueries!==null?r.contentQueries[0]:t.length,i=[];for(let o=0;o<n;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let t=0;t<this.queries.length;t++)QE(r,t).matches!==null&&this.queries[t].setDirty()}},od=class{flags;read;predicate;constructor(r,t,n=null){this.flags=t,this.read=n,typeof r=="string"?this.predicate=sB(r):this.predicate=r}},My=class e{queries;constructor(r=[]){this.queries=r}elementStart(r,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(r,t)}elementEnd(r){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(r)}embeddedTView(r){let t=null;for(let n=0;n<this.length;n++){let i=t!==null?t.length:0,o=this.getByIndex(n).embeddedTView(r,i);o&&(o.indexInDeclarationView=n,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(r,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(r,t)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}},Ny=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(r,t=-1){this.metadata=r,this._declarationNodeIndex=t}elementStart(r,t){this.isApplyingToNode(t)&&this.matchTNode(r,t)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,t){this.elementStart(r,t)}embeddedTView(r,t){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,t),new e(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,n=r.parent;for(;n!==null&&n.type&8&&n.index!==t;)n=n.parent;return t===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(r,t){let n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){let o=n[i];this.matchTNodeWithReadOption(r,t,J$(t,o)),this.matchTNodeWithReadOption(r,t,Ul(t,r,o,!1,!1))}else n===Fn?t.type&4&&this.matchTNodeWithReadOption(r,t,-1):this.matchTNodeWithReadOption(r,t,Ul(t,r,n,!1,!1))}matchTNodeWithReadOption(r,t,n){if(n!==null){let i=this.metadata.read;if(i!==null)if(i===yr||i===qt||i===Fn&&t.type&4)this.addMatch(t.index,-2);else{let o=Ul(t,r,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,n)}}addMatch(r,t){this.matches===null?this.matches=[r,t]:this.matches.push(r,t)}};function J$(e,r){let t=e.localNames;if(t!==null){for(let n=0;n<t.length;n+=2)if(t[n]===r)return t[n+1]}return null}function eB(e,r){return e.type&11?Cs(e,r):e.type&4?Pd(e,r):null}function tB(e,r,t,n){return t===-1?eB(r,e):t===-2?nB(e,r,n):za(e,e[X],t,r)}function nB(e,r,t){if(t===yr)return Cs(r,e);if(t===Fn)return Pd(r,e);if(t===qt)return i_(r,e)}function o_(e,r,t,n){let i=r[Ur].queries[n];if(i.matches===null){let o=e.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=o[u];a.push(tB(r,l,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Oy(e,r,t,n){let i=e.queries.getByIndex(t),o=i.matches;if(o!==null){let s=o_(e,r,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)n.push(s[a/2]);else{let u=o[a+1],l=r[-c];for(let f=gt;f<l.length;f++){let h=l[f];h[Zi]===h[vt]&&Oy(h[X],h,u,n)}if(l[cs]!==null){let f=l[cs];for(let h=0;h<f.length;h++){let p=f[h];Oy(p[X],p,u,n)}}}}}return n}function rB(e,r){return e[Ur].queries[r].queryList}function s_(e,r,t){let n=new cy((t&4)===4);return _U(e,r,n,n.destroy),(r[Ur]??=new _y).queries.push(new Ay(n))-1}function iB(e,r,t){let n=Me();return n.firstCreatePass&&(a_(n,new od(e,r,t),-1),(r&2)===2&&(n.staticViewQueries=!0)),s_(n,z(),r)}function oB(e,r,t,n){let i=Me();if(i.firstCreatePass){let o=yt();a_(i,new od(r,t,n),o.index),aB(i,e),(t&2)===2&&(i.staticContentQueries=!0)}return s_(i,z(),t)}function sB(e){return e.split(",").map(r=>r.trim())}function a_(e,r,t){e.queries===null&&(e.queries=new My),e.queries.track(new Ny(r,t))}function aB(e,r){let t=e.contentQueries||(e.contentQueries=[]),n=t.length?t[t.length-1]:-1;r!==n&&t.push(e.queries.length-1,r)}function QE(e,r){return e.queries.getByIndex(r)}function cB(e,r){let t=e[X],n=QE(t,r);return n.crossesNgTemplate?Oy(t,e,r,[]):o_(t,e,n,r)}function uB(e){let r=[],t=new Map;function n(i){let o=t.get(i);if(!o){let s=e(i);t.set(i,o=s.then(hB))}return o}return sd.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(n(i.templateUrl).then(u=>{i.template=u}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let u=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((f,h)=>{a.push(""),s.push(n(f).then(p=>{a[u+h]=p,l.splice(l.indexOf(f),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(n(i.styleUrl).then(u=>{a.push(u),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>pB(o));r.push(c)}),dB(),Promise.all(r).then(()=>{})}var sd=new Map,lB=new Set;function dB(){let e=sd;return sd=new Map,e}function fB(){return sd.size===0}function hB(e){return typeof e=="string"?e:e.text()}function pB(e){lB.delete(e)}var ro=class{},oc=class{};function c_(e,r){return new Ya(e,r??null,[])}var Ya=class extends ro{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new id(this);constructor(r,t,n,i=!0){super(),this.ngModuleType=r,this._parent=t;let o=fR(r);this._bootstrapComponents=bA(o.bootstrap),this._r3Injector=YR(r,t,[{provide:ro,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver},...n],$t(r),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}},ad=class extends oc{moduleType;constructor(r){super(),this.moduleType=r}create(r){return new Ya(this.moduleType,r,[])}};function gB(e,r,t){return new Ya(e,r,t,!1)}var xy=class extends ro{injector;componentFactoryResolver=new id(this);instance=null;constructor(r){super();let t=new Va([...r.providers,{provide:ro,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver}],r.parent||cE(),r.debugName,new Set(["environment"]));this.injector=t,r.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}};function sc(e,r,t=null){return new xy({providers:e,parent:r,debugName:t,runEnvironmentInitializers:!0}).injector}var mB=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let n=hR(!1,t.type),i=n.length>0?sc([n],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=g({token:e,providedIn:"environment",factory:()=>new e(d(mt))})}return e})();function u_(e){return Za(()=>{let r=l_(e),t=w(v({},r),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===rA.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:r.standalone?i=>i.get(mB).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||gr.Emulated,styles:e.styles||jt,_:null,schemas:e.schemas||null,tView:null,id:""});r.standalone&&co("NgStandalone"),d_(t);let n=e.dependencies;return t.directiveDefs=FT(n,!1),t.pipeDefs=FT(n,!0),t.id=CB(t),t})}function vB(e){return Ki(e)||oU(e)}function yB(e){return e!==null}function U(e){return Za(()=>({type:e.type,bootstrap:e.bootstrap||jt,declarations:e.declarations||jt,imports:e.imports||jt,exports:e.exports||jt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function EB(e,r){if(e==null)return qi;let t={};for(let n in e)if(e.hasOwnProperty(n)){let i=e[n],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Ad.None,c=null),t[o]=[n,a,c],r[o]=s}return t}function SB(e){if(e==null)return qi;let r={};for(let t in e)e.hasOwnProperty(t)&&(r[e[t]]=t);return r}function Et(e){return Za(()=>{let r=l_(e);return d_(r),r})}function rn(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function l_(e){let r={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputConfig:e.inputs||qi,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||jt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:EB(e.inputs,r),outputs:SB(e.outputs),debugInfo:null}}function d_(e){e.features?.forEach(r=>r(e))}function FT(e,r){if(!e)return null;let t=r?sU:vB;return()=>(typeof e=="function"?e():e).map(n=>t(n)).filter(yB)}function CB(e){let r=0,t=typeof e.consts=="function"?"":e.consts,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of n.join("|"))r=Math.imul(31,r)+o.charCodeAt(0)<<0;return r+=2147483648,"c"+r}function IB(e){return Object.getPrototypeOf(e.prototype).constructor}function DB(e){let r=IB(e.type),t=!0,n=[e];for(;r;){let i;if(fr(e))i=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new P(903,!1);i=r.\u0275dir}if(i){if(t){n.push(i);let s=e;s.inputs=jv(e.inputs),s.declaredInputs=jv(e.declaredInputs),s.outputs=jv(e.outputs);let a=i.hostBindings;a&&AB(e,a);let c=i.viewQuery,u=i.contentQueries;if(c&&TB(e,c),u&&RB(e,u),wB(e,i),kk(e.outputs,i.outputs),fr(i)&&i.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===DB&&(t=!1)}}r=Object.getPrototypeOf(r)}bB(n)}function wB(e,r){for(let t in r.inputs){if(!r.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let n=r.inputs[t];n!==void 0&&(e.inputs[t]=n,e.declaredInputs[t]=r.declaredInputs[t])}}function bB(e){let r=0,t=null;for(let n=e.length-1;n>=0;n--){let i=e[n];i.hostVars=r+=i.hostVars,i.hostAttrs=us(i.hostAttrs,t=us(t,i.hostAttrs))}}function jv(e){return e===qi?{}:e===jt?[]:e}function TB(e,r){let t=e.viewQuery;t?e.viewQuery=(n,i)=>{r(n,i),t(n,i)}:e.viewQuery=r}function RB(e,r){let t=e.contentQueries;t?e.contentQueries=(n,i,o)=>{r(n,i,o),t(n,i,o)}:e.contentQueries=r}function AB(e,r){let t=e.hostBindings;t?e.hostBindings=(n,i)=>{r(n,i),t(n,i)}:e.hostBindings=r}function f_(e){return XE(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function _B(e,r){if(Array.isArray(e))for(let t=0;t<e.length;t++)r(e[t]);else{let t=e[Symbol.iterator](),n;for(;!(n=t.next()).done;)r(n.value)}}function XE(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function yi(e,r,t){return e[r]=t}function Ld(e,r){return e[r]}function Vt(e,r,t){let n=e[r];return Object.is(n,t)?!1:(e[r]=t,!0)}function hs(e,r,t,n){let i=Vt(e,r,t);return Vt(e,r+1,n)||i}function h_(e,r,t,n,i){let o=hs(e,r,t,n);return Vt(e,r+2,i)||o}function kd(e,r,t,n,i,o){let s=hs(e,r,t,n);return hs(e,r+2,i,o)||s}function MB(e,r,t,n,i,o,s,a,c){let u=r.consts,l=ic(r,e,4,s||null,a||null);gE()&&ZE(r,t,l,gi(u,c),VE),l.mergedAttrs=us(l.mergedAttrs,l.attrs),IE(r,l);let f=l.tView=UE(2,l,n,i,o,r.directiveRegistry,r.pipeRegistry,null,r.schemas,u,null);return r.queries!==null&&(r.queries.template(r,l),f.queries=r.queries.embeddedTView(l)),l}function cd(e,r,t,n,i,o,s,a,c,u){let l=t+Le,f=r.firstCreatePass?MB(l,r,e,n,i,o,s,a,c):r.data[l];so(f,!1);let h=OB(r,e,f,t);Cd()&&Od(r,e,h,f),Is(h,e);let p=YA(h,e,h,f);return e[l]=p,$E(e,p),Q$(p,f,e),Ed(f)&&_d(r,e,f),c!=null&&BE(e,f,u),f}function NB(e,r,t,n,i,o,s,a){let c=z(),u=Me(),l=gi(u.consts,o);return cd(c,u,e,r,t,n,i,l,s,a),NB}var OB=xB;function xB(e,r,t,n){return Id(!0),r[_e].createComment("")}var JE=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var eS=new C(""),ac=new C(""),Ud=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(t,n,i){this._ngZone=t,this.registry=n,uE()&&(this._destroyRef=y(Mt,{optional:!0})??void 0),tS||(PB(i),i.addToWindow(n)),this._watchAngularEvents(),t.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let t=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),n=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{t.unsubscribe(),n.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>n.updateCb&&n.updateCb(t)?(clearTimeout(n.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,i){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},n)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,n,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,n,i){return[]}static \u0275fac=function(n){return new(n||e)(d(fe),d(jd),d(ac))};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),jd=(()=>{class e{_applications=new Map;registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return tS?.findTestabilityInTree(this,t,n)??null}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function PB(e){tS=e}var tS,p_=(()=>{class e{static \u0275prov=g({token:e,providedIn:"root",factory:()=>new Py})}return e})(),Py=class{queuedEffectCount=0;queues=new Map;schedule(r){this.enqueue(r)}remove(r){let t=r.zone,n=this.queues.get(t);n.has(r)&&(n.delete(r),this.queuedEffectCount--)}enqueue(r){let t=r.zone;this.queues.has(t)||this.queues.set(t,new Set);let n=this.queues.get(t);n.has(r)||(this.queuedEffectCount++,n.add(r))}flush(){for(;this.queuedEffectCount>0;)for(let[r,t]of this.queues)r===null?this.flushQueue(t):r.run(()=>this.flushQueue(t))}flushQueue(r){for(let t of r)r.delete(t),this.queuedEffectCount--,t.run()}};function bs(e){return!!e&&typeof e.then=="function"}function nS(e){return!!e&&typeof e.subscribe=="function"}var Nt=new C("");function rS(e){return yn([{provide:Nt,multi:!0,useValue:e}])}var g_=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,n)=>{this.resolve=t,this.reject=n});appInits=y(Nt,{optional:!0})??[];injector=y(ve);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ht(this.injector,i);if(bs(o))t.push(o);else if(nS(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let n=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{n()}).catch(i=>{this.reject(i)}),t.length===0&&n(),this.initialized=!0}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cc=new C("");function FB(){Tv(()=>{throw new P(600,!1)})}function LB(e){return e.isBoundToModule}var kB=10;function m_(e,r){return Array.isArray(r)?r.reduce(m_,e):v(v({},e),r)}var Br=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(mj);afterRenderManager=y(lA);zonelessEnabled=y(wE);rootEffectScheduler=y(p_);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new oe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=y(Gr).hasPendingTasks.pipe(S(t=>!t));constructor(){y(Ds,{optional:!0})}whenStable(){let t;return new Promise(n=>{t=this.isStable.subscribe({next:i=>{i&&n()}})}).finally(()=>{t.unsubscribe()})}_injector=y(mt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,n){return this.bootstrapImpl(t,n)}bootstrapImpl(t,n,i=ve.NULL){Ie(10);let o=t instanceof XA;if(!this._injector.get(g_).done){let p="";throw new P(405,p)}let a;o?a=t:a=this._injector.get(Fd).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=LB(a)?void 0:this._injector.get(ro),u=n||a.selector,l=a.create(i,[],u,c),f=l.location.nativeElement,h=l.injector.get(eS,null);return h?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),jl(this.components,l),h?.unregisterApplication(f)}),this._loadComponent(l),Ie(11,l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ie(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(OE.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new P(101,!1);let t=ne(null);try{this._runningTick=!0,this.synchronize()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ne(t),this.afterTick.next(),Ie(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(mi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<kB;)Ie(14),this.synchronizeOnce(),Ie(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:n,notifyErrorHandler:i}of this.allViews)UB(n,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Sd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){let n=t;jl(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(cc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>jl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new P(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jl(e,r){let t=e.indexOf(r);t>-1&&e.splice(t,1)}function UB(e,r,t,n){if(!t&&!Sd(e))return;zA(e,r,t&&!n?0:1)}function iS(e,r,t,n){let i=z(),o=ao();if(Vt(i,o,r)){let s=Me(),a=ec();$1(a,i,e,r,t,n)}return iS}function oS(e,r,t,n){return Vt(e,ao(),t)?r+pi(t)+n:Wt}function jB(e,r,t,n,i,o){let s=kU(),a=hs(e,s,t,i);return yE(2),a?r+pi(t)+n+pi(i)+o:Wt}function xl(e,r){return e<<17|r<<2}function io(e){return e>>17&32767}function $B(e){return(e&2)==2}function BB(e,r){return e&131071|r<<17}function Fy(e){return e|2}function ps(e){return(e&131068)>>2}function $v(e,r){return e&-131069|r<<2}function VB(e){return(e&1)===1}function Ly(e){return e|1}function HB(e,r,t,n,i,o){let s=o?r.classBindings:r.styleBindings,a=io(s),c=ps(s);e[n]=t;let u=!1,l;if(Array.isArray(t)){let f=t;l=f[1],(l===null||Xa(f,l)>0)&&(u=!0)}else l=t;if(i)if(c!==0){let h=io(e[a+1]);e[n+1]=xl(h,a),h!==0&&(e[h+1]=$v(e[h+1],n)),e[a+1]=BB(e[a+1],n)}else e[n+1]=xl(a,0),a!==0&&(e[a+1]=$v(e[a+1],n)),a=n;else e[n+1]=xl(c,0),a===0?a=n:e[c+1]=$v(e[c+1],n),c=n;u&&(e[n+1]=Fy(e[n+1])),LT(e,l,n,!0),LT(e,l,n,!1),zB(r,l,e,n,o),s=xl(a,c),o?r.classBindings=s:r.styleBindings=s}function zB(e,r,t,n,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof r=="string"&&Xa(o,r)>=0&&(t[n+1]=Ly(t[n+1]))}function LT(e,r,t,n){let i=e[t+1],o=r===null,s=n?io(i):ps(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],u=e[s+1];GB(c,r)&&(a=!0,e[s+1]=n?Ly(u):Fy(u)),s=n?io(u):ps(u)}a&&(e[t+1]=n?Fy(i):Ly(i))}function GB(e,r){return e===null||r==null||(Array.isArray(e)?e[1]:e)===r?!0:Array.isArray(e)&&typeof r=="string"?Xa(e,r)>=0:!1}var qe={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function v_(e){return e.substring(qe.key,qe.keyEnd)}function WB(e){return e.substring(qe.value,qe.valueEnd)}function qB(e){return S_(e),y_(e,gs(e,0,qe.textEnd))}function y_(e,r){let t=qe.textEnd;return t===r?-1:(r=qe.keyEnd=KB(e,qe.key=r,t),gs(e,r,t))}function YB(e){return S_(e),E_(e,gs(e,0,qe.textEnd))}function E_(e,r){let t=qe.textEnd,n=qe.key=gs(e,r,t);return t===n?-1:(n=qe.keyEnd=ZB(e,n,t),n=kT(e,n,t,58),n=qe.value=gs(e,n,t),n=qe.valueEnd=QB(e,n,t),kT(e,n,t,59))}function S_(e){qe.key=0,qe.keyEnd=0,qe.value=0,qe.valueEnd=0,qe.textEnd=e.length}function gs(e,r,t){for(;r<t&&e.charCodeAt(r)<=32;)r++;return r}function KB(e,r,t){for(;r<t&&e.charCodeAt(r)>32;)r++;return r}function ZB(e,r,t){let n;for(;r<t&&((n=e.charCodeAt(r))===45||n===95||(n&-33)>=65&&(n&-33)<=90||n>=48&&n<=57);)r++;return r}function kT(e,r,t,n){return r=gs(e,r,t),r<t&&r++,r}function QB(e,r,t){let n=-1,i=-1,o=-1,s=r,a=s;for(;s<t;){let c=e.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=UT(e,c,s,t):r===s-4&&o===85&&i===82&&n===76&&c===40?a=s=UT(e,41,s,t):c>32&&(a=s),o=i,i=n,n=c&-33}return a}function UT(e,r,t,n){let i=-1,o=t;for(;o<n;){let s=e.charCodeAt(o++);if(s==r&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function XB(e,r,t){let n=z(),i=ao();if(Vt(n,i,r)){let o=Me(),s=ec();Md(o,s,n,e,r,n[_e],t,!1)}return XB}function ky(e,r,t,n,i){HE(r,e,t,i?"class":"style",n)}function JB(e,r,t){return I_(e,r,t,!1),JB}function eV(e,r){return I_(e,r,null,!0),eV}function Dae(e){sS(b_,tV,e,!1)}function tV(e,r){for(let t=YB(r);t>=0;t=E_(r,t))b_(e,v_(r),WB(r))}function wae(e){sS(aV,C_,e,!0)}function C_(e,r){for(let t=qB(r);t>=0;t=y_(r,t))Qa(e,v_(r),!0)}function I_(e,r,t,n){let i=z(),o=Me(),s=yE(2);if(o.firstUpdatePass&&w_(o,e,s,n),r!==Wt&&Vt(i,s,r)){let a=o.data[zr()];T_(o,a,i,i[_e],e,i[s+1]=uV(r,t),n,s)}}function sS(e,r,t,n){let i=Me(),o=yE(2);i.firstUpdatePass&&w_(i,null,o,n);let s=z();if(t!==Wt&&Vt(s,o,t)){let a=i.data[zr()];if(R_(a,n)&&!D_(i,o)){let c=n?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Wv(c,t||"")),ky(i,a,s,t,n)}else cV(i,a,s,s[_e],s[o+1],s[o+1]=sV(e,r,t),n,o)}}function D_(e,r){return r>=e.expandoStartIndex}function w_(e,r,t,n){let i=e.data;if(i[t+1]===null){let o=i[zr()],s=D_(e,t);R_(o,n)&&r===null&&!s&&(r=!1),r=nV(i,o,r,n),HB(i,o,r,t,s,n)}}function nV(e,r,t,n){let i=VU(e),o=n?r.residualClasses:r.residualStyles;if(i===null)(n?r.classBindings:r.styleBindings)===0&&(t=Bv(null,e,r,t,n),t=Ka(t,r.attrs,n),o=null);else{let s=r.directiveStylingLast;if(s===-1||e[s]!==i)if(t=Bv(i,e,r,t,n),o===null){let c=rV(e,r,n);c!==void 0&&Array.isArray(c)&&(c=Bv(null,e,r,c[1],n),c=Ka(c,r.attrs,n),iV(e,r,n,c))}else o=oV(e,r,n)}return o!==void 0&&(n?r.residualClasses=o:r.residualStyles=o),t}function rV(e,r,t){let n=t?r.classBindings:r.styleBindings;if(ps(n)!==0)return e[io(n)]}function iV(e,r,t,n){let i=t?r.classBindings:r.styleBindings;e[io(i)]=n}function oV(e,r,t){let n,i=r.directiveEnd;for(let o=1+r.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;n=Ka(n,s,t)}return Ka(n,r.attrs,t)}function Bv(e,r,t,n,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=r[a],n=Ka(n,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),n}function Ka(e,r,t){let n=t?1:2,i=-1;if(r!==null)for(let o=0;o<r.length;o++){let s=r[o];typeof s=="number"?i=s:i===n&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Qa(e,s,t?!0:r[++o]))}return e===void 0?null:e}function sV(e,r,t){if(t==null||t==="")return jt;let n=[],i=Gt(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(n,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(n,o,i[o]);else typeof i=="string"&&r(n,i);return n}function b_(e,r,t){Qa(e,r,Gt(t))}function aV(e,r,t){let n=String(r);n!==""&&!n.includes(" ")&&Qa(e,n,t)}function cV(e,r,t,n,i,o,s,a){i===Wt&&(i=jt);let c=0,u=0,l=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;l!==null||f!==null;){let h=c<i.length?i[c+1]:void 0,p=u<o.length?o[u+1]:void 0,E=null,I;l===f?(c+=2,u+=2,h!==p&&(E=f,I=p)):f===null||l!==null&&l<f?(c+=2,E=l):(u+=2,E=f,I=p),E!==null&&T_(e,r,t,n,E,I,s,a),l=c<i.length?i[c]:null,f=u<o.length?o[u]:null}}function T_(e,r,t,n,i,o,s,a){if(!(r.type&3))return;let c=e.data,u=c[a+1],l=VB(u)?jT(c,r,t,i,ps(u),s):void 0;if(!ud(l)){ud(o)||$B(u)&&(o=jT(c,null,t,i,a,s));let f=DR(zr(),t);i$(n,s,f,i,o)}}function jT(e,r,t,n,i,o){let s=r===null,a;for(;i>0;){let c=e[i],u=Array.isArray(c),l=u?c[1]:c,f=l===null,h=t[i+1];h===Wt&&(h=f?jt:void 0);let p=f?Nv(h,n):l===n?h:void 0;if(u&&!ud(p)&&(p=Nv(c,n)),ud(p)&&(a=p,s))return a;let E=e[i+1];i=s?io(E):ps(E)}if(r!==null){let c=o?r.residualClasses:r.residualStyles;c!=null&&(a=Nv(c,n))}return a}function ud(e){return e!==void 0}function uV(e,r){return e==null||e===""||(typeof r=="string"?e=e+r:typeof e=="object"&&(e=$t(Gt(e)))),e}function R_(e,r){return(e.flags&(r?8:16))!==0}function bae(e,r,t){let n=z(),i=oS(n,e,r,t);sS(Qa,C_,i,!0)}function Tae(){return z()[Bt][$e]}var Uy=class{destroy(r){}updateValue(r,t){}swap(r,t){let n=Math.min(r,t),i=Math.max(r,t),o=this.detach(i);if(i-n>1){let s=this.detach(n);this.attach(n,o),this.attach(i,s)}else this.attach(n,o)}move(r,t){this.attach(t,this.detach(r))}};function Vv(e,r,t,n,i){return e===t&&Object.is(r,n)?1:Object.is(i(e,r),i(t,n))?-1:0}function lV(e,r,t){let n,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(r)){let c=r.length-1;for(;o<=s&&o<=c;){let u=e.at(o),l=r[o],f=Vv(o,u,o,l,t);if(f!==0){f<0&&e.updateValue(o,l),o++;continue}let h=e.at(s),p=r[c],E=Vv(s,h,c,p,t);if(E!==0){E<0&&e.updateValue(s,p),s--,c--;continue}let I=t(o,u),b=t(s,h),x=t(o,l);if(Object.is(x,b)){let N=t(c,p);Object.is(N,I)?(e.swap(o,s),e.updateValue(s,p),c--,s--):e.move(s,o),e.updateValue(o,l),o++;continue}if(n??=new ld,i??=BT(e,o,s,t),jy(e,n,o,x))e.updateValue(o,l),o++,s++;else if(i.has(x))n.set(I,e.detach(o)),s--;else{let N=e.create(o,r[o]);e.attach(o,N),o++,s++}}for(;o<=c;)$T(e,n,t,o,r[o]),o++}else if(r!=null){let c=r[Symbol.iterator](),u=c.next();for(;!u.done&&o<=s;){let l=e.at(o),f=u.value,h=Vv(o,l,o,f,t);if(h!==0)h<0&&e.updateValue(o,f),o++,u=c.next();else{n??=new ld,i??=BT(e,o,s,t);let p=t(o,f);if(jy(e,n,o,p))e.updateValue(o,f),o++,s++,u=c.next();else if(!i.has(p))e.attach(o,e.create(o,f)),o++,s++,u=c.next();else{let E=t(o,l);n.set(E,e.detach(o)),s--}}}for(;!u.done;)$T(e,n,t,e.length,u.value),u=c.next()}for(;o<=s;)e.destroy(e.detach(s--));n?.forEach(c=>{e.destroy(c)})}function jy(e,r,t,n){return r!==void 0&&r.has(n)?(e.attach(t,r.get(n)),r.delete(n),!0):!1}function $T(e,r,t,n,i){if(jy(e,r,n,t(n,i)))e.updateValue(n,i);else{let o=e.create(n,i);e.attach(n,o)}}function BT(e,r,t,n){let i=new Set;for(let o=r;o<=t;o++)i.add(n(o,e.at(o)));return i}var ld=class{kvMap=new Map;_vMap=void 0;has(r){return this.kvMap.has(r)}delete(r){if(!this.has(r))return!1;let t=this.kvMap.get(r);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(r,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(r),!0}get(r){return this.kvMap.get(r)}set(r,t){if(this.kvMap.has(r)){let n=this.kvMap.get(r);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(n);)n=i.get(n);i.set(n,t)}else this.kvMap.set(r,t)}forEach(r){for(let[t,n]of this.kvMap)if(r(n,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(n);)n=i.get(n),r(n,t)}}};function Rae(e,r){co("NgControlFlow");let t=z(),n=ao(),i=t[n]!==Wt?t[n]:-1,o=i!==-1?dd(t,Le+i):void 0,s=0;if(Vt(t,n,e)){let a=ne(null);try{if(o!==void 0&&ZA(o,s),e!==-1){let c=Le+e,u=dd(t,c),l=Hy(t[X],c),f=ds(u,l.tView.ssrId),h=nc(t,l,r,{dehydratedView:f});rc(u,h,s,ls(l,f))}}finally{ne(a)}}else if(o!==void 0){let a=KA(o,s);a!==void 0&&(a[$e]=r)}}var $y=class{lContainer;$implicit;$index;constructor(r,t,n){this.lContainer=r,this.$implicit=t,this.$index=n}get $count(){return this.lContainer.length-gt}};var By=class{hasEmptyBlock;trackByFn;liveCollection;constructor(r,t,n){this.hasEmptyBlock=r,this.trackByFn=t,this.liveCollection=n}};function Aae(e,r,t,n,i,o,s,a,c,u,l,f,h){co("NgControlFlow");let p=z(),E=Me(),I=c!==void 0,b=z(),x=a?s.bind(b[Bt][$e]):s,N=new By(I,x);b[Le+e]=N,cd(p,E,e+1,r,t,n,i,gi(E.consts,o)),I&&cd(p,E,e+2,c,u,l,f,gi(E.consts,h))}var Vy=class extends Uy{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(r,t,n){super(),this.lContainer=r,this.hostLView=t,this.templateTNode=n}get length(){return this.lContainer.length-gt}at(r){return this.getLView(r)[$e].$implicit}attach(r,t){let n=t[ss];this.needsIndexUpdate||=r!==this.length,rc(this.lContainer,t,r,ls(this.templateTNode,n))}detach(r){return this.needsIndexUpdate||=r!==this.length-1,dV(this.lContainer,r)}create(r,t){let n=ds(this.lContainer,this.templateTNode.tView.ssrId),i=nc(this.hostLView,this.templateTNode,new $y(this.lContainer,t,r),{dehydratedView:n});return this.operationsCounter?.recordCreate(),i}destroy(r){Nd(r[X],r),this.operationsCounter?.recordDestroy()}updateValue(r,t){this.getLView(r)[$e].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let r=0;r<this.length;r++)this.getLView(r)[$e].$index=r}getLView(r){return fV(this.lContainer,r)}};function _ae(e){let r=ne(null),t=zr();try{let n=z(),i=n[X],o=n[t],s=t+1,a=dd(n,s);if(o.liveCollection===void 0){let u=Hy(i,s);o.liveCollection=new Vy(a,n,u)}else o.liveCollection.reset();let c=o.liveCollection;if(lV(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let u=ao(),l=c.length===0;if(Vt(n,u,l)){let f=t+2,h=dd(n,f);if(l){let p=Hy(i,f),E=ds(h,p.tView.ssrId),I=nc(n,p,void 0,{dehydratedView:E});rc(h,I,0,ls(p,E))}else ZA(h,0)}}}finally{ne(r)}}function dd(e,r){return e[r]}function dV(e,r){return Wa(e,r)}function fV(e,r){return KA(e,r)}function Hy(e,r){return dE(e,r)}function A_(e,r,t,n){let i=z(),o=Me(),s=Le+e,a=i[_e],c=o.firstCreatePass?t_(s,o,i,r,VE,gE(),t,n):o.data[s],u=hV(o,i,c,a,r,e);i[s]=u;let l=Ed(c);return so(c,!0),MA(a,u,c),!WE(c)&&Cd()&&Od(o,i,u,c),(MU()===0||l)&&Is(u,i),NU(),l&&(_d(o,i,c),FE(o,c,i)),n!==null&&BE(i,c),A_}function __(){let e=yt();mE()?vE():(e=e.parent,so(e,!1));let r=e;xU(r)&&PU(),OU();let t=Me();return t.firstCreatePass&&n_(t,r),r.classesWithoutHost!=null&&YU(r)&&ky(t,r,z(),r.classesWithoutHost,!0),r.stylesWithoutHost!=null&&KU(r)&&ky(t,r,z(),r.stylesWithoutHost,!1),__}function aS(e,r,t,n){return A_(e,r,t,n),__(),aS}var hV=(e,r,t,n,i,o)=>(Id(!0),AA(n,i,GU()));function pV(e,r,t,n,i){let o=r.consts,s=gi(o,n),a=ic(r,e,8,"ng-container",s);s!==null&&Ty(a,s,!0);let c=gi(o,i);return gE()&&ZE(r,t,a,c,VE),a.mergedAttrs=us(a.mergedAttrs,a.attrs),r.queries!==null&&r.queries.elementStart(r,a),a}function M_(e,r,t){let n=z(),i=Me(),o=e+Le,s=i.firstCreatePass?pV(o,i,n,r,t):i.data[o];so(s,!0);let a=mV(i,n,s,e);return n[o]=a,Cd()&&Od(i,n,a,s),Is(a,n),Ed(s)&&(_d(i,n,s),FE(i,s,n)),t!=null&&BE(n,s),M_}function N_(){let e=yt(),r=Me();return mE()?vE():(e=e.parent,so(e,!1)),r.firstCreatePass&&(IE(r,e),lE(e)&&r.queries.elementEnd(e)),N_}function gV(e,r,t){return M_(e,r,t),N_(),gV}var mV=(e,r,t,n)=>(Id(!0),b1(r[_e],""));function Mae(){return z()}function vV(e,r,t){let n=z(),i=ao();if(Vt(n,i,r)){let o=Me(),s=ec();Md(o,s,n,e,r,n[_e],t,!0)}return vV}var Hi=void 0;function yV(e){let r=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return r===1&&t===0?1:5}var EV=["en",[["a","p"],["AM","PM"],Hi],[["AM","PM"],Hi,Hi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hi,"{1} 'at' {0}",Hi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",yV],Hv={};function Yt(e){let r=SV(e),t=VT(r);if(t)return t;let n=r.split("-")[0];if(t=VT(n),t)return t;if(n==="en")return EV;throw new P(701,!1)}function VT(e){return e in Hv||(Hv[e]=Je.ng&&Je.ng.common&&Je.ng.common.locales&&Je.ng.common.locales[e]),Hv[e]}var Ne=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ne||{});function SV(e){return e.toLowerCase().replace(/_/g,"-")}var fd="en-US";var CV=fd;function IV(e){typeof e=="string"&&(CV=e.toLowerCase().replace(/_/g,"-"))}function HT(e,r,t){return function n(i){if(i===Function)return t;let o=ys(e)?pr(e.index,r):r;KE(o,5);let s=r[$e],a=zT(r,s,t,i),c=n.__ngNextListenerFn__;for(;c;)a=zT(r,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function zT(e,r,t,n){let i=ne(null);try{return Ie(6,r,t),t(n)!==!1}catch(o){return DV(e,o),!1}finally{Ie(7,r,t),ne(i)}}function DV(e,r){let t=e[as],n=t?t.get(et,null):null;n&&n.handleError(r)}function GT(e,r,t,n,i,o){let s=r[t],a=r[X],u=a.data[t].outputs[n],l=s[u],f=a.firstCreatePass?pE(a):null,h=hE(r),p=l.subscribe(o),E=h.length;h.push(o,p),f&&f.push(i,e.index,E,-(E+1))}function cS(e,r,t,n){let i=z(),o=Me(),s=yt();return O_(o,i,i[_e],s,e,r,n),cS}function wV(e,r,t,n){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===n){let a=r[Gl],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function O_(e,r,t,n,i,o,s){let a=Ed(n),u=e.firstCreatePass?pE(e):null,l=hE(r),f=!0;if(n.type&3||s){let h=vr(n,r),p=s?s(h):h,E=l.length,I=s?x=>s(hr(x[n.index])):n.index,b=null;if(!s&&a&&(b=wV(e,r,i,n.index)),b!==null){let x=b.__ngLastListenerFn__||b;x.__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,f=!1}else{o=HT(n,r,o),Uj(r,p,i,o);let x=t.listen(p,i,o);l.push(o,x),u&&u.push(i,I,E,E+1)}}else o=HT(n,r,o);if(f){let h=n.outputs?.[i],p=n.hostDirectiveOutputs?.[i];if(p&&p.length)for(let E=0;E<p.length;E+=2){let I=p[E],b=p[E+1];GT(n,r,I,b,i,o)}if(h&&h.length)for(let E of h)GT(n,r,E,i,i,o)}}function Nae(e=1){return zU(e)}function bV(e,r){let t=null,n=m1(e);for(let i=0;i<r.length;i++){let o=r[i];if(o==="*"){t=i;continue}if(n===null?RA(e,o,!0):E1(n,o))return i}return t}function Oae(e){let r=z()[Bt][zt];if(!r.projection){let t=e?e.length:1,n=r.projection=nU(t,null),i=n.slice(),o=r.child;for(;o!==null;){if(o.type!==128){let s=e?bV(o,e):0;s!==null&&(i[s]?i[s].projectionNext=o:n[s]=o,i[s]=o)}o=o.next}}}function xae(e,r=0,t,n,i,o){let s=z(),a=Me(),c=n?e+1:null;c!==null&&cd(s,a,c,n,i,o,null,t);let u=ic(a,Le+e,16,null,t||null);u.projection===null&&(u.projection=r),vE();let f=!s[ss]||RR();s[Bt][zt].projection[u.projection]===null&&c!==null?TV(s,a,c):f&&!WE(u)&&n$(a,s,u)}function TV(e,r,t){let n=Le+t,i=r.data[n],o=e[n],s=ds(o,i.tView.ssrId),a=nc(e,i,void 0,{dehydratedView:s});rc(o,a,0,ls(i,s))}function RV(e,r,t){return x_(e,"",r,"",t),RV}function x_(e,r,t,n,i){let o=z(),s=oS(o,r,t,n);if(s!==Wt){let a=Me(),c=ec();Md(a,c,o,e,s,o[_e],i,!1)}return x_}function P_(e,r,t,n){oB(e,r,t,n)}function Pae(e,r,t){iB(e,r,t)}function F_(e){let r=z(),t=Me(),n=MR();EE(n+1);let i=QE(t,n);if(e.dirty&&bU(r)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=cB(r,n);e.reset(o,Ej),e.notifyOnChanges()}return!0}return!1}function L_(){return rB(z(),MR())}function Fae(e){let r=LU();return Ja(r,Le+e)}function Lae(e,r=""){let t=z(),n=Me(),i=e+Le,o=n.firstCreatePass?ic(n,i,1,r,null):n.data[i],s=AV(n,t,o,r,e);t[i]=s,Cd()&&Od(n,t,s,o),so(o,!1)}var AV=(e,r,t,n,i)=>(Id(!0),D1(r[_e],n));function _V(e){return k_("",e,""),_V}function k_(e,r,t){let n=z(),i=oS(n,e,r,t);return i!==Wt&&U_(n,zr(),i),k_}function MV(e,r,t,n,i){let o=z(),s=jB(o,e,r,t,n,i);return s!==Wt&&U_(o,zr(),s),MV}function U_(e,r,t){let n=DR(r,e);w1(e[_e],n,t)}function NV(e,r,t){tA(r)&&(r=r());let n=z(),i=ao();if(Vt(n,i,r)){let o=Me(),s=ec();Md(o,s,n,e,r,n[_e],t,!1)}return NV}function kae(e,r){let t=tA(e);return t&&e.set(r),t}function OV(e,r){let t=z(),n=Me(),i=yt();return O_(n,t,t[_e],i,e,r),OV}function xV(e,r,t){let n=Me();if(n.firstCreatePass){let i=fr(e);zy(t,n.data,n.blueprint,i,!0),zy(r,n.data,n.blueprint,i,!1)}}function zy(e,r,t,n,i){if(e=At(e),Array.isArray(e))for(let o=0;o<e.length;o++)zy(e[o],r,t,n,i);else{let o=Me(),s=z(),a=yt(),c=os(e)?e:At(e.provide),u=mR(e),l=a.providerIndexes&1048575,f=a.directiveStart,h=a.providerIndexes>>20;if(os(e)||!e.multi){let p=new to(u,i,Y),E=Gv(c,r,i?l:l+h,f);E===-1?(iy(Xl(a,s),o,c),zv(o,e,r.length),r.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[E]=p,s[E]=p)}else{let p=Gv(c,r,l+h,f),E=Gv(c,r,l,l+h),I=p>=0&&t[p],b=E>=0&&t[E];if(i&&!b||!i&&!I){iy(Xl(a,s),o,c);let x=LV(i?FV:PV,t.length,i,n,u);!i&&b&&(t[E].providerFactory=x),zv(o,e,r.length,0),r.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(x),s.push(x)}else{let x=j_(t[i?E:p],u,!i&&n);zv(o,e,p>-1?p:E,x)}!i&&n&&b&&t[E].componentProviders++}}}function zv(e,r,t,n){let i=os(r),o=dU(r);if(i||o){let c=(o?At(r.useClass):r).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&r.multi){let l=u.indexOf(t);l===-1?u.push(t,[n,c]):u[l+1].push(n,c)}else u.push(t,c)}}}function j_(e,r,t){return t&&e.componentProviders++,e.multi.push(r)-1}function Gv(e,r,t,n){for(let i=t;i<n;i++)if(r[i]===e)return i;return-1}function PV(e,r,t,n,i){return Gy(this.multi,[])}function FV(e,r,t,n,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=za(n,n[X],this.providerFactory.index,i);s=c.slice(0,a),Gy(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Gy(o,s);return s}function Gy(e,r){for(let t=0;t<e.length;t++){let n=e[t];r.push(n())}return r}function LV(e,r,t,n,i){let o=new to(e,t,Y);return o.multi=[],o.index=r,o.componentProviders=0,j_(o,i,n&&!t),o}function Uae(e,r=[]){return t=>{t.providersResolver=(n,i)=>xV(n,i?i(e):e,r)}}function jae(e,r,t){let n=En()+e,i=z();return i[n]===Wt?yi(i,n,t?r.call(t):r()):Ld(i,n)}function $ae(e,r,t,n){return $_(z(),En(),e,r,t,n)}function Bae(e,r,t,n,i){return B_(z(),En(),e,r,t,n,i)}function Vae(e,r,t,n,i,o){return V_(z(),En(),e,r,t,n,i,o)}function Hae(e,r,t,n,i,o,s){return H_(z(),En(),e,r,t,n,i,o,s)}function zae(e,r,t,n,i,o,s,a){let c=En()+e,u=z(),l=kd(u,c,t,n,i,o);return Vt(u,c+4,s)||l?yi(u,c+5,a?r.call(a,t,n,i,o,s):r(t,n,i,o,s)):Ld(u,c+5)}function Gae(e,r,t,n,i,o,s,a,c){let u=En()+e,l=z(),f=kd(l,u,t,n,i,o);return hs(l,u+4,s,a)||f?yi(l,u+6,c?r.call(c,t,n,i,o,s,a):r(t,n,i,o,s,a)):Ld(l,u+6)}function Wae(e,r,t,n,i,o,s,a,c,u){let l=En()+e,f=z(),h=kd(f,l,t,n,i,o);return h_(f,l+4,s,a,c)||h?yi(f,l+7,u?r.call(u,t,n,i,o,s,a,c):r(t,n,i,o,s,a,c)):Ld(f,l+7)}function $d(e,r){let t=e[r];return t===Wt?void 0:t}function $_(e,r,t,n,i,o){let s=r+t;return Vt(e,s,i)?yi(e,s+1,o?n.call(o,i):n(i)):$d(e,s+1)}function B_(e,r,t,n,i,o,s){let a=r+t;return hs(e,a,i,o)?yi(e,a+2,s?n.call(s,i,o):n(i,o)):$d(e,a+2)}function V_(e,r,t,n,i,o,s,a){let c=r+t;return h_(e,c,i,o,s)?yi(e,c+3,a?n.call(a,i,o,s):n(i,o,s)):$d(e,c+3)}function H_(e,r,t,n,i,o,s,a,c){let u=r+t;return kd(e,u,i,o,s,a)?yi(e,u+4,c?n.call(c,i,o,s,a):n(i,o,s,a)):$d(e,u+4)}function qae(e,r){let t=Me(),n,i=e+Le;t.firstCreatePass?(n=kV(r,t.pipeRegistry),t.data[i]=n,n.onDestroy&&(t.destroyHooks??=[]).push(i,n.onDestroy)):n=t.data[i];let o=n.factory||(n.factory=Wi(n.type,!0)),s,a=Ut(Y);try{let c=Ql(!1),u=o();return Ql(c),wU(t,z(),i,u),u}finally{Ut(a)}}function kV(e,r){if(r)for(let t=r.length-1;t>=0;t--){let n=r[t];if(e===n.name)return n}}function Yae(e,r,t){let n=e+Le,i=z(),o=Ja(i,n);return Bd(i,n)?$_(i,En(),r,o.transform,t,o):o.transform(t)}function Kae(e,r,t,n){let i=e+Le,o=z(),s=Ja(o,i);return Bd(o,i)?B_(o,En(),r,s.transform,t,n,s):s.transform(t,n)}function Zae(e,r,t,n,i){let o=e+Le,s=z(),a=Ja(s,o);return Bd(s,o)?V_(s,En(),r,a.transform,t,n,i,a):a.transform(t,n,i)}function Qae(e,r,t,n,i,o){let s=e+Le,a=z(),c=Ja(a,s);return Bd(a,s)?H_(a,En(),r,c.transform,t,n,i,o,c):c.transform(t,n,i,o)}function Bd(e,r){return e[X].data[r].pure}function Xae(e,r){return Pd(e,r)}var Pl=null;function UV(e){Pl!==null&&(e.defaultEncapsulation!==Pl.defaultEncapsulation||e.preserveWhitespaces!==Pl.preserveWhitespaces)||(Pl=e)}var Wy=class{ngModuleFactory;componentFactories;constructor(r,t){this.ngModuleFactory=r,this.componentFactories=t}},Vd=(()=>{class e{compileModuleSync(t){return new ad(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let n=this.compileModuleSync(t),i=fR(t),o=bA(i.declarations).reduce((s,a)=>{let c=Ki(a);return c&&s.push(new fs(c)),s},[]);return new Wy(n,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),jV=new C("");function $V(e,r,t){let n=new ad(t);return Promise.resolve(n)}function WT(e){for(let r=e.length-1;r>=0;r--)if(e[r]!==void 0)return e[r]}var BV=(()=>{class e{zone=y(fe);changeDetectionScheduler=y(no);applicationRef=y(Br);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function VV({ngZoneFactory:e,ignoreChangesOutsideZone:r,scheduleInRootZone:t}){return e??=()=>new fe(w(v({},z_()),{scheduleInRootZone:t})),[{provide:fe,useFactory:e},{provide:Yi,multi:!0,useFactory:()=>{let n=y(BV,{optional:!0});return()=>n.initialize()}},{provide:Yi,multi:!0,useFactory:()=>{let n=y(HV);return()=>{n.initialize()}}},r===!0?{provide:ZR,useValue:!0}:[],{provide:QR,useValue:t??KR}]}function z_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var HV=(()=>{class e{subscription=new de;initialized=!1;zone=y(fe);pendingTasks=y(Gr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var zV=(()=>{class e{appRef=y(Br);taskService=y(Gr);ngZone=y(fe);zonelessEnabled=y(wE);tracing=y(Ds,{optional:!0});disableScheduling=y(ZR,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new de;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ed):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(QR,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof td||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let n=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,n=!0;break}case 12:{this.appRef.dirtyFlags|=16,n=!0;break}case 13:{this.appRef.dirtyFlags|=2,n=!0;break}case 11:{n=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(n))return;let i=this.useMicrotaskScheduler?mT:XR;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ed+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(n){throw this.taskService.remove(t),n}finally{this.cleanup()}this.useMicrotaskScheduler=!0,mT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function GV(){return typeof $localize<"u"&&$localize.locale||fd}var uc=new C("",{providedIn:"root",factory:()=>y(uc,ee.Optional|ee.SkipSelf)||GV()});var hd=new C(""),WV=new C("");function ka(e){return!e.moduleRef}function qV(e){let r=ka(e)?e.r3Injector:e.moduleRef.injector,t=r.get(fe);return t.run(()=>{ka(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let n=r.get(et,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{n.handleError(o)}})}),ka(e)){let o=()=>r.destroy(),s=e.platformInjector.get(hd);s.add(o),r.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(hd);s.add(o),e.moduleRef.onDestroy(()=>{jl(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return KV(n,t,()=>{let o=r.get(g_);return o.runInitializers(),o.donePromise.then(()=>{let s=r.get(uc,fd);if(IV(s||fd),!r.get(WV,!0))return ka(e)?r.get(Br):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ka(e)){let c=r.get(Br);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return YV(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function YV(e,r){let t=e.injector.get(Br);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(n=>t.bootstrap(n));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new P(-403,!1);r.push(e)}function KV(e,r,t){try{let n=t();return bs(n)?n.catch(i=>{throw r.runOutsideAngular(()=>e.handleError(i)),i}):n}catch(n){throw r.runOutsideAngular(()=>e.handleError(n)),n}}var G_=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t}bootstrapModuleFactory(t,n){let i=n?.scheduleInRootZone,o=()=>gj(n?.ngZone,w(v({},z_({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=n?.ignoreChangesOutsideZone,a=[VV({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:no,useExisting:zV}],c=gB(t.moduleType,this.injector,a);return qV({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,n=[]){let i=m_({},n);return $V(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());let t=this._injector.get(hd,null);t&&(t.forEach(n=>n()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(n){return new(n||e)(d(ve))};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Ba=null,W_=new C("");function ZV(e){if(Ba&&!Ba.get(W_,!1))throw new P(400,!1);FB(),Ba=e;let r=e.get(G_);return JV(e),r}function uS(e,r,t=[]){let n=`Platform: ${r}`,i=new C(n);return(o=[])=>{let s=q_();if(!s||s.injector.get(W_,!1)){let a=[...t,...o,{provide:i,useValue:!0}];e?e(a):ZV(QV(a,n))}return XV(i)}}function QV(e=[],r){return ve.create({name:r,providers:[{provide:vd,useValue:"platform"},{provide:hd,useValue:new Set([()=>Ba=null])},...e]})}function XV(e){let r=q_();if(!r)throw new P(401,!1);return r}function q_(){return Ba?.get(G_)??null}function JV(e){let r=e.get(_E,null);Ht(e,()=>{r?.forEach(t=>t())})}function le(){return!1}var qr=(()=>{class e{static __NG_ELEMENT_ID__=eH}return e})();function eH(e){return tH(yt(),z(),(e&16)===16)}function tH(e,r,t){if(ys(e)&&!t){let n=pr(e.index,r);return new qa(n,n)}else if(e.type&175){let n=r[Bt];return new qa(n,r)}return null}var qy=class{constructor(){}supports(r){return f_(r)}create(r){return new Yy(r)}},nH=(e,r)=>r,Yy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(r){this._trackByFn=r||nH}forEachItem(r){let t;for(t=this._itHead;t!==null;t=t._next)r(t)}forEachOperation(r){let t=this._itHead,n=this._removalsHead,i=0,o=null;for(;t||n;){let s=!n||t&&t.currentIndex<qT(n,i,o)?t:n,a=qT(s,i,o),c=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let p=h<o.length?o[h]:o[h]=0,E=p+h;l<=E&&E<u&&(o[h]=p+1)}let f=s.previousIndex;o[f]=l-u}}a!==c&&r(s,a,c)}}forEachPreviousItem(r){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)r(t)}forEachAddedItem(r){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)r(t)}forEachMovedItem(r){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)r(t)}forEachRemovedItem(r){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)r(t)}forEachIdentityChange(r){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)r(t)}diff(r){if(r==null&&(r=[]),!f_(r))throw new P(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let t=this._itHead,n=!1,i,o,s;if(Array.isArray(r)){this.length=r.length;for(let a=0;a<this.length;a++)o=r[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),n=!0):(n&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,_B(r,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),n=!0):(n&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=r,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;r!==null;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;r!==null;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;r!==null;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,t,n,i){let o;return r===null?o=this._itTail:(o=r._prev,this._remove(r)),r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),r!==null?(Object.is(r.item,t)||this._addIdentityChange(r,t),this._reinsertAfter(r,o,i)):(r=this._linkedRecords===null?null:this._linkedRecords.get(n,i),r!==null?(Object.is(r.item,t)||this._addIdentityChange(r,t),this._moveAfter(r,o,i)):r=this._addAfter(new Ky(t,n),o,i)),r}_verifyReinsertion(r,t,n,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?r=this._reinsertAfter(o,r._prev,i):r.currentIndex!=i&&(r.currentIndex=i,this._addToMoves(r,i)),r}_truncate(r){for(;r!==null;){let t=r._next;this._addToRemovals(this._unlink(r)),r=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,t,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(r);let i=r._prevRemoved,o=r._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(r,t,n),this._addToMoves(r,n),r}_moveAfter(r,t,n){return this._unlink(r),this._insertAfter(r,t,n),this._addToMoves(r,n),r}_addAfter(r,t,n){return this._insertAfter(r,t,n),this._additionsTail===null?this._additionsTail=this._additionsHead=r:this._additionsTail=this._additionsTail._nextAdded=r,r}_insertAfter(r,t,n){let i=t===null?this._itHead:t._next;return r._next=i,r._prev=t,i===null?this._itTail=r:i._prev=r,t===null?this._itHead=r:t._next=r,this._linkedRecords===null&&(this._linkedRecords=new pd),this._linkedRecords.put(r),r.currentIndex=n,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){this._linkedRecords!==null&&this._linkedRecords.remove(r);let t=r._prev,n=r._next;return t===null?this._itHead=n:t._next=n,n===null?this._itTail=t:n._prev=t,r}_addToMoves(r,t){return r.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=r:this._movesTail=this._movesTail._nextMoved=r),r}_addToRemovals(r){return this._unlinkedRecords===null&&(this._unlinkedRecords=new pd),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,t){return r.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=r:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=r,r}},Ky=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(r,t){this.item=r,this.trackById=t}},Zy=class{_head=null;_tail=null;add(r){this._head===null?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,t){let n;for(n=this._head;n!==null;n=n._nextDup)if((t===null||t<=n.currentIndex)&&Object.is(n.trackById,r))return n;return null}remove(r){let t=r._prevDup,n=r._nextDup;return t===null?this._head=n:t._nextDup=n,n===null?this._tail=t:n._prevDup=t,this._head===null}},pd=class{map=new Map;put(r){let t=r.trackById,n=this.map.get(t);n||(n=new Zy,this.map.set(t,n)),n.add(r)}get(r,t){let n=r,i=this.map.get(n);return i?i.get(r,t):null}remove(r){let t=r.trackById;return this.map.get(t).remove(r)&&this.map.delete(t),r}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function qT(e,r,t){let n=e.previousIndex;if(n===null)return n;let i=0;return t&&n<t.length&&(i=t[n]),n+r+i}var Qy=class{constructor(){}supports(r){return r instanceof Map||XE(r)}create(){return new Xy}},Xy=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(r){let t;for(t=this._mapHead;t!==null;t=t._next)r(t)}forEachPreviousItem(r){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)r(t)}forEachChangedItem(r){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)r(t)}forEachAddedItem(r){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)r(t)}forEachRemovedItem(r){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)r(t)}diff(r){if(!r)r=new Map;else if(!(r instanceof Map||XE(r)))throw new P(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(r,(n,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,n);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,t){if(r){let n=r._prev;return t._next=r,t._prev=n,r._prev=t,n&&(n._next=t),r===this._mapHead&&(this._mapHead=t),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(r,t){if(this._records.has(r)){let i=this._records.get(r);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let n=new Jy(r);return this._records.set(r,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;r!==null;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;r!==null;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;r!=null;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,t){Object.is(t,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=t,this._addToChanges(r))}_addToAdditions(r){this._additionsHead===null?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){this._changesHead===null?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,t){r instanceof Map?r.forEach(t):Object.keys(r).forEach(n=>t(r[n],n))}},Jy=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(r){this.key=r}};function YT(){return new lS([new qy])}var lS=(()=>{class e{factories;static \u0275prov=g({token:e,providedIn:"root",factory:YT});constructor(t){this.factories=t}static create(t,n){if(n!=null){let i=n.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||YT()),deps:[[e,new cR,new mr]]}}find(t){let n=this.factories.find(i=>i.supports(t));if(n!=null)return n;throw new P(901,!1)}}return e})();function KT(){return new dS([new Qy])}var dS=(()=>{class e{static \u0275prov=g({token:e,providedIn:"root",factory:KT});factories;constructor(t){this.factories=t}static create(t,n){if(n){let i=n.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||KT()),deps:[[e,new cR,new mr]]}}find(t){let n=this.factories.find(i=>i.supports(t));if(n)return n;throw new P(901,!1)}}return e})();var Y_=uS(null,"core",[]),K_=(()=>{class e{constructor(t){}static \u0275fac=function(n){return new(n||e)(d(Br))};static \u0275mod=U({type:e});static \u0275inj=k({})}return e})();function lc(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function rH(e,r=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):r}function Ts(e){return _v(e)}function Hd(e,r){return bv(e,r?.equal)}var eE=class{[mn];constructor(r){this[mn]=r}destroy(){this[mn].destroy()}};function zd(e,r){!r?.injector&&oo(zd);let t=r?.injector??y(ve),n=r?.manualCleanup!==!0?t.get(Mt):null,i,o=t.get(xE,null,{optional:!0}),s=t.get(no);return o!==null&&!r?.forceRoot?(i=sH(o.view,s,e),n instanceof Jl&&n._lView===o.view&&(n=null)):i=aH(e,t.get(p_),s),i.injector=t,n!==null&&(i.onDestroyFn=n.onDestroy(()=>i.destroy())),new eE(i)}var Z_=w(v({},Xo),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Ga,run(){if(this.dirty=!1,this.hasRun&&!wl(this))return;this.hasRun=!0;let e=n=>(this.cleanupFns??=[]).push(n),r=xa(this),t=Yl(!1);try{this.maybeCleanup(),this.fn(e)}finally{Yl(t),Dl(this,r)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),iH=w(v({},Z_),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Pa(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),oH=w(v({},Z_),{consumerMarkedDirty(){this.view[K]|=8192,Ss(this.view),this.notifier.notify(13)},destroy(){Pa(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Qi]?.delete(this)}});function sH(e,r,t){let n=Object.create(oH);return n.view=e,n.zone=typeof Zone<"u"?Zone.current:null,n.notifier=r,n.fn=t,e[Qi]??=new Set,e[Qi].add(n),n.consumerMarkedDirty(n),n}function aH(e,r,t){let n=Object.create(iH);return n.fn=e,n.scheduler=r,n.notifier=t,n.zone=typeof Zone<"u"?Zone.current:null,n.scheduler.schedule(n),n.notifier.notify(12),n}function Q_(e){let r=Ki(e);if(!r)return null;let t=new fs(r);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}var ye=new C("");var e0=null;function kn(){return e0}function fS(e){e0??=e}var dc=class{},fc=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:()=>y(t0),providedIn:"platform"})}return e})(),hc=new C(""),t0=(()=>{class e extends fc{_location;_history;_doc=y(ye);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kn().getBaseHref(this._doc)}onPopState(t){let n=kn().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",t,!1),()=>n.removeEventListener("popstate",t)}onHashChange(t){let n=kn().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",t,!1),()=>n.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,n,i){this._history.pushState(t,n,i)}replaceState(t,n,i){this._history.replaceState(t,n,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Gd(e,r){return e?r?e.endsWith("/")?r.startsWith("/")?e+r.slice(1):e+r:r.startsWith("/")?e+r:`${e}/${r}`:e:r}function X_(e){let r=e.search(/#|\?|$/);return e[r-1]==="/"?e.slice(0,r-1)+e.slice(r):e}function Ln(e){return e&&e[0]!=="?"?`?${e}`:e}var Un=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:()=>y(qd),providedIn:"root"})}return e})(),Wd=new C(""),qd=(()=>{class e extends Un{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,n){super(),this._platformLocation=t,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??y(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Gd(this._baseHref,t)}path(t=!1){let n=this._platformLocation.pathname+Ln(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${n}${i}`:n}pushState(t,n,i,o){let s=this.prepareExternalUrl(i+Ln(o));this._platformLocation.pushState(t,n,s)}replaceState(t,n,i,o){let s=this.prepareExternalUrl(i+Ln(o));this._platformLocation.replaceState(t,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(n){return new(n||e)(d(fc),d(Wd,8))};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Cn=(()=>{class e{_subject=new oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let n=this._locationStrategy.getBaseHref();this._basePath=lH(X_(J_(n))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+Ln(n))}normalize(t){return e.stripTrailingSlash(uH(this._basePath,J_(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,n="",i=null){this._locationStrategy.pushState(i,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ln(n)),i)}replaceState(t,n="",i=null){this._locationStrategy.replaceState(i,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ln(n)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",n){this._urlChangeListeners.forEach(i=>i(t,n))}subscribe(t,n,i){return this._subject.subscribe({next:t,error:n??void 0,complete:i??void 0})}static normalizeQueryParams=Ln;static joinWithSlash=Gd;static stripTrailingSlash=X_;static \u0275fac=function(n){return new(n||e)(d(Un))};static \u0275prov=g({token:e,factory:()=>cH(),providedIn:"root"})}return e})();function cH(){return new Cn(d(Un))}function uH(e,r){if(!e||!r.startsWith(e))return r;let t=r.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:r}function J_(e){return e.replace(/\/index.html$/,"")}function lH(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var CS=(()=>{class e extends Un{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,n){super(),this._platformLocation=t,n!=null&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(t){let n=Gd(this._baseHref,t);return n.length>0?"#"+n:n}pushState(t,n,i,o){let s=this.prepareExternalUrl(i+Ln(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,n,s)}replaceState(t,n,i,o){let s=this.prepareExternalUrl(i+Ln(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(n){return new(n||e)(d(fc),d(Wd,8))};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),l0={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},of=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(of||{});var St=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(St||{}),Ee=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Ee||{}),Kt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Kt||{}),ct={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function yc(e){return Yt(e)[Ne.LocaleId]}function d0(e,r,t){let n=Yt(e),i=[n[Ne.DayPeriodsFormat],n[Ne.DayPeriodsStandalone]],o=In(i,r);return In(o,t)}function f0(e,r,t){let n=Yt(e),i=[n[Ne.DaysFormat],n[Ne.DaysStandalone]],o=In(i,r);return In(o,t)}function h0(e,r,t){let n=Yt(e),i=[n[Ne.MonthsFormat],n[Ne.MonthsStandalone]],o=In(i,r);return In(o,t)}function p0(e,r){let n=Yt(e)[Ne.Eras];return In(n,r)}function pc(e,r){let t=Yt(e);return In(t[Ne.DateFormat],r)}function gc(e,r){let t=Yt(e);return In(t[Ne.TimeFormat],r)}function mc(e,r){let n=Yt(e)[Ne.DateTimeFormat];return In(n,r)}function $n(e,r){let t=Yt(e),n=t[Ne.NumberSymbols][r];if(typeof n>"u"){if(r===ct.CurrencyDecimal)return t[Ne.NumberSymbols][ct.Decimal];if(r===ct.CurrencyGroup)return t[Ne.NumberSymbols][ct.Group]}return n}function IS(e,r){return Yt(e)[Ne.NumberFormats][r]}function dH(e){return Yt(e)[Ne.Currencies]}function g0(e){if(!e[Ne.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Ne.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function m0(e){let r=Yt(e);return g0(r),(r[Ne.ExtraData][2]||[]).map(n=>typeof n=="string"?hS(n):[hS(n[0]),hS(n[1])])}function v0(e,r,t){let n=Yt(e);g0(n);let i=[n[Ne.ExtraData][0],n[Ne.ExtraData][1]],o=In(i,r)||[];return In(o,t)||[]}function In(e,r){for(let t=r;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function hS(e){let[r,t]=e.split(":");return{hours:+r,minutes:+t}}function fH(e,r,t="en"){let n=dH(t)[e]||l0[e]||[],i=n[1];return r==="narrow"&&typeof i=="string"?i:n[0]||e}var hH=2;function y0(e){let r,t=l0[e];return t&&(r=t[2]),typeof r=="number"?r:hH}var pH=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yd={},gH=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function E0(e,r,t,n){let i=wH(e);r=Yr(t,r)||r;let s=[],a;for(;r;)if(a=gH.exec(r),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;r=l}else{s.push(r);break}let c=i.getTimezoneOffset();n&&(c=C0(n,c),i=DH(i,n));let u="";return s.forEach(l=>{let f=CH(l);u+=f?f(i,t,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Jd(e,r,t){let n=new Date(0);return n.setFullYear(e,r,t),n.setHours(0,0,0),n}function Yr(e,r){let t=yc(e);if(Yd[t]??={},Yd[t][r])return Yd[t][r];let n="";switch(r){case"shortDate":n=pc(e,Kt.Short);break;case"mediumDate":n=pc(e,Kt.Medium);break;case"longDate":n=pc(e,Kt.Long);break;case"fullDate":n=pc(e,Kt.Full);break;case"shortTime":n=gc(e,Kt.Short);break;case"mediumTime":n=gc(e,Kt.Medium);break;case"longTime":n=gc(e,Kt.Long);break;case"fullTime":n=gc(e,Kt.Full);break;case"short":let i=Yr(e,"shortTime"),o=Yr(e,"shortDate");n=Kd(mc(e,Kt.Short),[i,o]);break;case"medium":let s=Yr(e,"mediumTime"),a=Yr(e,"mediumDate");n=Kd(mc(e,Kt.Medium),[s,a]);break;case"long":let c=Yr(e,"longTime"),u=Yr(e,"longDate");n=Kd(mc(e,Kt.Long),[c,u]);break;case"full":let l=Yr(e,"fullTime"),f=Yr(e,"fullDate");n=Kd(mc(e,Kt.Full),[l,f]);break}return n&&(Yd[t][r]=n),n}function Kd(e,r){return r&&(e=e.replace(/\{([^}]+)}/g,function(t,n){return r!=null&&n in r?r[n]:t})),e}function jn(e,r,t="-",n,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<r;)s="0"+s;return n&&(s=s.slice(s.length-r)),o+s}function mH(e,r){return jn(e,3).substring(0,r)}function Be(e,r,t=0,n=!1,i=!1){return function(o,s){let a=vH(e,o);if((t>0||a>-t)&&(a+=t),e===3)a===0&&t===-12&&(a=12);else if(e===6)return mH(a,r);let c=$n(s,ct.MinusSign);return jn(a,r,c,n,i)}}function vH(e,r){switch(e){case 0:return r.getFullYear();case 1:return r.getMonth();case 2:return r.getDate();case 3:return r.getHours();case 4:return r.getMinutes();case 5:return r.getSeconds();case 6:return r.getMilliseconds();case 7:return r.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function De(e,r,t=St.Format,n=!1){return function(i,o){return yH(i,o,e,r,t,n)}}function yH(e,r,t,n,i,o){switch(t){case 2:return h0(r,i,n)[e.getMonth()];case 1:return f0(r,i,n)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let u=m0(r),l=v0(r,i,n),f=u.findIndex(h=>{if(Array.isArray(h)){let[p,E]=h,I=s>=p.hours&&a>=p.minutes,b=s<E.hours||s===E.hours&&a<E.minutes;if(p.hours<E.hours){if(I&&b)return!0}else if(I||b)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(f!==-1)return l[f]}return d0(r,i,n)[s<12?0:1];case 3:return p0(r,n)[e.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function Zd(e){return function(r,t,n){let i=-1*n,o=$n(t,ct.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+jn(s,2,o)+jn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+jn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+jn(s,2,o)+":"+jn(Math.abs(i%60),2,o);case 3:return n===0?"Z":(i>=0?"+":"")+jn(s,2,o)+":"+jn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var EH=0,Xd=4;function SH(e){let r=Jd(e,EH,1).getDay();return Jd(e,0,1+(r<=Xd?Xd:Xd+7)-r)}function S0(e){let r=e.getDay(),t=r===0?-3:Xd-r;return Jd(e.getFullYear(),e.getMonth(),e.getDate()+t)}function pS(e,r=!1){return function(t,n){let i;if(r){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=S0(t),s=SH(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return jn(i,e,$n(n,ct.MinusSign))}}function Qd(e,r=!1){return function(t,n){let o=S0(t).getFullYear();return jn(o,e,$n(n,ct.MinusSign),r)}}var gS={};function CH(e){if(gS[e])return gS[e];let r;switch(e){case"G":case"GG":case"GGG":r=De(3,Ee.Abbreviated);break;case"GGGG":r=De(3,Ee.Wide);break;case"GGGGG":r=De(3,Ee.Narrow);break;case"y":r=Be(0,1,0,!1,!0);break;case"yy":r=Be(0,2,0,!0,!0);break;case"yyy":r=Be(0,3,0,!1,!0);break;case"yyyy":r=Be(0,4,0,!1,!0);break;case"Y":r=Qd(1);break;case"YY":r=Qd(2,!0);break;case"YYY":r=Qd(3);break;case"YYYY":r=Qd(4);break;case"M":case"L":r=Be(1,1,1);break;case"MM":case"LL":r=Be(1,2,1);break;case"MMM":r=De(2,Ee.Abbreviated);break;case"MMMM":r=De(2,Ee.Wide);break;case"MMMMM":r=De(2,Ee.Narrow);break;case"LLL":r=De(2,Ee.Abbreviated,St.Standalone);break;case"LLLL":r=De(2,Ee.Wide,St.Standalone);break;case"LLLLL":r=De(2,Ee.Narrow,St.Standalone);break;case"w":r=pS(1);break;case"ww":r=pS(2);break;case"W":r=pS(1,!0);break;case"d":r=Be(2,1);break;case"dd":r=Be(2,2);break;case"c":case"cc":r=Be(7,1);break;case"ccc":r=De(1,Ee.Abbreviated,St.Standalone);break;case"cccc":r=De(1,Ee.Wide,St.Standalone);break;case"ccccc":r=De(1,Ee.Narrow,St.Standalone);break;case"cccccc":r=De(1,Ee.Short,St.Standalone);break;case"E":case"EE":case"EEE":r=De(1,Ee.Abbreviated);break;case"EEEE":r=De(1,Ee.Wide);break;case"EEEEE":r=De(1,Ee.Narrow);break;case"EEEEEE":r=De(1,Ee.Short);break;case"a":case"aa":case"aaa":r=De(0,Ee.Abbreviated);break;case"aaaa":r=De(0,Ee.Wide);break;case"aaaaa":r=De(0,Ee.Narrow);break;case"b":case"bb":case"bbb":r=De(0,Ee.Abbreviated,St.Standalone,!0);break;case"bbbb":r=De(0,Ee.Wide,St.Standalone,!0);break;case"bbbbb":r=De(0,Ee.Narrow,St.Standalone,!0);break;case"B":case"BB":case"BBB":r=De(0,Ee.Abbreviated,St.Format,!0);break;case"BBBB":r=De(0,Ee.Wide,St.Format,!0);break;case"BBBBB":r=De(0,Ee.Narrow,St.Format,!0);break;case"h":r=Be(3,1,-12);break;case"hh":r=Be(3,2,-12);break;case"H":r=Be(3,1);break;case"HH":r=Be(3,2);break;case"m":r=Be(4,1);break;case"mm":r=Be(4,2);break;case"s":r=Be(5,1);break;case"ss":r=Be(5,2);break;case"S":r=Be(6,1);break;case"SS":r=Be(6,2);break;case"SSS":r=Be(6,3);break;case"Z":case"ZZ":case"ZZZ":r=Zd(0);break;case"ZZZZZ":r=Zd(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":r=Zd(1);break;case"OOOO":case"ZZZZ":case"zzzz":r=Zd(2);break;default:return null}return gS[e]=r,r}function C0(e,r){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?r:t}function IH(e,r){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+r),e}function DH(e,r,t){let i=e.getTimezoneOffset(),o=C0(r,i);return IH(e,-1*(o-i))}function wH(e){if(n0(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return Jd(i,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(pH))return bH(n)}let r=new Date(e);if(!n0(r))throw new Error(`Unable to convert "${e}" into a date`);return r}function bH(e){let r=new Date(0),t=0,n=0,i=e[8]?r.setUTCFullYear:r.setFullYear,o=e[8]?r.setUTCHours:r.setHours;e[9]&&(t=Number(e[9]+e[10]),n=Number(e[9]+e[11])),i.call(r,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-n,c=Number(e[6]||0),u=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(r,s,a,c,u),r}function n0(e){return e instanceof Date&&!isNaN(e.valueOf())}var TH=/^(\d+)?\.((\d+)(-(\d+))?)?$/,r0=22,ef=".",vc="0",RH=";",AH=",",mS="#",i0="\xA4";function I0(e,r,t,n,i,o,s=!1){let a="",c=!1;if(!isFinite(e))a=$n(t,ct.Infinity);else{let u=NH(e);s&&(u=MH(u));let l=r.minInt,f=r.minFrac,h=r.maxFrac;if(o){let N=o.match(TH);if(N===null)throw new Error(`${o} is not a valid digit info`);let J=N[1],be=N[3],It=N[5];J!=null&&(l=vS(J)),be!=null&&(f=vS(be)),It!=null?h=vS(It):be!=null&&f>h&&(h=f)}OH(u,f,h);let p=u.digits,E=u.integerLen,I=u.exponent,b=[];for(c=p.every(N=>!N);E<l;E++)p.unshift(0);for(;E<0;E++)p.unshift(0);E>0?b=p.splice(E,p.length):(b=p,p=[0]);let x=[];for(p.length>=r.lgSize&&x.unshift(p.splice(-r.lgSize,p.length).join(""));p.length>r.gSize;)x.unshift(p.splice(-r.gSize,p.length).join(""));p.length&&x.unshift(p.join("")),a=x.join($n(t,n)),b.length&&(a+=$n(t,i)+b.join("")),I&&(a+=$n(t,ct.Exponential)+"+"+I)}return e<0&&!c?a=r.negPre+a+r.negSuf:a=r.posPre+a+r.posSuf,a}function _H(e,r,t,n,i){let o=IS(r,of.Currency),s=w0(o,$n(r,ct.MinusSign));return s.minFrac=y0(n),s.maxFrac=s.minFrac,I0(e,s,r,ct.CurrencyGroup,ct.CurrencyDecimal,i).replace(i0,t).replace(i0,"").trim()}function D0(e,r,t){let n=IS(r,of.Decimal),i=w0(n,$n(r,ct.MinusSign));return I0(e,i,r,ct.Group,ct.Decimal,t)}function w0(e,r="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(RH),i=n[0],o=n[1],s=i.indexOf(ef)!==-1?i.split(ef):[i.substring(0,i.lastIndexOf(vc)+1),i.substring(i.lastIndexOf(vc)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(mS));for(let l=0;l<c.length;l++){let f=c.charAt(l);f===vc?t.minFrac=t.maxFrac=l+1:f===mS?t.maxFrac=l+1:t.posSuf+=f}let u=a.split(AH);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let l=i.length-t.posPre.length-t.posSuf.length,f=o.indexOf(mS);t.negPre=o.substring(0,f).replace(/'/g,""),t.negSuf=o.slice(f+l).replace(/'/g,"")}else t.negPre=r+t.posPre,t.negSuf=t.posSuf;return t}function MH(e){if(e.digits[0]===0)return e;let r=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(r===0?e.digits.push(0,0):r===1&&e.digits.push(0),e.integerLen+=2),e}function NH(e){let r=Math.abs(e)+"",t=0,n,i,o,s,a;for((i=r.indexOf(ef))>-1&&(r=r.replace(ef,"")),(o=r.search(/e/i))>0?(i<0&&(i=o),i+=+r.slice(o+1),r=r.substring(0,o)):i<0&&(i=r.length),o=0;r.charAt(o)===vc;o++);if(o===(a=r.length))n=[0],i=1;else{for(a--;r.charAt(a)===vc;)a--;for(i-=o,n=[],s=0;o<=a;o++,s++)n[s]=Number(r.charAt(o))}return i>r0&&(n=n.splice(0,r0-1),t=i-1,i=1),{digits:n,exponent:t,integerLen:i}}function OH(e,r,t){if(r>t)throw new Error(`The minimum number of digits after fraction (${r}) is higher than the maximum (${t}).`);let n=e.digits,i=n.length-e.integerLen,o=Math.min(Math.max(r,i),t),s=o+e.integerLen,a=n[s];if(s>0){n.splice(Math.max(e.integerLen,s));for(let f=s;f<n.length;f++)n[f]=0}else{i=Math.max(0,i),e.integerLen=1,n.length=Math.max(1,s=o+1),n[0]=0;for(let f=1;f<s;f++)n[f]=0}if(a>=5)if(s-1<0){for(let f=0;f>s;f--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[s-1]++;for(;i<Math.max(0,o);i++)n.push(0);let c=o!==0,u=r+e.integerLen,l=n.reduceRight(function(f,h,p,E){return h=h+f,E[p]=h<10?h:h-10,c&&(E[p]===0&&p>=u?E.pop():c=!1),h>=10?1:0},0);l&&(n.unshift(l),e.integerLen++)}function vS(e){let r=parseInt(e);if(isNaN(r))throw new Error("Invalid integer literal when parsing "+e);return r}var yS=/\s+/,o0=[],xH=(()=>{class e{_ngEl;_renderer;initialClasses=o0;rawClass;stateMap=new Map;constructor(t,n){this._ngEl=t,this._renderer=n}set klass(t){this.initialClasses=t!=null?t.trim().split(yS):o0}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(yS):t}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let n of t)this._updateState(n,!0);else if(t!=null)for(let n of Object.keys(t))this._updateState(n,!!t[n]);this._applyStateDiff()}_updateState(t,n){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==n&&(i.changed=!0,i.enabled=n),i.touched=!0):this.stateMap.set(t,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let n=t[0],i=t[1];i.changed?(this._toggleClass(n,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),i.touched=!1}}_toggleClass(t,n){t=t.trim(),t.length>0&&t.split(yS).forEach(i=>{n?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(n){return new(n||e)(Y(yr),Y(ws))};static \u0275dir=Et({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})(),PH=(()=>{class e{_viewContainerRef;ngComponentOutlet=null;ngComponentOutletInputs;ngComponentOutletInjector;ngComponentOutletContent;ngComponentOutletNgModule;ngComponentOutletNgModuleFactory;_componentRef;_moduleRef;_inputsUsed=new Map;get componentInstance(){return this._componentRef?.instance??null}constructor(t){this._viewContainerRef=t}_needToReCreateNgModuleInstance(t){return t.ngComponentOutletNgModule!==void 0||t.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(t){return t.ngComponentOutlet!==void 0||t.ngComponentOutletContent!==void 0||t.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(t)}ngOnChanges(t){if(this._needToReCreateComponentInstance(t)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let n=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(t)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=c_(this.ngComponentOutletNgModule,s0(n)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(s0(n)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:n,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let t of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(t,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(t){for(let[n,i]of this._inputsUsed)i?(t.setInput(n,this.ngComponentOutletInputs[n]),this._inputsUsed.set(n,!1)):(t.setInput(n,void 0),this._inputsUsed.delete(n))}static \u0275fac=function(n){return new(n||e)(Y(qt))};static \u0275dir=Et({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},exportAs:["ngComponentOutlet"],features:[vi]})}return e})();function s0(e){return e.get(ro).injector}var tf=class{$implicit;ngForOf;index;count;constructor(r,t,n,i){this.$implicit=r,this.ngForOf=t,this.index=n,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},b0=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,n,i){this._viewContainer=t,this._template=n,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let n=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)n.createEmbeddedView(this._template,new tf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)n.remove(o===null?void 0:o);else if(o!==null){let a=n.get(o);n.move(a,s),a0(a,i)}});for(let i=0,o=n.length;i<o;i++){let a=n.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=n.get(i.currentIndex);a0(o,i)})}static ngTemplateContextGuard(t,n){return!0}static \u0275fac=function(n){return new(n||e)(Y(qt),Y(Fn),Y(lS))};static \u0275dir=Et({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function a0(e,r){e.context.$implicit=r.item}var FH=(()=>{class e{_viewContainer;_context=new nf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,n){this._viewContainer=t,this._thenTemplateRef=n}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){c0(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){c0(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,n){return!0}static \u0275fac=function(n){return new(n||e)(Y(qt),Y(Fn))};static \u0275dir=Et({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),nf=class{$implicit=null;ngIf=null};function c0(e,r){if(e&&!e.createEmbeddedView)throw new P(2020,!1)}var rf=class{_viewContainerRef;_templateRef;_created=!1;constructor(r,t){this._viewContainerRef=r,this._templateRef=t}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(r){r&&!this._created?this.create():!r&&this._created&&this.destroy()}},DS=(()=>{class e{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let n=t===this._ngSwitch;return this._lastCasesMatched||=n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let n of this._defaultViews)n.enforceState(t)}}static \u0275fac=function(n){return new(n||e)};static \u0275dir=Et({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return e})(),LH=(()=>{class e{ngSwitch;_view;ngSwitchCase;constructor(t,n,i){this.ngSwitch=i,i._addCase(),this._view=new rf(t,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(n){return new(n||e)(Y(qt),Y(Fn),Y(DS,9))};static \u0275dir=Et({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return e})(),kH=(()=>{class e{constructor(t,n,i){i._addDefault(new rf(t,n))}static \u0275fac=function(n){return new(n||e)(Y(qt),Y(Fn),Y(DS,9))};static \u0275dir=Et({type:e,selectors:[["","ngSwitchDefault",""]]})}return e})();var UH=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,n,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,n,i):!1,get:(t,n,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,i)}})}static \u0275fac=function(n){return new(n||e)(Y(qt))};static \u0275dir=Et({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[vi]})}return e})();function Ec(e,r){return new P(2100,!1)}var ES=class{createSubscription(r,t){return Ts(()=>r.subscribe({next:t,error:n=>{throw n}}))}dispose(r){Ts(()=>r.unsubscribe())}},SS=class{createSubscription(r,t){return r.then(n=>t?.(n),n=>{throw n}),{unsubscribe:()=>{t=null}}}dispose(r){r.unsubscribe()}},jH=new SS,$H=new ES,BH=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,n=>this._updateLatestValue(t,n))}_selectStrategy(t){if(bs(t))return jH;if(nS(t))return $H;throw Ec(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,n){t===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(n){return new(n||e)(Y(qr,16))};static \u0275pipe=rn({name:"async",type:e,pure:!1})}return e})(),VH=(()=>{class e{transform(t){if(t==null)return null;if(typeof t!="string")throw Ec(e,t);return t.toLowerCase()}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=rn({name:"lowercase",type:e,pure:!0})}return e})();var HH="mediumDate",T0=new C(""),R0=new C(""),wS=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,n,i){this.locale=t,this.defaultTimezone=n,this.defaultOptions=i}transform(t,n,i,o){if(t==null||t===""||t!==t)return null;try{let s=n??this.defaultOptions?.dateFormat??HH,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return E0(t,s,o||this.locale,a)}catch(s){throw Ec(e,s.message)}}static \u0275fac=function(n){return new(n||e)(Y(uc,16),Y(T0,24),Y(R0,24))};static \u0275pipe=rn({name:"date",type:e,pure:!0})}return e})();var zH=(()=>{class e{transform(t){return JSON.stringify(t,null,2)}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=rn({name:"json",type:e,pure:!1})}return e})();function GH(e,r){return{key:e,value:r}}var WH=(()=>{class e{differs;constructor(t){this.differs=t}differ;keyValues=[];compareFn=u0;transform(t,n=u0){if(!t||!(t instanceof Map)&&typeof t!="object")return null;this.differ??=this.differs.find(t).create();let i=this.differ.diff(t),o=n!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(GH(s.key,s.currentValue))})),(i||o)&&(n&&this.keyValues.sort(n),this.compareFn=n),this.keyValues}static \u0275fac=function(n){return new(n||e)(Y(dS,16))};static \u0275pipe=rn({name:"keyvalue",type:e,pure:!1})}return e})();function u0(e,r){let t=e.key,n=r.key;if(t===n)return 0;if(t==null)return 1;if(n==null)return-1;if(typeof t=="string"&&typeof n=="string")return t<n?-1:1;if(typeof t=="number"&&typeof n=="number")return t-n;if(typeof t=="boolean"&&typeof n=="boolean")return t<n?-1:1;let i=String(t),o=String(n);return i==o?0:i<o?-1:1}var bS=(()=>{class e{_locale;constructor(t){this._locale=t}transform(t,n,i){if(!qH(t))return null;i||=this._locale;try{let o=YH(t);return D0(o,i,n)}catch(o){throw Ec(e,o.message)}}static \u0275fac=function(n){return new(n||e)(Y(uc,16))};static \u0275pipe=rn({name:"number",type:e,pure:!0})}return e})();function qH(e){return!(e==null||e===""||e!==e)}function YH(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var KH=(()=>{class e{transform(t,n,i){if(t==null)return null;if(!(typeof t=="string"||Array.isArray(t)))throw Ec(e,t);return t.slice(n,i)}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=rn({name:"slice",type:e,pure:!1})}return e})();var Pe=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=U({type:e});static \u0275inj=k({})}return e})();function Sc(e,r){r=encodeURIComponent(r);for(let t of e.split(";")){let n=t.indexOf("="),[i,o]=n==-1?[t,""]:[t.slice(0,n),t.slice(n+1)];if(i.trim()===r)return decodeURIComponent(o)}return null}var sf="browser",A0="server";function Bn(e){return e===sf}function lo(e){return e===A0}var uo=class{};var _0=(()=>{class e{static \u0275prov=g({token:e,providedIn:"root",factory:()=>new TS(y(ye),window)})}return e})(),TS=class{document;window;offset=()=>[0,0];constructor(r,t){this.document=r,this.window=t}setOffset(r){Array.isArray(r)?this.offset=()=>r:this.offset=r}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(r){this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){let t=QH(this.document,r);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(r){this.window.history.scrollRestoration=r}scrollToElement(r){let t=r.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}};function QH(e,r){let t=e.getElementById(r)||e.getElementsByName(r)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(r)||o.querySelector(`[name="${r}"]`);if(s)return s}i=n.nextNode()}}return null}var uf=new C(""),MS=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,n){this._zone=n,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,i,o){return this._findPluginFor(n).addEventListener(t,n,i,o)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(o=>o.supports(t)),!n)throw new P(5101,!1);return this._eventNameToPlugin.set(t,n),n}static \u0275fac=function(n){return new(n||e)(d(uf),d(fe))};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),Cc=class{_doc;constructor(r){this._doc=r}manager},af="ng-app-id";function N0(e){for(let r of e)r.remove()}function O0(e,r){let t=r.createElement("style");return t.textContent=e,t}function XH(e,r,t,n){let i=e.head?.querySelectorAll(`style[${af}="${r}"],link[${af}="${r}"]`);if(i)for(let o of i)o.removeAttribute(af),o instanceof HTMLLinkElement?n.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function AS(e,r){let t=r.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var NS=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,n,i,o={}){this.doc=t,this.appId=n,this.nonce=i,this.isServer=lo(o),XH(t,n,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,n){for(let i of t)this.addUsage(i,this.inline,O0);n?.forEach(i=>this.addUsage(i,this.external,AS))}removeStyles(t,n){for(let i of t)this.removeUsage(i,this.inline);n?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,n,i){let o=n.get(t);o?o.usage++:n.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,n){let i=n.get(t);i&&(i.usage--,i.usage<=0&&(N0(i.elements),n.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])N0(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[n,{elements:i}]of this.inline)i.push(this.addElement(t,O0(n,this.doc)));for(let[n,{elements:i}]of this.external)i.push(this.addElement(t,AS(n,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(af,this.appId),t.appendChild(n)}static \u0275fac=function(n){return new(n||e)(d(ye),d(wd),d(ME,8),d(tt))};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),RS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},OS=/%COMP%/g;var P0="%COMP%",JH=`_nghost-${P0}`,e2=`_ngcontent-${P0}`,t2=!0,n2=new C("",{providedIn:"root",factory:()=>t2});function r2(e){return e2.replace(OS,e)}function i2(e){return JH.replace(OS,e)}function F0(e,r){return r.map(t=>t.replace(OS,e))}var xS=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,n,i,o,s,a,c,u=null,l=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=lo(a),this.defaultRenderer=new Ic(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===gr.ShadowDom&&(n=w(v({},n),{encapsulation:gr.Emulated}));let i=this.getOrCreateRenderer(t,n);return i instanceof cf?i.applyToHost(t):i instanceof Dc&&i.applyStyles(),i}getOrCreateRenderer(t,n){let i=this.rendererByCompId,o=i.get(n.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,f=this.platformIsServer,h=this.tracingService;switch(n.encapsulation){case gr.Emulated:o=new cf(c,u,n,this.appId,l,s,a,f,h);break;case gr.ShadowDom:return new _S(c,u,t,n,s,a,this.nonce,f,h);default:o=new Dc(c,u,n,l,s,a,f,h);break}i.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(n){return new(n||e)(d(MS),d(NS),d(wd),d(n2),d(ye),d(tt),d(fe),d(ME),d(Ds,8))};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),Ic=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(r,t,n,i,o){this.eventManager=r,this.doc=t,this.ngZone=n,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(r,t){return t?this.doc.createElementNS(RS[t]||t,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,t){(x0(r)?r.content:r).appendChild(t)}insertBefore(r,t,n){r&&(x0(r)?r.content:r).insertBefore(t,n)}removeChild(r,t){t.remove()}selectRootElement(r,t){let n=typeof r=="string"?this.doc.querySelector(r):r;if(!n)throw new P(-5104,!1);return t||(n.textContent=""),n}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,t,n,i){if(i){t=i+":"+t;let o=RS[i];o?r.setAttributeNS(o,t,n):r.setAttribute(t,n)}else r.setAttribute(t,n)}removeAttribute(r,t,n){if(n){let i=RS[n];i?r.removeAttributeNS(i,t):r.removeAttribute(`${n}:${t}`)}else r.removeAttribute(t)}addClass(r,t){r.classList.add(t)}removeClass(r,t){r.classList.remove(t)}setStyle(r,t,n,i){i&($r.DashCase|$r.Important)?r.style.setProperty(t,n,i&$r.Important?"important":""):r.style[t]=n}removeStyle(r,t,n){n&$r.DashCase?r.style.removeProperty(t):r.style[t]=""}setProperty(r,t,n){r!=null&&(r[t]=n)}setValue(r,t){r.nodeValue=t}listen(r,t,n,i){if(typeof r=="string"&&(r=kn().getGlobalEventTarget(this.doc,r),!r))throw new P(5102,!1);let o=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(r,t,o)),this.eventManager.addEventListener(r,t,o,i)}decoratePreventDefault(r){return t=>{if(t==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(t)):r(t))===!1&&t.preventDefault()}}};function x0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var _S=class extends Ic{sharedStylesHost;hostEl;shadowRoot;constructor(r,t,n,i,o,s,a,c,u){super(r,o,s,c,u),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=i.styles;l=F0(i.id,l);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}let f=i.getExternalStyles?.();if(f)for(let h of f){let p=AS(h,o);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,t){return super.appendChild(this.nodeOrShadowRoot(r),t)}insertBefore(r,t,n){return super.insertBefore(this.nodeOrShadowRoot(r),t,n)}removeChild(r,t){return super.removeChild(null,t)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Dc=class extends Ic{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(r,t,n,i,o,s,a,c,u){super(r,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let l=n.styles;this.styles=u?F0(u,l):l,this.styleUrls=n.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},cf=class extends Dc{contentAttr;hostAttr;constructor(r,t,n,i,o,s,a,c,u){let l=i+"-"+n.id;super(r,t,n,o,s,a,c,u,l),this.contentAttr=r2(l),this.hostAttr=i2(l)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,t){let n=super.createElement(r,t);return super.setAttribute(n,this.contentAttr,""),n}};var lf=class e extends dc{supportsDOMEvents=!0;static makeCurrent(){fS(new e)}onAndCancel(r,t,n,i){return r.addEventListener(t,n,i),()=>{r.removeEventListener(t,n,i)}}dispatchEvent(r,t){r.dispatchEvent(t)}remove(r){r.remove()}createElement(r,t){return t=t||this.getDefaultDocument(),t.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,t){return t==="window"?window:t==="document"?r:t==="body"?r.body:null}getBaseHref(r){let t=o2();return t==null?null:s2(t)}resetBaseElement(){wc=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Sc(document.cookie,r)}},wc=null;function o2(){return wc=wc||document.head.querySelector("base"),wc?wc.getAttribute("href"):null}function s2(e){return new URL(e,document.baseURI).pathname}var df=class{addToWindow(r){Je.getAngularTestability=(n,i=!0)=>{let o=r.findTestabilityInTree(n,i);if(o==null)throw new P(5103,!1);return o},Je.getAllAngularTestabilities=()=>r.getAllTestabilities(),Je.getAllAngularRootElements=()=>r.getAllRootElements();let t=n=>{let i=Je.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&n()};i.forEach(a=>{a.whenStable(s)})};Je.frameworkStabilizers||(Je.frameworkStabilizers=[]),Je.frameworkStabilizers.push(t)}findTestabilityInTree(r,t,n){if(t==null)return null;let i=r.getTestability(t);return i??(n?kn().isShadowRoot(t)?this.findTestabilityInTree(r,t.host,!0):this.findTestabilityInTree(r,t.parentElement,!0):null)}},a2=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),k0=(()=>{class e extends Cc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,i,o){return t.addEventListener(n,i,o),()=>this.removeEventListener(t,n,i,o)}removeEventListener(t,n,i,o){return t.removeEventListener(n,i,o)}static \u0275fac=function(n){return new(n||e)(d(ye))};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),L0=["alt","control","meta","shift"],c2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},u2={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},U0=(()=>{class e extends Cc{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,n,i,o){let s=e.parseEventName(n),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let n=t.toLowerCase().split("."),i=n.shift();if(n.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(n.pop()),s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),L0.forEach(u=>{let l=n.indexOf(u);l>-1&&(n.splice(l,1),s+=u+".")}),s+=o,n.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,n){let i=c2[t.key]||t.key,o="";return n.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),L0.forEach(s=>{if(s!==i){let a=u2[s];a(t)&&(o+=s+".")}}),o+=i,o===n)}static eventCallback(t,n,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>n(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(n){return new(n||e)(d(ye))};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})();function l2(){lf.makeCurrent()}function d2(){return new et}function f2(){return cA(document),document}var h2=[{provide:tt,useValue:sf},{provide:_E,useValue:l2,multi:!0},{provide:ye,useFactory:f2}],p2=uS(Y_,"browser",h2);var g2=[{provide:ac,useClass:df},{provide:eS,useClass:Ud,deps:[fe,jd,ac]},{provide:Ud,useClass:Ud,deps:[fe,jd,ac]}],m2=[{provide:vd,useValue:"root"},{provide:et,useFactory:d2},{provide:uf,useClass:k0,multi:!0,deps:[ye]},{provide:uf,useClass:U0,multi:!0,deps:[ye]},xS,NS,MS,{provide:mi,useExisting:xS},{provide:uo,useClass:a2},[]],v2=(()=>{class e{constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275mod=U({type:e});static \u0275inj=k({providers:[...m2,...g2],imports:[Pe,K_]})}return e})();var As=class{},_s=class{},ae=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(r){r?typeof r=="string"?this.lazyInit=()=>{this.headers=new Map,r.split(`
`).forEach(t=>{let n=t.indexOf(":");if(n>0){let i=t.slice(0,n),o=t.slice(n+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((t,n)=>{this.addHeaderEntry(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();let t=this.headers.get(r.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,t){return this.clone({name:r,value:t,op:"a"})}set(r,t){return this.clone({name:r,value:t,op:"s"})}delete(r,t){return this.clone({name:r,value:t,op:"d"})}maybeSetNormalizedName(r,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,r)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(t=>{this.headers.set(t,r.headers.get(t)),this.normalizedNames.set(t,r.normalizedNames.get(t))})}clone(r){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([r]),t}applyUpdate(r){let t=r.name.toLowerCase();switch(r.op){case"a":case"s":let n=r.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(r.name,t);let i=(r.op==="a"?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":let o=r.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(r,t){let n=r.toLowerCase();this.maybeSetNormalizedName(r,n),this.headers.has(n)?this.headers.get(n).push(t):this.headers.set(n,[t])}setHeaderEntries(r,t){let n=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=r.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(r,i)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>r(this.normalizedNames.get(t),this.headers.get(t)))}};var pf=class{encodeKey(r){return j0(r)}encodeValue(r){return j0(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}};function y2(e,r){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[r.decodeKey(i),""]:[r.decodeKey(i.slice(0,o)),r.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var E2=/%(\d[a-f0-9])/gi,S2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function j0(e){return encodeURIComponent(e).replace(E2,(r,t)=>S2[t]??r)}function ff(e){return`${e}`}var Oe=class e{map;encoder;updates=null;cloneFrom=null;constructor(r={}){if(this.encoder=r.encoder||new pf,r.fromString){if(r.fromObject)throw new P(2805,!1);this.map=y2(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(t=>{let n=r.fromObject[t],i=Array.isArray(n)?n.map(ff):[ff(n)];this.map.set(t,i)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();let t=this.map.get(r);return t?t[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,t){return this.clone({param:r,value:t,op:"a"})}appendAll(r){let t=[];return Object.keys(r).forEach(n=>{let i=r[n];Array.isArray(i)?i.forEach(o=>{t.push({param:n,value:o,op:"a"})}):t.push({param:n,value:i,op:"a"})}),this.clone(t)}set(r,t){return this.clone({param:r,value:t,op:"s"})}delete(r,t){return this.clone({param:r,value:t,op:"d"})}toString(){return this.init(),this.keys().map(r=>{let t=this.encoder.encodeKey(r);return this.map.get(r).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(r=>r!=="").join("&")}clone(r){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(r),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":let t=(r.op==="a"?this.map.get(r.param):void 0)||[];t.push(ff(r.value)),this.map.set(r.param,t);break;case"d":if(r.value!==void 0){let n=this.map.get(r.param)||[],i=n.indexOf(ff(r.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(r.param,n):this.map.delete(r.param)}else{this.map.delete(r.param);break}}}),this.cloneFrom=this.updates=null)}},Ms=class{defaultValue;constructor(r){this.defaultValue=r}},fo=class{map=new Map;set(r,t){return this.map.set(r,t),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}};function C2(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function $0(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function B0(e){return typeof Blob<"u"&&e instanceof Blob}function V0(e){return typeof FormData<"u"&&e instanceof FormData}function I2(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var bc="Content-Type",gf="Accept",US="X-Request-URL",G0="text/plain",W0="application/json",q0=`${W0}, ${G0}, */*`,Rs=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(r,t,n,i){this.url=t,this.method=r.toUpperCase();let o;if(C2(this.method)||i?(this.body=n!==void 0?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ae,this.context??=new fo,!this.params)this.params=new Oe,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||$0(this.body)||B0(this.body)||V0(this.body)||I2(this.body)?this.body:this.body instanceof Oe?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||V0(this.body)?null:B0(this.body)?this.body.type||null:$0(this.body)?null:typeof this.body=="string"?G0:this.body instanceof Oe?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?W0:null}clone(r={}){let t=r.method||this.method,n=r.url||this.url,i=r.responseType||this.responseType,o=r.transferCache??this.transferCache,s=r.body!==void 0?r.body:this.body,a=r.withCredentials??this.withCredentials,c=r.reportProgress??this.reportProgress,u=r.headers||this.headers,l=r.params||this.params,f=r.context??this.context;return r.setHeaders!==void 0&&(u=Object.keys(r.setHeaders).reduce((h,p)=>h.set(p,r.setHeaders[p]),u)),r.setParams&&(l=Object.keys(r.setParams).reduce((h,p)=>h.set(p,r.setParams[p]),l)),new e(t,n,s,{params:l,headers:u,context:f,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Vn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Vn||{}),Ns=class{headers;status;statusText;url;ok;type;constructor(r,t=200,n="OK"){this.headers=r.headers||new ae,this.status=r.status!==void 0?r.status:t,this.statusText=r.statusText||n,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}},Tc=class e extends Ns{constructor(r={}){super(r)}type=Vn.ResponseHeader;clone(r={}){return new e({headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},Ei=class e extends Ns{body;constructor(r={}){super(r),this.body=r.body!==void 0?r.body:null}type=Vn.Response;clone(r={}){return new e({body:r.body!==void 0?r.body:this.body,headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},ut=class extends Ns{name="HttpErrorResponse";message;error;ok=!1;constructor(r){super(r,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${r.url||"(unknown url)"}`:this.message=`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}},Y0=200,D2=204;function PS(e,r){return{body:r,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var we=(()=>{class e{handler;constructor(t){this.handler=t}request(t,n,i={}){let o;if(t instanceof Rs)o=t;else{let c;i.headers instanceof ae?c=i.headers:c=new ae(i.headers);let u;i.params&&(i.params instanceof Oe?u=i.params:u=new Oe({fromObject:i.params})),o=new Rs(t,n,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=D(o).pipe(Te(c=>this.handler.handle(c)));if(t instanceof Rs||i.observe==="events")return s;let a=s.pipe(R(c=>c instanceof Ei));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(S(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new P(2806,!1);return c.body}));case"blob":return a.pipe(S(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new P(2807,!1);return c.body}));case"text":return a.pipe(S(c=>{if(c.body!==null&&typeof c.body!="string")throw new P(2808,!1);return c.body}));case"json":default:return a.pipe(S(c=>c.body))}case"response":return a;default:throw new P(2809,!1)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:new Oe().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,i={}){return this.request("PATCH",t,PS(i,n))}post(t,n,i={}){return this.request("POST",t,PS(i,n))}put(t,n,i={}){return this.request("PUT",t,PS(i,n))}static \u0275fac=function(n){return new(n||e)(d(As))};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),w2=/^\)\]\}',?\n/;function H0(e){if(e.url)return e.url;let r=US.toLocaleLowerCase();return e.headers.get(r)}var K0=new C(""),hf=(()=>{class e{fetchImpl=y(FS,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t));ngZone=y(fe);destroyRef=y(Mt);destroyed=!1;constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0})}handle(t){return new V(n=>{let i=new AbortController;return this.doRequest(t,i.signal,n).then(LS,o=>n.error(new ut({error:o}))),()=>i.abort()})}doRequest(t,n,i){return at(this,null,function*(){let o=this.createRequestInit(t),s;try{let p=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,v({signal:n},o)));b2(p),i.next({type:Vn.Sent}),s=yield p}catch(p){i.error(new ut({error:p,status:p.status??0,statusText:p.statusText,url:t.urlWithParams,headers:p.headers}));return}let a=new ae(s.headers),c=s.statusText,u=H0(s)??t.urlWithParams,l=s.status,f=null;if(t.reportProgress&&i.next(new Tc({headers:a,status:l,statusText:c,url:u})),s.body){let p=s.headers.get("content-length"),E=[],I=s.body.getReader(),b=0,x,N,J=typeof Zone<"u"&&Zone.current,be=!1;if(yield this.ngZone.runOutsideAngular(()=>at(this,null,function*(){for(;;){if(this.destroyed){yield I.cancel(),be=!0;break}let{done:Ue,value:ze}=yield I.read();if(Ue)break;if(E.push(ze),b+=ze.length,t.reportProgress){N=t.responseType==="text"?(N??"")+(x??=new TextDecoder).decode(ze,{stream:!0}):void 0;let Dt=()=>i.next({type:Vn.DownloadProgress,total:p?+p:void 0,loaded:b,partialText:N});J?J.run(Dt):Dt()}}})),be){i.complete();return}let It=this.concatChunks(E,b);try{let Ue=s.headers.get(bc)??"";f=this.parseBody(t,It,Ue)}catch(Ue){i.error(new ut({error:Ue,headers:new ae(s.headers),status:s.status,statusText:s.statusText,url:H0(s)??t.urlWithParams}));return}}l===0&&(l=f?Y0:0),l>=200&&l<300?(i.next(new Ei({body:f,headers:a,status:l,statusText:c,url:u})),i.complete()):i.error(new ut({error:f,headers:a,status:l,statusText:c,url:u}))})}parseBody(t,n,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(n).replace(w2,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:i});case"arraybuffer":return n.buffer}}createRequestInit(t){let n={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>n[o]=s.join(",")),t.headers.has(gf)||(n[gf]=q0),!t.headers.has(bc)){let o=t.detectContentTypeHeader();o!==null&&(n[bc]=o)}return{body:t.serializeBody(),method:t.method,headers:n,credentials:i}}concatChunks(t,n){let i=new Uint8Array(n),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),FS=class{};function LS(){}function b2(e){e.then(LS,LS)}function Z0(e,r){return r(e)}function T2(e,r){return(t,n)=>r.intercept(t,{handle:i=>e(i,n)})}function R2(e,r,t){return(n,i)=>Ht(t,()=>r(n,o=>e(o,i)))}var Zt=new C(""),jS=new C(""),Q0=new C(""),$S=new C("",{providedIn:"root",factory:()=>!0});function A2(){let e=null;return(r,t)=>{e===null&&(e=(y(Zt,{optional:!0})??[]).reduceRight(T2,Z0));let n=y(Gr);if(y($S)){let o=n.add();return e(r,t).pipe(On(()=>n.remove(o)))}else return e(r,t)}}var mf=(()=>{class e extends As{backend;injector;chain=null;pendingTasks=y(Gr);contributeToStability=y($S);constructor(t,n){super(),this.backend=t,this.injector=n}handle(t){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(jS),...this.injector.get(Q0,[])]));this.chain=n.reduceRight((i,o)=>R2(i,o,this.injector),Z0)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(On(()=>this.pendingTasks.remove(n)))}else return this.chain(t,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||e)(d(_s),d(mt))};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})();var _2=/^\)\]\}',?\n/,M2=RegExp(`^${US}:`,"m");function N2(e){return"responseURL"in e&&e.responseURL?e.responseURL:M2.test(e.getAllResponseHeaders())?e.getResponseHeader(US):null}var kS=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new P(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?ue(n.\u0275loadImpl()):D(null)).pipe(_(()=>new V(o=>{let s=n.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((I,b)=>s.setRequestHeader(I,b.join(","))),t.headers.has(gf)||s.setRequestHeader(gf,q0),!t.headers.has(bc)){let I=t.detectContentTypeHeader();I!==null&&s.setRequestHeader(bc,I)}if(t.responseType){let I=t.responseType.toLowerCase();s.responseType=I!=="json"?I:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let I=s.statusText||"OK",b=new ae(s.getAllResponseHeaders()),x=N2(s)||t.url;return c=new Tc({headers:b,status:s.status,statusText:I,url:x}),c},l=()=>{let{headers:I,status:b,statusText:x,url:N}=u(),J=null;b!==D2&&(J=typeof s.response>"u"?s.responseText:s.response),b===0&&(b=J?Y0:0);let be=b>=200&&b<300;if(t.responseType==="json"&&typeof J=="string"){let It=J;J=J.replace(_2,"");try{J=J!==""?JSON.parse(J):null}catch(Ue){J=It,be&&(be=!1,J={error:Ue,text:J})}}be?(o.next(new Ei({body:J,headers:I,status:b,statusText:x,url:N||void 0})),o.complete()):o.error(new ut({error:J,headers:I,status:b,statusText:x,url:N||void 0}))},f=I=>{let{url:b}=u(),x=new ut({error:I,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});o.error(x)},h=!1,p=I=>{h||(o.next(u()),h=!0);let b={type:Vn.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(b.total=I.total),t.responseType==="text"&&s.responseText&&(b.partialText=s.responseText),o.next(b)},E=I=>{let b={type:Vn.UploadProgress,loaded:I.loaded};I.lengthComputable&&(b.total=I.total),o.next(b)};return s.addEventListener("load",l),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",E)),s.send(a),o.next({type:Vn.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",l),s.removeEventListener("timeout",f),t.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",E)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(n){return new(n||e)(d(uo))};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),X0=new C(""),O2="XSRF-TOKEN",x2=new C("",{providedIn:"root",factory:()=>O2}),P2="X-XSRF-TOKEN",F2=new C("",{providedIn:"root",factory:()=>P2}),Rc=class{},L2=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,n){this.doc=t,this.cookieName=n}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Sc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(n){return new(n||e)(d(ye),d(x2))};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})();function k2(e,r){let t=e.url.toLowerCase();if(!y(X0)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return r(e);let n=y(Rc).getToken(),i=y(F2);return n!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,n)})),r(e)}var vf=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(vf||{});function J0(e,r){return{\u0275kind:e,\u0275providers:r}}function U2(...e){let r=[we,kS,mf,{provide:As,useExisting:mf},{provide:_s,useFactory:()=>y(K0,{optional:!0})??y(kS)},{provide:jS,useValue:k2,multi:!0},{provide:X0,useValue:!0},{provide:Rc,useClass:L2}];for(let t of e)r.push(...t.\u0275providers);return yn(r)}var z0=new C("");function j2(){return J0(vf.LegacyInterceptors,[{provide:z0,useFactory:A2},{provide:jS,useExisting:z0,multi:!0}])}function $2(){return J0(vf.Fetch,[hf,{provide:K0,useExisting:hf},{provide:_s,useExisting:hf}])}var BS=(()=>{class e{_doc;_dom;constructor(t){this._doc=t,this._dom=kn()}addTag(t,n=!1){return t?this._getOrCreateElement(t,n):null}addTags(t,n=!1){return t?t.reduce((i,o)=>(o&&i.push(this._getOrCreateElement(o,n)),i),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];let n=this._doc.querySelectorAll(`meta[${t}]`);return n?[].slice.call(n):[]}updateTag(t,n){if(!t)return null;n=n||this._parseSelector(t);let i=this.getTag(n);return i?this._setMetaElementAttributes(t,i):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,n=!1){if(!n){let s=this._parseSelector(t),a=this.getTags(s).filter(c=>this._containsAttributes(t,c))[0];if(a!==void 0)return a}let i=this._dom.createElement("meta");return this._setMetaElementAttributes(t,i),this._doc.getElementsByTagName("head")[0].appendChild(i),i}_setMetaElementAttributes(t,n){return Object.keys(t).forEach(i=>n.setAttribute(this._getMetaKeyMap(i),t[i])),n}_parseSelector(t){let n=t.name?"name":"property";return`${n}="${t[n]}"`}_containsAttributes(t,n){return Object.keys(t).every(i=>n.getAttribute(this._getMetaKeyMap(i))===t[i])}_getMetaKeyMap(t){return B2[t]||t}static \u0275fac=function(n){return new(n||e)(d(ye))};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),B2={httpEquiv:"http-equiv"},tM=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(n){return new(n||e)(d(ye))};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var V2=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=d(H2),i},providedIn:"root"})}return e})(),H2=(()=>{class e extends V2{_doc;constructor(t){super(),this._doc=t}sanitize(t,n){if(n==null)return null;switch(t){case Sn.NONE:return n;case Sn.HTML:return Er(n,"HTML")?Gt(n):LE(this._doc,String(n)).toString();case Sn.STYLE:return Er(n,"Style")?Gt(n):n;case Sn.SCRIPT:if(Er(n,"Script"))return Gt(n);throw new P(5200,!1);case Sn.URL:return Er(n,"URL")?Gt(n):Td(String(n));case Sn.RESOURCE_URL:if(Er(n,"ResourceURL"))return Gt(n);throw new P(5201,!1);default:throw new P(5202,!1)}}bypassSecurityTrustHtml(t){return pA(t)}bypassSecurityTrustStyle(t){return gA(t)}bypassSecurityTrustScript(t){return mA(t)}bypassSecurityTrustUrl(t){return vA(t)}bypassSecurityTrustResourceUrl(t){return yA(t)}static \u0275fac=function(n){return new(n||e)(d(ye))};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function G2(e){e||(oo(G2),e=y(Mt));let r=new V(t=>e.onDestroy(t.next.bind(t)));return t=>t.pipe(Vi(r))}function VS(e,r){let t=!r?.manualCleanup;t&&!r?.injector&&oo(VS);let n=t?r?.injector?.get(Mt)??y(Mt):null,i=W2(r?.equal),o;r?.requireSync?o=RE({kind:0},{equal:i}):o=RE({kind:1,value:r?.initialValue},{equal:i});let s,a=e.subscribe({next:c=>o.set({kind:1,value:c}),error:c=>{if(r?.rejectErrors)throw c;o.set({kind:2,error:c})},complete:()=>{s?.()}});if(r?.requireSync&&o().kind===0)throw new P(601,!1);return s=n?.onDestroy(a.unsubscribe.bind(a)),Hd(()=>{let c=o();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new P(601,!1)}},{equal:r?.equal})}function W2(e=Object.is){return(r,t)=>r.kind===1&&t.kind===1&&e(r.value,t.value)}var WS={};function Si(e,r){if(WS[e]=(WS[e]||0)+1,typeof r=="function")return HS(e,(...n)=>w(v({},r(...n)),{type:e}));switch(r?r._as:"empty"){case"empty":return HS(e,()=>({type:e}));case"props":return HS(e,n=>w(v({},n),{type:e}));default:throw new Error("Unexpected config.")}}function Ps(){return{_as:"props",_p:void 0}}function HS(e,r){return Object.defineProperty(r,"type",{value:e,writable:!1})}function q2(e,r){if(e==null)throw new Error(`${r} must be defined.`)}var Cf="@ngrx/store/init",Dn=(()=>{class e extends me{constructor(){super({type:Cf})}next(t){if(typeof t=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Y2=[Dn],QS=new C("@ngrx/store Internal Root Guard"),nM=new C("@ngrx/store Internal Initial State"),XS=new C("@ngrx/store Initial State"),vM=new C("@ngrx/store Reducer Factory"),rM=new C("@ngrx/store Internal Reducer Factory Provider"),yM=new C("@ngrx/store Initial Reducers"),zS=new C("@ngrx/store Internal Initial Reducers"),iM=new C("@ngrx/store Store Features"),oM=new C("@ngrx/store Internal Store Reducers"),GS=new C("@ngrx/store Internal Feature Reducers"),sM=new C("@ngrx/store Internal Feature Configs"),JS=new C("@ngrx/store Internal Store Features"),aM=new C("@ngrx/store Internal Feature Reducers Token"),eC=new C("@ngrx/store Feature Reducers"),cM=new C("@ngrx/store User Provided Meta Reducers"),Os=new C("@ngrx/store Meta Reducers"),uM=new C("@ngrx/store Internal Resolved Meta Reducers"),lM=new C("@ngrx/store User Runtime Checks Config"),dM=new C("@ngrx/store Internal User Runtime Checks Config"),ho=new C("@ngrx/store Internal Runtime Checks"),_c=new C("@ngrx/store Check if Action types are unique"),yf=new C("@ngrx/store Root Store Provider"),qS=new C("@ngrx/store Feature State Provider");function po(e,r={}){let t=Object.keys(e),n={};for(let o=0;o<t.length;o++){let s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}let i=Object.keys(n);return function(s,a){s=s===void 0?r:s;let c=!1,u={};for(let l=0;l<i.length;l++){let f=i[l],h=n[f],p=s[f],E=h(p,a);u[f]=E,c=c||E!==p}return c?u:s}}function K2(e,r){return Object.keys(e).filter(t=>t!==r).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{})}function EM(...e){return function(r){if(e.length===0)return r;let t=e[e.length-1];return e.slice(0,-1).reduceRight((i,o)=>o(i),t(r))}}function SM(e,r){return Array.isArray(r)&&r.length>0&&(e=EM.apply(null,[...r,e])),(t,n)=>{let i=e(t);return(o,s)=>(o=o===void 0?n:o,i(o,s))}}function Z2(e){let r=Array.isArray(e)&&e.length>0?EM(...e):t=>t;return(t,n)=>(t=r(t),(i,o)=>(i=i===void 0?n:i,t(i,o)))}var xs=class extends V{},Ef=class extends Dn{},Q2="@ngrx/store/update-reducers",Ac=(()=>{class e extends me{get currentReducers(){return this.reducers}constructor(t,n,i,o){super(o(i,n)),this.dispatcher=t,this.initialState=n,this.reducers=i,this.reducerFactory=o}addFeature(t){this.addFeatures([t])}addFeatures(t){let n=t.reduce((i,{reducers:o,reducerFactory:s,metaReducers:a,initialState:c,key:u})=>{let l=typeof o=="function"?Z2(a)(o,c):SM(s,a)(o,c);return i[u]=l,i},{});this.addReducers(n)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(n=>n.key))}addReducer(t,n){this.addReducers({[t]:n})}addReducers(t){this.reducers=v(v({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(n=>{this.reducers=K2(this.reducers,n)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Q2,features:t})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(n){return new(n||e)(d(Ef),d(XS),d(yM),d(vM))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),X2=[Ac,{provide:xs,useExisting:Ac},{provide:Ef,useExisting:Dn}],Fs=(()=>{class e extends oe{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),J2=[Fs],Sf=class extends V{},fM=(()=>{class e extends me{static{this.INIT=Cf}constructor(t,n,i,o){super(o);let a=t.pipe(hn(ui)).pipe(Xe(n)),c={state:o},u=a.pipe(Bi(ez,c));this.stateSubscription=u.subscribe(({state:l,action:f})=>{this.next(l),i.next(f)}),this.state=VS(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(n){return new(n||e)(d(Dn),d(xs),d(Fs),d(XS))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function ez(e={state:void 0},[r,t]){let{state:n}=e;return{state:t(n,r),action:r}}var tz=[fM,{provide:Sf,useExisting:fM}],ie=(()=>{class e extends V{constructor(t,n,i,o){super(),this.actionsObserver=n,this.reducerManager=i,this.injector=o,this.source=t,this.state=t.state}select(t,...n){return A.call(null,t,...n)(this)}selectSignal(t,n){return Hd(()=>t(this.state()),n)}lift(t){let n=new e(this,this.actionsObserver,this.reducerManager);return n.operator=t,n}dispatch(t,n){if(typeof t=="function")return this.processDispatchFn(t,n);this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,n){this.reducerManager.addReducer(t,n)}removeReducer(t){this.reducerManager.removeReducer(t)}processDispatchFn(t,n){q2(this.injector,"Store Injector");let i=n?.injector??rz()??this.injector;return zd(()=>{let o=t();Ts(()=>this.dispatch(o))},{injector:i})}static{this.\u0275fac=function(n){return new(n||e)(d(Sf),d(Dn),d(Ac),d(ve))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),nz=[ie];function A(e,r,...t){return function(i){let o;if(typeof e=="string"){let s=[r,...t].filter(Boolean);o=i.pipe(pv(e,...s))}else if(typeof e=="function")o=i.pipe(S(s=>e(s,r)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return o.pipe(gn())}}function rz(){try{return y(ve)}catch{return}}var tC="https://ngrx.io/guide/store/configuration/runtime-checks";function hM(e){return e===void 0}function pM(e){return e===null}function CM(e){return Array.isArray(e)}function iz(e){return typeof e=="string"}function oz(e){return typeof e=="boolean"}function sz(e){return typeof e=="number"}function IM(e){return typeof e=="object"&&e!==null}function az(e){return IM(e)&&!CM(e)}function cz(e){if(!az(e))return!1;let r=Object.getPrototypeOf(e);return r===Object.prototype||r===null}function YS(e){return typeof e=="function"}function uz(e){return YS(e)&&e.hasOwnProperty("\u0275cmp")}function lz(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var dz=!1;function nC(){return dz}function gM(e,r){return e===r}function fz(e,r,t){for(let n=0;n<e.length;n++)if(!t(e[n],r[n]))return!0;return!1}function DM(e,r=gM,t=gM){let n=null,i=null,o;function s(){n=null,i=null}function a(l=void 0){o={result:l}}function c(){o=void 0}function u(){if(o!==void 0)return o.result;if(!n)return i=e.apply(null,arguments),n=arguments,i;if(!fz(arguments,n,r))return i;let l=e.apply(null,arguments);return n=arguments,t(i,l)?i:(i=l,l)}return{memoized:u,reset:s,setResult:a,clearResult:c}}function T(...e){return pz(DM)(...e)}function hz(e,r,t,n){if(t===void 0){let o=r.map(s=>s(e));return n.memoized.apply(null,o)}let i=r.map(o=>o(e,t));return n.memoized.apply(null,[...i,t])}function pz(e,r={stateFn:hz}){return function(...t){let n=t;if(Array.isArray(n[0])){let[l,...f]=n;n=[...l,...f]}else n.length===1&&gz(n[0])&&(n=mz(n[0]));let i=n.slice(0,n.length-1),o=n[n.length-1],s=i.filter(l=>l.release&&typeof l.release=="function"),a=e(function(...l){return o.apply(null,l)}),c=DM(function(l,f){return r.stateFn.apply(null,[l,i,f,a])});function u(){c.reset(),a.reset(),s.forEach(l=>l.release())}return Object.assign(c.memoized,{release:u,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function wn(e){return T(r=>{let t=r[e];return!nC()&&le()&&!(e in r)&&console.warn(`@ngrx/store: The feature name "${e}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${e}', ...) or StoreModule.forFeature('${e}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),t},r=>r)}function gz(e){return!!e&&typeof e=="object"&&Object.values(e).every(r=>typeof r=="function")}function mz(e){let r=Object.values(e),t=Object.keys(e),n=(...i)=>t.reduce((o,s,a)=>w(v({},o),{[s]:i[a]}),{});return[...r,n]}function vz(e){return e instanceof C?y(e):e}function yz(e,r){return r.map((t,n)=>{if(e[n]instanceof C){let i=y(e[n]);return{key:t.key,reducerFactory:i.reducerFactory?i.reducerFactory:po,metaReducers:i.metaReducers?i.metaReducers:[],initialState:i.initialState}}return t})}function Ez(e){return e.map(r=>r instanceof C?y(r):r)}function rC(e){return typeof e=="function"?e():e}function Sz(e,r){return e.concat(r)}function Cz(){if(y(ie,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Iz(e,r){return function(t,n){let i=r.action(n)?KS(n):n,o=e(t,i);return r.state()?KS(o):o}}function KS(e){Object.freeze(e);let r=YS(e);return Object.getOwnPropertyNames(e).forEach(t=>{if(!t.startsWith("\u0275")&&lz(e,t)&&(!r||t!=="caller"&&t!=="callee"&&t!=="arguments")){let n=e[t];(IM(n)||YS(n))&&!Object.isFrozen(n)&&KS(n)}}),e}function Dz(e,r){return function(t,n){if(r.action(n)){let o=ZS(n);mM(o,"action")}let i=e(t,n);if(r.state()){let o=ZS(i);mM(o,"state")}return i}}function ZS(e,r=[]){return(hM(e)||pM(e))&&r.length===0?{path:["root"],value:e}:Object.keys(e).reduce((n,i)=>{if(n)return n;let o=e[i];return uz(o)?n:hM(o)||pM(o)||sz(o)||oz(o)||iz(o)||CM(o)?!1:cz(o)?ZS(o,[...r,i]):{path:[...r,i],value:o}},!1)}function mM(e,r){if(e===!1)return;let t=e.path.join("."),n=new Error(`Detected unserializable ${r} at "${t}". ${tC}#strict${r}serializability`);throw n.value=e.value,n.unserializablePath=t,n}function wz(e,r){return function(t,n){if(r.action(n)&&!fe.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${tC}#strictactionwithinngzone`);return e(t,n)}}function bz(e){return le()?v({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Tz({strictActionSerializability:e,strictStateSerializability:r}){return t=>e||r?Dz(t,{action:n=>e&&!iC(n),state:()=>r}):t}function Rz({strictActionImmutability:e,strictStateImmutability:r}){return t=>e||r?Iz(t,{action:n=>e&&!iC(n),state:()=>r}):t}function iC(e){return e.type.startsWith("@ngrx")}function Az({strictActionWithinNgZone:e}){return r=>e?wz(r,{action:t=>e&&!iC(t)}):r}function _z(e){return[{provide:dM,useValue:e},{provide:lM,useFactory:Mz,deps:[dM]},{provide:ho,deps:[lM],useFactory:bz},{provide:Os,multi:!0,deps:[ho],useFactory:Rz},{provide:Os,multi:!0,deps:[ho],useFactory:Tz},{provide:Os,multi:!0,deps:[ho],useFactory:Az}]}function wM(){return[{provide:_c,multi:!0,deps:[ho],useFactory:Nz}]}function Mz(e){return e}function Nz(e){if(!e.strictActionTypeUniqueness)return;let r=Object.entries(WS).filter(([,t])=>t>1).map(([t])=>t);if(r.length)throw new Error(`Action types are registered more than once, ${r.map(t=>`"${t}"`).join(", ")}. ${tC}#strictactiontypeuniqueness`)}function Oz(e={},r={}){return[{provide:QS,useFactory:Cz},{provide:nM,useValue:r.initialState},{provide:XS,useFactory:rC,deps:[nM]},{provide:zS,useValue:e},{provide:oM,useExisting:e instanceof C?e:zS},{provide:yM,deps:[zS,[new oE(oM)]],useFactory:vz},{provide:cM,useValue:r.metaReducers?r.metaReducers:[]},{provide:uM,deps:[Os,cM],useFactory:Sz},{provide:rM,useValue:r.reducerFactory?r.reducerFactory:po},{provide:vM,deps:[rM,uM],useFactory:SM},Y2,X2,J2,tz,nz,_z(r.runtimeChecks),wM()]}function xz(){y(Dn),y(xs),y(Fs),y(ie),y(QS,{optional:!0}),y(_c,{optional:!0})}var Ole=[{provide:yf,useFactory:xz},ms(()=>y(yf))];function Pz(){y(yf);let e=y(JS),r=y(eC),t=y(Ac);y(_c,{optional:!0});let n=e.map((i,o)=>{let a=r.shift()[o];return w(v({},i),{reducers:a,initialState:rC(i.initialState)})});t.addFeatures(n)}var xle=[{provide:qS,useFactory:Pz},ms(()=>y(qS))];function Fz(e,r,t={}){return[{provide:sM,multi:!0,useValue:e instanceof Object?{}:t},{provide:iM,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:!(t instanceof C)&&t.reducerFactory?t.reducerFactory:po,metaReducers:!(t instanceof C)&&t.metaReducers?t.metaReducers:[],initialState:!(t instanceof C)&&t.initialState?t.initialState:void 0}},{provide:JS,deps:[sM,iM],useFactory:yz},{provide:GS,multi:!0,useValue:e instanceof Object?e.reducer:r},{provide:aM,multi:!0,useExisting:r instanceof C?r:GS},{provide:eC,multi:!0,deps:[GS,[new oE(aM)]],useFactory:Ez},wM()]}var Mc=(()=>{class e{constructor(t,n,i,o,s,a){}static{this.\u0275fac=function(n){return new(n||e)(d(Dn),d(xs),d(Fs),d(ie),d(QS,8),d(_c,8))}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})(),If=(()=>{class e{constructor(t,n,i,o,s){this.features=t,this.featureReducers=n,this.reducerManager=i;let a=t.map((c,u)=>{let f=n.shift()[u];return w(v({},c),{reducers:f,initialState:rC(c.initialState)})});i.addFeatures(a)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(n){return new(n||e)(d(JS),d(eC),d(Ac),d(Mc),d(_c,8))}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})(),Hn=(()=>{class e{static forRoot(t,n){return{ngModule:Mc,providers:[...Oz(t,n)]}}static forFeature(t,n,i={}){return{ngModule:If,providers:[...Fz(t,n,i)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})();function Ple(...e){let r=e.pop(),t=e.map(n=>n.type);return{reducer:r,types:t}}function Fle(e,...r){let t=new Map;for(let n of r)for(let i of n.types){let o=t.get(i);if(o){let s=(a,c)=>n.reducer(o(a,c),c);t.set(i,s)}else t.set(i,n.reducer)}return function(n=e,i){let o=t.get(i.type);return o?o(n,i):n}}var Lz={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},wf="__@ngrx/effects_create__";function B(e,r={}){let t=r.functional?e:e(),n=v(v({},Lz),r);return Object.defineProperty(t,wf,{value:n}),t}function kz(e){return Object.getOwnPropertyNames(e).filter(n=>e[n]&&e[n].hasOwnProperty(wf)?e[n][wf].hasOwnProperty("dispatch"):!1).map(n=>{let i=e[n][wf];return v({propertyName:n},i)})}function Uz(e){return kz(e)}function AM(e){return Object.getPrototypeOf(e)}function jz(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function _M(e){return typeof e=="function"}function bM(e){return e.filter(_M)}function $z(e){return e instanceof C||_M(e)}function Bz(e,r,t){let n=AM(e),o=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,s=Uz(e).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:u})=>{let l=typeof e[a]=="function"?e[a]():e[a],f=u?t(l,r):l;return c===!1?f.pipe(Da()):f.pipe(hv()).pipe(S(p=>({effect:e[a],notification:p,propertyName:a,sourceName:o,sourceInstance:e})))});return pn(...s)}var Vz=10;function MM(e,r,t=Vz){return e.pipe(M(n=>(r&&r.handleError(n),t<=1?e:MM(e,r,t-1))))}var he=(()=>{class e extends V{constructor(t){super(),t&&(this.source=t)}lift(t){let n=new e;return n.source=this,n.operator=t,n}static{this.\u0275fac=function(n){return new(n||e)(d(Fs))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function j(...e){return R(r=>e.some(t=>typeof t=="string"?t===r.type:t.type===r.type))}var NM=new C("@ngrx/effects Internal Root Guard"),Df=new C("@ngrx/effects User Provided Effects"),sC=new C("@ngrx/effects Internal Root Effects"),OM=new C("@ngrx/effects Internal Root Effects Instances"),TM=new C("@ngrx/effects Internal Feature Effects"),xM=new C("@ngrx/effects Internal Feature Effects Instance Groups"),Hz=new C("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>MM}),PM="@ngrx/effects/init",Gle=Si(PM);function zz(e,r){if(e.notification.kind==="N"){let t=e.notification.value;!Gz(t)&&r.handleError(new Error(`Effect ${Wz(e)} dispatched an invalid action: ${qz(t)}`))}}function Gz(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function Wz({propertyName:e,sourceInstance:r,sourceName:t}){let n=typeof r[e]=="function";return!!t?`"${t}.${String(e)}${n?"()":""}"`:`"${String(e)}()"`}function qz(e){try{return JSON.stringify(e)}catch{return e}}var Yz="ngrxOnIdentifyEffects";function Kz(e){return aC(e,Yz)}var Zz="ngrxOnRunEffects";function Qz(e){return aC(e,Zz)}var Xz="ngrxOnInitEffects";function Jz(e){return aC(e,Xz)}function aC(e,r){return e&&r in e&&typeof e[r]=="function"}var FM=(()=>{class e extends oe{constructor(t,n){super(),this.errorHandler=t,this.effectsErrorHandler=n}addEffects(t){this.next(t)}toActions(){return this.pipe(lr(t=>jz(t)?AM(t):t),$(t=>t.pipe(lr(eG))),$(t=>{let n=t.pipe(ur(o=>tG(this.errorHandler,this.effectsErrorHandler)(o)),S(o=>(zz(o,this.errorHandler),o.notification)),R(o=>o.kind==="N"&&o.value!=null),dv()),i=t.pipe(q(1),R(Jz),S(o=>o.ngrxOnInitEffects()));return pn(n,i)}))}static{this.\u0275fac=function(n){return new(n||e)(d(et),d(Hz))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function eG(e){return Kz(e)?e.ngrxOnIdentifyEffects():""}function tG(e,r){return t=>{let n=Bz(t,e,r);return Qz(t)?t.ngrxOnRunEffects(n):n}}var LM=(()=>{class e{get isStarted(){return!!this.effectsSubscription}constructor(t,n){this.effectSources=t,this.store=n,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(n){return new(n||e)(d(FM),d(ie))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),kM=(()=>{class e{constructor(t,n,i,o,s,a,c){this.sources=t,n.start();for(let u of o)t.addEffects(u);i.dispatch({type:PM})}addEffects(t){this.sources.addEffects(t)}static{this.\u0275fac=function(n){return new(n||e)(d(FM),d(LM),d(ie),d(OM),d(Mc,8),d(If,8),d(NM,8))}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})(),nG=(()=>{class e{constructor(t,n,i,o){let s=n.flat();for(let a of s)t.addEffects(a)}static{this.\u0275fac=function(n){return new(n||e)(d(kM),d(xM),d(Mc,8),d(If,8))}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})(),zn=(()=>{class e{static forFeature(...t){let n=t.flat(),i=bM(n);return{ngModule:nG,providers:[i,{provide:TM,multi:!0,useValue:n},{provide:Df,multi:!0,useValue:[]},{provide:xM,multi:!0,useFactory:RM,deps:[TM,Df]}]}}static forRoot(...t){let n=t.flat(),i=bM(n);return{ngModule:kM,providers:[i,{provide:sC,useValue:[n]},{provide:NM,useFactory:rG},{provide:Df,multi:!0,useValue:[]},{provide:OM,useFactory:RM,deps:[sC,Df]}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})();function RM(e,r){let t=[];for(let n of e)t.push(...n);for(let n of r)t.push(...n);return t.map(n=>$z(n)?y(n):n)}function rG(){let e=y(LM,{optional:!0,skipSelf:!0}),r=y(sC,{self:!0});if(!(r.length===1&&r[0].length===0)&&e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Z="primary",Vc=Symbol("RouteTitle"),fC=class{params;constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let t=this.params[r];return Array.isArray(t)?t[0]:t}return null}getAll(r){if(this.has(r)){let t=this.params[r];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function vo(e){return new fC(e)}function GM(e,r,t){let n=t.path.split("/");if(n.length>e.length||t.pathMatch==="full"&&(r.hasChildren()||n.length<e.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:i}}function oG(e,r){if(e.length!==r.length)return!1;for(let t=0;t<e.length;++t)if(!Sr(e[t],r[t]))return!1;return!0}function Sr(e,r){let t=e?hC(e):void 0,n=r?hC(r):void 0;if(!t||!n||t.length!=n.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!WM(e[i],r[i]))return!1;return!0}function hC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function WM(e,r){if(Array.isArray(e)&&Array.isArray(r)){if(e.length!==r.length)return!1;let t=[...e].sort(),n=[...r].sort();return t.every((i,o)=>n[o]===i)}else return e===r}function qM(e){return e.length>0?e[e.length-1]:null}function wi(e){return Ui(e)?e:bs(e)?ue(Promise.resolve(e)):D(e)}var sG={exact:KM,subset:ZM},YM={exact:aG,subset:cG,ignored:()=>!0};function UM(e,r,t){return sG[t.paths](e.root,r.root,t.matrixParams)&&YM[t.queryParams](e.queryParams,r.queryParams)&&!(t.fragment==="exact"&&e.fragment!==r.fragment)}function aG(e,r){return Sr(e,r)}function KM(e,r,t){if(!go(e.segments,r.segments)||!Rf(e.segments,r.segments,t)||e.numberOfChildren!==r.numberOfChildren)return!1;for(let n in r.children)if(!e.children[n]||!KM(e.children[n],r.children[n],t))return!1;return!0}function cG(e,r){return Object.keys(r).length<=Object.keys(e).length&&Object.keys(r).every(t=>WM(e[t],r[t]))}function ZM(e,r,t){return QM(e,r,r.segments,t)}function QM(e,r,t,n){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!go(i,t)||r.hasChildren()||!Rf(i,t,n))}else if(e.segments.length===t.length){if(!go(e.segments,t)||!Rf(e.segments,t,n))return!1;for(let i in r.children)if(!e.children[i]||!ZM(e.children[i],r.children[i],n))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!go(e.segments,i)||!Rf(e.segments,i,n)||!e.children[Z]?!1:QM(e.children[Z],r,o,n)}}function Rf(e,r,t){return r.every((n,i)=>YM[t](e[i].parameters,n.parameters))}var Cr=class{root;queryParams;fragment;_queryParamMap;constructor(r=new pe([],{}),t={},n=null){this.root=r,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??=vo(this.queryParams),this._queryParamMap}toString(){return dG.serialize(this)}},pe=class{segments;children;parent=null;constructor(r,t){this.segments=r,this.children=t,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Af(this)}},Ci=class{path;parameters;_parameterMap;constructor(r,t){this.path=r,this.parameters=t}get parameterMap(){return this._parameterMap??=vo(this.parameters),this._parameterMap}toString(){return JM(this)}};function uG(e,r){return go(e,r)&&e.every((t,n)=>Sr(t.parameters,r[n].parameters))}function go(e,r){return e.length!==r.length?!1:e.every((t,n)=>t.path===r[n].path)}function lG(e,r){let t=[];return Object.entries(e.children).forEach(([n,i])=>{n===Z&&(t=t.concat(r(i,n)))}),Object.entries(e.children).forEach(([n,i])=>{n!==Z&&(t=t.concat(r(i,n)))}),t}var Kr=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:()=>new Ir,providedIn:"root"})}return e})(),Ir=class{parse(r){let t=new gC(r);return new Cr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(r){let t=`/${Nc(r.root,!0)}`,n=pG(r.queryParams),i=typeof r.fragment=="string"?`#${fG(r.fragment)}`:"";return`${t}${n}${i}`}},dG=new Ir;function Af(e){return e.segments.map(r=>JM(r)).join("/")}function Nc(e,r){if(!e.hasChildren())return Af(e);if(r){let t=e.children[Z]?Nc(e.children[Z],!1):"",n=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Z&&n.push(`${i}:${Nc(o,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}else{let t=lG(e,(n,i)=>i===Z?[Nc(e.children[Z],!1)]:[`${i}:${Nc(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[Z]!=null?`${Af(e)}/${t[0]}`:`${Af(e)}/(${t.join("//")})`}}function XM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bf(e){return XM(e).replace(/%3B/gi,";")}function fG(e){return encodeURI(e)}function pC(e){return XM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _f(e){return decodeURIComponent(e)}function jM(e){return _f(e.replace(/\+/g,"%20"))}function JM(e){return`${pC(e.path)}${hG(e.parameters)}`}function hG(e){return Object.entries(e).map(([r,t])=>`;${pC(r)}=${pC(t)}`).join("")}function pG(e){let r=Object.entries(e).map(([t,n])=>Array.isArray(n)?n.map(i=>`${bf(t)}=${bf(i)}`).join("&"):`${bf(t)}=${bf(n)}`).filter(t=>t);return r.length?`?${r.join("&")}`:""}var gG=/^[^\/()?;#]+/;function cC(e){let r=e.match(gG);return r?r[0]:""}var mG=/^[^\/()?;=#]+/;function vG(e){let r=e.match(mG);return r?r[0]:""}var yG=/^[^=?&#]+/;function EG(e){let r=e.match(yG);return r?r[0]:""}var SG=/^[^&#]+/;function CG(e){let r=e.match(SG);return r?r[0]:""}var gC=class{url;remaining;constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(r.length>0||Object.keys(t).length>0)&&(n[Z]=new pe(r,t)),n}parseSegment(){let r=cC(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(r),new Ci(_f(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let t=vG(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let i=cC(this.remaining);i&&(n=i,this.capture(n))}r[_f(t)]=_f(n)}parseQueryParam(r){let t=EG(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let s=CG(this.remaining);s&&(n=s,this.capture(n))}let i=jM(t),o=jM(n);if(r.hasOwnProperty(i)){let s=r[i];Array.isArray(s)||(s=[s],r[i]=s),s.push(o)}else r[i]=o}parseParens(r){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=cC(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):r&&(o=Z);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Z]:new pe([],s),this.consumeOptional("//")}return t}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new P(4011,!1)}};function eN(e){return e.segments.length>0?new pe([],{[Z]:e}):e}function tN(e){let r={};for(let[n,i]of Object.entries(e.children)){let o=tN(i);if(n===Z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))r[s]=a;else(o.segments.length>0||o.hasChildren())&&(r[n]=o)}let t=new pe(e.segments,r);return IG(t)}function IG(e){if(e.numberOfChildren===1&&e.children[Z]){let r=e.children[Z];return new pe(e.segments.concat(r.segments),r.children)}return e}function Ii(e){return e instanceof Cr}function nN(e,r,t=null,n=null){let i=rN(e);return iN(i,r,t,n)}function rN(e){let r;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new pe(o.url,s);return o===e&&(r=a),a}let n=t(e.root),i=eN(n);return r??i}function iN(e,r,t,n){let i=e;for(;i.parent;)i=i.parent;if(r.length===0)return uC(i,i,i,t,n);let o=DG(r);if(o.toRoot())return uC(i,i,new pe([],{}),t,n);let s=wG(o,i,e),a=s.processChildren?xc(s.segmentGroup,s.index,o.commands):sN(s.segmentGroup,s.index,o.commands);return uC(i,s.segmentGroup,a,t,n)}function Nf(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Fc(e){return typeof e=="object"&&e!=null&&e.outlets}function uC(e,r,t,n,i){let o={};n&&Object.entries(n).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;e===r?s=t:s=oN(e,r,t);let a=eN(tN(s));return new Cr(a,o,i)}function oN(e,r,t){let n={};return Object.entries(e.children).forEach(([i,o])=>{o===r?n[i]=t:n[i]=oN(o,r,t)}),new pe(e.segments,n)}var Of=class{isAbsolute;numberOfDoubleDots;commands;constructor(r,t,n){if(this.isAbsolute=r,this.numberOfDoubleDots=t,this.commands=n,r&&n.length>0&&Nf(n[0]))throw new P(4003,!1);let i=n.find(Fc);if(i&&i!==qM(n))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function DG(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Of(!0,0,e);let r=0,t=!1,n=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?r++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Of(t,r,n)}var Us=class{segmentGroup;processChildren;index;constructor(r,t,n){this.segmentGroup=r,this.processChildren=t,this.index=n}};function wG(e,r,t){if(e.isAbsolute)return new Us(r,!0,0);if(!t)return new Us(r,!1,NaN);if(t.parent===null)return new Us(t,!0,0);let n=Nf(e.commands[0])?0:1,i=t.segments.length-1+n;return bG(t,i,e.numberOfDoubleDots)}function bG(e,r,t){let n=e,i=r,o=t;for(;o>i;){if(o-=i,n=n.parent,!n)throw new P(4005,!1);i=n.segments.length}return new Us(n,!1,i-o)}function TG(e){return Fc(e[0])?e[0].outlets:{[Z]:e}}function sN(e,r,t){if(e??=new pe([],{}),e.segments.length===0&&e.hasChildren())return xc(e,r,t);let n=RG(e,r,t),i=t.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let o=new pe(e.segments.slice(0,n.pathIndex),{});return o.children[Z]=new pe(e.segments.slice(n.pathIndex),e.children),xc(o,0,i)}else return n.match&&i.length===0?new pe(e.segments,{}):n.match&&!e.hasChildren()?mC(e,r,t):n.match?xc(e,0,i):mC(e,r,t)}function xc(e,r,t){if(t.length===0)return new pe(e.segments,{});{let n=TG(t),i={};if(Object.keys(n).some(o=>o!==Z)&&e.children[Z]&&e.numberOfChildren===1&&e.children[Z].segments.length===0){let o=xc(e.children[Z],r,t);return new pe(e.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=sN(e.children[o],r,s))}),Object.entries(e.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new pe(e.segments,i)}}function RG(e,r,t){let n=0,i=r,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(n>=t.length)return o;let s=e.segments[i],a=t[n];if(Fc(a))break;let c=`${a}`,u=n<t.length-1?t[n+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!BM(c,u,s))return o;n+=2}else{if(!BM(c,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function mC(e,r,t){let n=e.segments.slice(0,r),i=0;for(;i<t.length;){let o=t[i];if(Fc(o)){let c=AG(o.outlets);return new pe(n,c)}if(i===0&&Nf(t[0])){let c=e.segments[r];n.push(new Ci(c.path,$M(t[0]))),i++;continue}let s=Fc(o)?o.outlets[Z]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Nf(a)?(n.push(new Ci(s,$M(a))),i+=2):(n.push(new Ci(s,{})),i++)}return new pe(n,{})}function AG(e){let r={};return Object.entries(e).forEach(([t,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[t]=mC(new pe([],{}),0,n))}),r}function $M(e){let r={};return Object.entries(e).forEach(([t,n])=>r[t]=`${n}`),r}function BM(e,r,t){return e==t.path&&Sr(r,t.parameters)}var Mf="imperative",Ye=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ye||{}),an=class{id;url;constructor(r,t){this.id=r,this.url=t}},Jt=class extends an{type=Ye.NavigationStart;navigationTrigger;restoredState;constructor(r,t,n="imperative",i=null){super(r,t),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ve=class extends an{urlAfterRedirects;type=Ye.NavigationEnd;constructor(r,t,n){super(r,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Qt||{}),$s=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}($s||{}),Xt=class extends an{reason;code;type=Ye.NavigationCancel;constructor(r,t,n,i){super(r,t),this.reason=n,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dr=class extends an{reason;code;type=Ye.NavigationSkipped;constructor(r,t,n,i){super(r,t),this.reason=n,this.code=i}},Wn=class extends an{error;target;type=Ye.NavigationError;constructor(r,t,n,i){super(r,t),this.error=n,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Di=class extends an{urlAfterRedirects;state;type=Ye.RoutesRecognized;constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xf=class extends an{urlAfterRedirects;state;type=Ye.GuardsCheckStart;constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pf=class extends an{urlAfterRedirects;state;shouldActivate;type=Ye.GuardsCheckEnd;constructor(r,t,n,i,o){super(r,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ff=class extends an{urlAfterRedirects;state;type=Ye.ResolveStart;constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lf=class extends an{urlAfterRedirects;state;type=Ye.ResolveEnd;constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kf=class{route;type=Ye.RouteConfigLoadStart;constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Uf=class{route;type=Ye.RouteConfigLoadEnd;constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},jf=class{snapshot;type=Ye.ChildActivationStart;constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$f=class{snapshot;type=Ye.ChildActivationEnd;constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bf=class{snapshot;type=Ye.ActivationStart;constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vf=class{snapshot;type=Ye.ActivationEnd;constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bs=class{routerEvent;position;anchor;type=Ye.Scroll;constructor(r,t,n){this.routerEvent=r,this.position=t,this.anchor=n}toString(){let r=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${r}')`}},Lc=class{},Vs=class{url;navigationBehaviorOptions;constructor(r,t){this.url=r,this.navigationBehaviorOptions=t}};function _G(e,r){return e.providers&&!e._injector&&(e._injector=sc(e.providers,r,`Route: ${e.path}`)),e._injector??r}function Gn(e){return e.outlet||Z}function MG(e,r){let t=e.filter(n=>Gn(n)===r);return t.push(...e.filter(n=>Gn(n)!==r)),t}function Hc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let r=e.parent;r;r=r.parent){let t=r.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Hf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Hc(this.route?.snapshot)??this.rootInjector}constructor(r){this.rootInjector=r,this.children=new yo(this.rootInjector)}},yo=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,n){let i=this.getOrCreateContext(t);i.outlet=n,this.contexts.set(t,i)}onChildOutletDestroyed(t){let n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new Hf(this.rootInjector),this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(n){return new(n||e)(d(mt))};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zf=class{_root;constructor(r){this._root=r}get root(){return this._root.value}parent(r){let t=this.pathFromRoot(r);return t.length>1?t[t.length-2]:null}children(r){let t=vC(r,this._root);return t?t.children.map(n=>n.value):[]}firstChild(r){let t=vC(r,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(r){let t=yC(r,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==r)}pathFromRoot(r){return yC(r,this._root).map(t=>t.value)}};function vC(e,r){if(e===r.value)return r;for(let t of r.children){let n=vC(e,t);if(n)return n}return null}function yC(e,r){if(e===r.value)return[r];for(let t of r.children){let n=yC(e,t);if(n.length)return n.unshift(r),n}return[]}var sn=class{value;children;constructor(r,t){this.value=r,this.children=t}toString(){return`TreeNode(${this.value})`}};function ks(e){let r={};return e&&e.children.forEach(t=>r[t.value.outlet]=t),r}var kc=class extends zf{snapshot;constructor(r,t){super(r),this.snapshot=t,TC(this,r)}toString(){return this.snapshot.toString()}};function aN(e){let r=NG(e),t=new me([new Ci("",{})]),n=new me({}),i=new me({}),o=new me({}),s=new me(""),a=new qn(t,n,o,s,i,Z,e,r.root);return a.snapshot=r.root,new kc(new sn(a,[]),r)}function NG(e){let r={},t={},n={},i="",o=new mo([],r,n,i,t,Z,e,null,{});return new Uc("",new sn(o,[]))}var qn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(r,t,n,i,o,s,a,c){this.urlSubject=r,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(S(u=>u[Vc]))??D(void 0),this.url=r,this.params=t,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(S(r=>vo(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(S(r=>vo(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gf(e,r,t="emptyOnly"){let n,{routeConfig:i}=e;return r!==null&&(t==="always"||i?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:v(v({},r.params),e.params),data:v(v({},r.data),e.data),resolve:v(v(v(v({},e.data),r.data),i?.data),e._resolvedData)}:n={params:v({},e.params),data:v({},e.data),resolve:v(v({},e.data),e._resolvedData??{})},i&&uN(i)&&(n.resolve[Vc]=i.title),n}var mo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Vc]}constructor(r,t,n,i,o,s,a,c,u){this.url=r,this.params=t,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vo(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${t}')`}},Uc=class extends zf{url;constructor(r,t){super(t),this.url=r,TC(this,t)}toString(){return cN(this._root)}};function TC(e,r){r.value._routerState=e,r.children.forEach(t=>TC(e,t))}function cN(e){let r=e.children.length>0?` { ${e.children.map(cN).join(", ")} } `:"";return`${e.value}${r}`}function lC(e){if(e.snapshot){let r=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Sr(r.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),r.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Sr(r.params,t.params)||e.paramsSubject.next(t.params),oG(r.url,t.url)||e.urlSubject.next(t.url),Sr(r.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function EC(e,r){let t=Sr(e.params,r.params)&&uG(e.url,r.url),n=!e.parent!=!r.parent;return t&&!n&&(!e.parent||EC(e.parent,r.parent))}function uN(e){return typeof e.title=="string"||e.title===null}var lN=new C(""),RC=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new _t;deactivateEvents=new _t;attachEvents=new _t;detachEvents=new _t;routerOutletData=eA(void 0);parentContexts=y(yo);location=y(qt);changeDetector=y(qr);inputBinder=y(zc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:n,previousValue:i}=t.name;if(n)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new SC(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||e)};static \u0275dir=Et({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[vi]})}return e})(),SC=class{route;childContexts;parent;outletData;constructor(r,t,n,i){this.route=r,this.childContexts=t,this.parent=n,this.outletData=i}get(r,t){return r===qn?this.route:r===yo?this.childContexts:r===lN?this.outletData:this.parent.get(r,t)}},zc=new C(""),AC=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:n}=t,i=Ae([n.queryParams,n.params,n.data]).pipe(_(([o,s,a],c)=>(a=v(v(v({},o),s),a),c===0?D(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(t);return}let s=Q_(n.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),_C=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=u_({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,i){n&1&&aS(0,"router-outlet")},dependencies:[RC],encapsulation:2})}return e})();function MC(e){let r=e.children&&e.children.map(MC),t=r?w(v({},e),{children:r}):v({},e);return!t.component&&!t.loadComponent&&(r||t.loadChildren)&&t.outlet&&t.outlet!==Z&&(t.component=_C),t}function OG(e,r,t){let n=jc(e,r._root,t?t._root:void 0);return new kc(n,r)}function jc(e,r,t){if(t&&e.shouldReuseRoute(r.value,t.value.snapshot)){let n=t.value;n._futureSnapshot=r.value;let i=xG(e,r,t);return new sn(n,i)}else{if(e.shouldAttach(r.value)){let o=e.retrieve(r.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=r.value,s.children=r.children.map(a=>jc(e,a)),s}}let n=PG(r.value),i=r.children.map(o=>jc(e,o));return new sn(n,i)}}function xG(e,r,t){return r.children.map(n=>{for(let i of t.children)if(e.shouldReuseRoute(n.value,i.value.snapshot))return jc(e,n,i);return jc(e,n)})}function PG(e){return new qn(new me(e.url),new me(e.params),new me(e.queryParams),new me(e.fragment),new me(e.data),e.outlet,e.component,e)}var Hs=class{redirectTo;navigationBehaviorOptions;constructor(r,t){this.redirectTo=r,this.navigationBehaviorOptions=t}},dN="ngNavigationCancelingError";function Wf(e,r){let{redirectTo:t,navigationBehaviorOptions:n}=Ii(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,i=fN(!1,Qt.Redirect);return i.url=t,i.navigationBehaviorOptions=n,i}function fN(e,r){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[dN]=!0,t.cancellationCode=r,t}function FG(e){return hN(e)&&Ii(e.url)}function hN(e){return!!e&&e[dN]}var LG=(e,r,t,n)=>S(i=>(new CC(r,i.targetRouterState,i.currentRouterState,t,n).activate(e),i)),CC=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(r,t,n,i,o){this.routeReuseStrategy=r,this.futureState=t,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(r){let t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,r),lC(this.futureState.root),this.activateChildRoutes(t,n,r)}deactivateChildRoutes(r,t,n){let i=ks(t);r.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(r,t,n){let i=r.value,o=t?t.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(r,t,s.children)}else this.deactivateChildRoutes(r,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(r,t){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,t):this.deactivateRouteAndOutlet(r,t)}detachAndStoreRouteSubtree(r,t){let n=t.getContext(r.value.outlet),i=n&&r.value.component?n.children:t,o=ks(r);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:s,route:r,contexts:a})}}deactivateRouteAndOutlet(r,t){let n=t.getContext(r.value.outlet),i=n&&r.value.component?n.children:t,o=ks(r);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(r,t,n){let i=ks(t);r.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new Vf(o.value.snapshot))}),r.children.length&&this.forwardEvent(new $f(r.value.snapshot))}activateRoutes(r,t,n){let i=r.value,o=t?t.value:null;if(lC(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(r,t,s.children)}else this.activateChildRoutes(r,t,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lC(a.route.value),this.activateChildRoutes(r,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(r,null,s.children)}else this.activateChildRoutes(r,null,n)}},qf=class{path;route;constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},js=class{component;route;constructor(r,t){this.component=r,this.route=t}};function kG(e,r,t){let n=e._root,i=r?r._root:null;return Oc(n,i,t,[n.value])}function UG(e){let r=e.routeConfig?e.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:e,guards:r}}function Gs(e,r){let t=Symbol(),n=r.get(e,t);return n===t?typeof e=="function"&&!tR(e)?e:r.get(e):n}function Oc(e,r,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ks(r);return e.children.forEach(s=>{jG(s,o[s.value.outlet],t,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Pc(a,t.getContext(s),i)),i}function jG(e,r,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=r?r.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=$G(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new qf(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Oc(e,r,a?a.children:null,n,i):Oc(e,r,t,n,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new js(a.outlet.component,s))}else s&&Pc(r,a,i),i.canActivateChecks.push(new qf(n)),o.component?Oc(e,null,a?a.children:null,n,i):Oc(e,null,t,n,i);return i}function $G(e,r,t){if(typeof t=="function")return t(e,r);switch(t){case"pathParamsChange":return!go(e.url,r.url);case"pathParamsOrQueryParamsChange":return!go(e.url,r.url)||!Sr(e.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!EC(e,r)||!Sr(e.queryParams,r.queryParams);case"paramsChange":default:return!EC(e,r)}}function Pc(e,r,t){let n=ks(e),i=e.value;Object.entries(n).forEach(([o,s])=>{i.component?r?Pc(s,r.children.getContext(o),t):Pc(s,null,t):Pc(s,r,t)}),i.component?r&&r.outlet&&r.outlet.isActivated?t.canDeactivateChecks.push(new js(r.outlet.component,i)):t.canDeactivateChecks.push(new js(null,i)):t.canDeactivateChecks.push(new js(null,i))}function Gc(e){return typeof e=="function"}function BG(e){return typeof e=="boolean"}function VG(e){return e&&Gc(e.canLoad)}function HG(e){return e&&Gc(e.canActivate)}function zG(e){return e&&Gc(e.canActivateChild)}function GG(e){return e&&Gc(e.canDeactivate)}function WG(e){return e&&Gc(e.canMatch)}function pN(e){return e instanceof Nn||e?.name==="EmptyError"}var Tf=Symbol("INITIAL_VALUE");function zs(){return _(e=>Ae(e.map(r=>r.pipe(q(1),ar(Tf)))).pipe(S(r=>{for(let t of r)if(t!==!0){if(t===Tf)return Tf;if(t===!1||qG(t))return t}return!0}),R(r=>r!==Tf),q(1)))}function qG(e){return Ii(e)||e instanceof Hs}function YG(e,r){return $(t=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?D(w(v({},t),{guardsResult:!0})):KG(s,n,i,e).pipe($(a=>a&&BG(a)?ZG(n,o,e,r):D(a)),S(a=>w(v({},t),{guardsResult:a})))})}function KG(e,r,t,n){return ue(e).pipe($(i=>t8(i.component,i.route,t,r,n)),kt(i=>i!==!0,!0))}function ZG(e,r,t,n){return ue(r).pipe(Te(i=>or(XG(i.route.parent,n),QG(i.route,n),e8(e,i.path,t),JG(e,i.route,t))),kt(i=>i!==!0,!0))}function QG(e,r){return e!==null&&r&&r(new Bf(e)),D(!0)}function XG(e,r){return e!==null&&r&&r(new jf(e)),D(!0)}function JG(e,r,t){let n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||n.length===0)return D(!0);let i=n.map(o=>je(()=>{let s=Hc(r)??t,a=Gs(o,s),c=HG(a)?a.canActivate(r,e):Ht(s,()=>a(r,e));return wi(c).pipe(kt())}));return D(i).pipe(zs())}function e8(e,r,t){let n=r[r.length-1],o=r.slice(0,r.length-1).reverse().map(s=>UG(s)).filter(s=>s!==null).map(s=>je(()=>{let a=s.guards.map(c=>{let u=Hc(s.node)??t,l=Gs(c,u),f=zG(l)?l.canActivateChild(n,e):Ht(u,()=>l(n,e));return wi(f).pipe(kt())});return D(a).pipe(zs())}));return D(o).pipe(zs())}function t8(e,r,t,n,i){let o=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!o||o.length===0)return D(!0);let s=o.map(a=>{let c=Hc(r)??i,u=Gs(a,c),l=GG(u)?u.canDeactivate(e,r,t,n):Ht(c,()=>u(e,r,t,n));return wi(l).pipe(kt())});return D(s).pipe(zs())}function n8(e,r,t,n){let i=r.canLoad;if(i===void 0||i.length===0)return D(!0);let o=i.map(s=>{let a=Gs(s,e),c=VG(a)?a.canLoad(r,t):Ht(e,()=>a(r,t));return wi(c)});return D(o).pipe(zs(),gN(n))}function gN(e){return Jm(F(r=>{if(typeof r!="boolean")throw Wf(e,r)}),S(r=>r===!0))}function r8(e,r,t,n){let i=r.canMatch;if(!i||i.length===0)return D(!0);let o=i.map(s=>{let a=Gs(s,e),c=WG(a)?a.canMatch(r,t):Ht(e,()=>a(r,t));return wi(c)});return D(o).pipe(zs(),gN(n))}var $c=class{segmentGroup;constructor(r){this.segmentGroup=r||null}},Bc=class extends Error{urlTree;constructor(r){super(),this.urlTree=r}};function Ls(e){return Rt(new $c(e))}function i8(e){return Rt(new P(4e3,!1))}function o8(e){return Rt(fN(!1,Qt.GuardRejected))}var IC=class{urlSerializer;urlTree;constructor(r,t){this.urlSerializer=r,this.urlTree=t}lineralizeSegments(r,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return D(n);if(i.numberOfChildren>1||!i.children[Z])return i8(`${r.redirectTo}`);i=i.children[Z]}}applyRedirectCommands(r,t,n,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:l,url:f,outlet:h,params:p,data:E,title:I}=i,b=Ht(o,()=>a({params:p,data:E,queryParams:c,fragment:u,routeConfig:l,url:f,outlet:h,title:I}));if(b instanceof Cr)throw new Bc(b);t=b}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),r,n);if(t[0]==="/")throw new Bc(s);return s}applyRedirectCreateUrlTree(r,t,n,i){let o=this.createSegmentGroup(r,t.root,n,i);return new Cr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(r,t){let n={};return Object.entries(r).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);n[i]=t[a]}else n[i]=o}),n}createSegmentGroup(r,t,n,i){let o=this.createSegments(r,t.segments,n,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(r,c,n,i)}),new pe(o,s)}createSegments(r,t,n,i){return t.map(o=>o.path[0]===":"?this.findPosParam(r,o,i):this.findOrReturn(o,n))}findPosParam(r,t,n){let i=n[t.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(r,t){let n=0;for(let i of t){if(i.path===r.path)return t.splice(n),i;n++}return r}},DC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function s8(e,r,t,n,i){let o=mN(e,r,t);return o.matched?(n=_G(r,n),r8(n,r,t,i).pipe(S(s=>s===!0?o:v({},DC)))):D(o)}function mN(e,r,t){if(r.path==="**")return a8(t);if(r.path==="")return r.pathMatch==="full"&&(e.hasChildren()||t.length>0)?v({},DC):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(r.matcher||GM)(t,e,r);if(!i)return v({},DC);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function a8(e){return{matched:!0,parameters:e.length>0?qM(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function VM(e,r,t,n){return t.length>0&&l8(e,t,n)?{segmentGroup:new pe(r,u8(n,new pe(t,e.children))),slicedSegments:[]}:t.length===0&&d8(e,t,n)?{segmentGroup:new pe(e.segments,c8(e,t,n,e.children)),slicedSegments:t}:{segmentGroup:new pe(e.segments,e.children),slicedSegments:t}}function c8(e,r,t,n){let i={};for(let o of t)if(Kf(e,r,o)&&!n[Gn(o)]){let s=new pe([],{});i[Gn(o)]=s}return v(v({},n),i)}function u8(e,r){let t={};t[Z]=r;for(let n of e)if(n.path===""&&Gn(n)!==Z){let i=new pe([],{});t[Gn(n)]=i}return t}function l8(e,r,t){return t.some(n=>Kf(e,r,n)&&Gn(n)!==Z)}function d8(e,r,t){return t.some(n=>Kf(e,r,n))}function Kf(e,r,t){return(e.hasChildren()||r.length>0)&&t.pathMatch==="full"?!1:t.path===""}function f8(e,r,t){return r.length===0&&!e.children[t]}var wC=class{};function h8(e,r,t,n,i,o,s="emptyOnly"){return new bC(e,r,t,n,i,s,o).recognize()}var p8=31,bC=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(r,t,n,i,o,s,a){this.injector=r,this.configLoader=t,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new IC(this.urlSerializer,this.urlTree)}noMatchError(r){return new P(4002,`'${r.segmentGroup}'`)}recognize(){let r=VM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(S(({children:t,rootSnapshot:n})=>{let i=new sn(n,t),o=new Uc("",i),s=nN(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(r){let t=new mo([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,Z,t).pipe(S(n=>({children:n,rootSnapshot:t})),M(n=>{if(n instanceof Bc)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof $c?this.noMatchError(n):n}))}processSegmentGroup(r,t,n,i,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(r,t,n,o):this.processSegment(r,t,n,n.segments,i,!0,o).pipe(S(s=>s instanceof sn?[s]:[]))}processChildren(r,t,n,i){let o=[];for(let s of Object.keys(n.children))s==="primary"?o.unshift(s):o.push(s);return ue(o).pipe(Te(s=>{let a=n.children[s],c=MG(t,s);return this.processSegmentGroup(r,c,a,s,i)}),Bi((s,a)=>(s.push(...a),s)),ci(null),fv(),$(s=>{if(s===null)return Ls(n);let a=vN(s);return g8(a),D(a)}))}processSegment(r,t,n,i,o,s,a){return ue(t).pipe(Te(c=>this.processSegmentAgainstRoute(c._injector??r,t,c,n,i,o,s,a).pipe(M(u=>{if(u instanceof $c)return D(null);throw u}))),kt(c=>!!c),M(c=>{if(pN(c))return f8(n,i,o)?D(new wC):Ls(n);throw c}))}processSegmentAgainstRoute(r,t,n,i,o,s,a,c){return Gn(n)!==s&&(s===Z||!Kf(i,o,n))?Ls(i):n.redirectTo===void 0?this.matchSegmentAgainstRoute(r,i,n,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(r,i,t,n,o,s,c):Ls(i)}expandSegmentAgainstRouteUsingRedirect(r,t,n,i,o,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:f,remainingSegments:h}=mN(t,i,o);if(!c)return Ls(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>p8&&(this.allowRedirects=!1));let p=new mo(o,u,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,HM(i),Gn(i),i.component??i._loadedComponent??null,i,zM(i)),E=Gf(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(E.params),p.data=Object.freeze(E.data);let I=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,f,p,r);return this.applyRedirects.lineralizeSegments(i,I).pipe($(b=>this.processSegment(r,n,t,b.concat(h),s,!1,a)))}matchSegmentAgainstRoute(r,t,n,i,o,s){let a=s8(t,n,i,r,this.urlSerializer);return n.path==="**"&&(t.children={}),a.pipe(_(c=>c.matched?(r=n._injector??r,this.getChildConfig(r,n,i).pipe(_(({routes:u})=>{let l=n._loadedInjector??r,{parameters:f,consumedSegments:h,remainingSegments:p}=c,E=new mo(h,f,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,HM(n),Gn(n),n.component??n._loadedComponent??null,n,zM(n)),I=Gf(E,s,this.paramsInheritanceStrategy);E.params=Object.freeze(I.params),E.data=Object.freeze(I.data);let{segmentGroup:b,slicedSegments:x}=VM(t,h,p,u);if(x.length===0&&b.hasChildren())return this.processChildren(l,u,b,E).pipe(S(J=>new sn(E,J)));if(u.length===0&&x.length===0)return D(new sn(E,[]));let N=Gn(n)===o;return this.processSegment(l,u,b,x,N?Z:o,!0,E).pipe(S(J=>new sn(E,J instanceof sn?[J]:[])))}))):Ls(t)))}getChildConfig(r,t,n){return t.children?D({routes:t.children,injector:r}):t.loadChildren?t._loadedRoutes!==void 0?D({routes:t._loadedRoutes,injector:t._loadedInjector}):n8(r,t,n,this.urlSerializer).pipe($(i=>i?this.configLoader.loadChildren(r,t).pipe(F(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):o8(t))):D({routes:[],injector:r})}};function g8(e){e.sort((r,t)=>r.value.outlet===Z?-1:t.value.outlet===Z?1:r.value.outlet.localeCompare(t.value.outlet))}function m8(e){let r=e.value.routeConfig;return r&&r.path===""}function vN(e){let r=[],t=new Set;for(let n of e){if(!m8(n)){r.push(n);continue}let i=r.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),t.add(i)):r.push(n)}for(let n of t){let i=vN(n.children);r.push(new sn(n.value,i))}return r.filter(n=>!t.has(n))}function HM(e){return e.data||{}}function zM(e){return e.resolve||{}}function v8(e,r,t,n,i,o){return $(s=>h8(e,r,t,n,s.extractedUrl,i,o).pipe(S(({state:a,tree:c})=>w(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function y8(e,r){return $(t=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=t;if(!i.length)return D(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of yN(c))s.add(u);let a=0;return ue(s).pipe(Te(c=>o.has(c)?E8(c,n,e,r):(c.data=Gf(c,c.parent,e).resolve,D(void 0))),F(()=>a++),Qo(1),$(c=>a===s.size?D(t):ce))})}function yN(e){let r=e.children.map(t=>yN(t)).flat();return[e,...r]}function E8(e,r,t,n){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!uN(i)&&(o[Vc]=i.title),S8(o,e,r,n).pipe(S(s=>(e._resolvedData=s,e.data=Gf(e,e.parent,t).resolve,null)))}function S8(e,r,t,n){let i=hC(e);if(i.length===0)return D({});let o={};return ue(i).pipe($(s=>C8(e[s],r,t,n).pipe(kt(),F(a=>{if(a instanceof Hs)throw Wf(new Ir,a);o[s]=a}))),Qo(1),S(()=>o),M(s=>pN(s)?ce:Rt(s)))}function C8(e,r,t,n){let i=Hc(r)??n,o=Gs(e,i),s=o.resolve?o.resolve(r,t):Ht(i,()=>o(r,t));return wi(s)}function dC(e){return _(r=>{let t=e(r);return t?ue(t).pipe(S(()=>r)):D(r)})}var NC=(()=>{class e{buildTitle(t){let n,i=t.root;for(;i!==void 0;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(o=>o.outlet===Z);return n}getResolvedTitleForRoute(t){return t.data[Vc]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:()=>y(EN),providedIn:"root"})}return e})(),EN=(()=>{class e extends NC{title;constructor(t){super(),this.title=t}updateTitle(t){let n=this.buildTitle(t);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||e)(d(tM))};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Eo=new C("",{providedIn:"root",factory:()=>({})}),Ws=new C(""),Zf=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(Vd);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return D(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let n=wi(t.loadComponent()).pipe(S(CN),F(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),On(()=>{this.componentLoaders.delete(t)})),i=new qo(n,()=>new oe).pipe(Wo());return this.componentLoaders.set(t,i),i}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return D({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=SN(n,this.compiler,t,this.onLoadEndListener).pipe(On(()=>{this.childrenLoaders.delete(n)})),s=new qo(o,()=>new oe).pipe(Wo());return this.childrenLoaders.set(n,s),s}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function SN(e,r,t,n){return wi(e.loadChildren()).pipe(S(CN),$(i=>i instanceof oc||Array.isArray(i)?D(i):ue(r.compileModuleAsync(i))),S(i=>{n&&n(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ws,[],{optional:!0,self:!0}).flat()),{routes:s.map(MC),injector:o}}))}function I8(e){return e&&typeof e=="object"&&"default"in e}function CN(e){return I8(e)?e.default:e}var Qf=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:()=>y(D8),providedIn:"root"})}return e})(),D8=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),OC=new C(""),xC=new C("");function IN(e,r,t){let n=e.get(xC),i=e.get(ye);return e.get(fe).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),w8(e))),{onViewTransitionCreated:c}=n;return c&&Ht(e,()=>c({transition:a,from:r,to:t})),s})}function w8(e){return new Promise(r=>{PE({read:()=>setTimeout(r)},{injector:e})})}var PC=new C(""),Xf=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new oe;transitionAbortSubject=new oe;configLoader=y(Zf);environmentInjector=y(mt);destroyRef=y(Mt);urlSerializer=y(Kr);rootContexts=y(yo);location=y(Cn);inputBindingEnabled=y(zc,{optional:!0})!==null;titleStrategy=y(NC);options=y(Eo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(Qf);createViewTransition=y(OC,{optional:!0});navigationErrorHandler=y(PC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>D(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new kf(i)),n=i=>this.events.next(new Uf(i));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let n=++this.navigationId;this.transitions?.next(w(v({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))}setupNavigations(t){return this.transitions=new me(null),this.transitions.pipe(R(n=>n!==null),_(n=>{let i=!1,o=!1;return D(n).pipe(_(s=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",Qt.SupersededByNewNavigation),ce;this.currentTransition=n,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?w(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new Dr(s.id,this.urlSerializer.serialize(s.rawUrl),u,$s.IgnoredSameUrlNavigation)),s.resolve(!1),ce}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return D(s).pipe(_(u=>(this.events.next(new Jt(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?ce:Promise.resolve(u))),v8(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),F(u=>{n.targetSnapshot=u.targetSnapshot,n.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=w(v({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let l=new Di(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:l,source:f,restoredState:h,extras:p}=s,E=new Jt(u,this.urlSerializer.serialize(l),f,h);this.events.next(E);let I=aN(this.rootComponentType).snapshot;return this.currentTransition=n=w(v({},s),{targetSnapshot:I,urlAfterRedirects:l,extras:w(v({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,D(n)}else{let u="";return this.events.next(new Dr(s.id,this.urlSerializer.serialize(s.extractedUrl),u,$s.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ce}}),F(s=>{let a=new xf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),S(s=>(this.currentTransition=n=w(v({},s),{guards:kG(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),n)),YG(this.environmentInjector,s=>this.events.next(s)),F(s=>{if(n.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Wf(this.urlSerializer,s.guardsResult);let a=new Pf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),R(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Qt.GuardRejected),!1)),dC(s=>{if(s.guards.canActivateChecks.length!==0)return D(s).pipe(F(a=>{let c=new Ff(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),_(a=>{let c=!1;return D(a).pipe(y8(this.paramsInheritanceStrategy,this.environmentInjector),F({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Qt.NoDataFromResolver)}}))}),F(a=>{let c=new Lf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),dC(s=>{let a=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(F(l=>{c.component=l}),S(()=>{})));for(let l of c.children)u.push(...a(l));return u};return Ae(a(s.targetSnapshot.root)).pipe(ci(null),q(1))}),dC(()=>this.afterPreactivation()),_(()=>{let{currentSnapshot:s,targetSnapshot:a}=n,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?ue(c).pipe(S(()=>n)):D(n)}),S(s=>{let a=OG(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=n=w(v({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,n}),F(()=>{this.events.next(new Lc)}),LG(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),q(1),F({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ve(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Vi(this.transitionAbortSubject.pipe(F(s=>{throw s}))),On(()=>{!i&&!o&&this.cancelNavigationTransition(n,"",Qt.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),M(s=>{if(this.destroyed)return n.resolve(!1),ce;if(o=!0,hN(s))this.events.next(new Xt(n.id,this.urlSerializer.serialize(n.extractedUrl),s.message,s.cancellationCode)),FG(s)?this.events.next(new Vs(s.url,s.navigationBehaviorOptions)):n.resolve(!1);else{let a=new Wn(n.id,this.urlSerializer.serialize(n.extractedUrl),s,n.targetSnapshot??void 0);try{let c=Ht(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Hs){let{message:u,cancellationCode:l}=Wf(this.urlSerializer,c);this.events.next(new Xt(n.id,this.urlSerializer.serialize(n.extractedUrl),u,l)),this.events.next(new Vs(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(c)}}return ce}))}))}cancelNavigationTransition(t,n,i){let o=new Xt(t.id,this.urlSerializer.serialize(t.extractedUrl),n,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function b8(e){return e!==Mf}var DN=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:()=>y(T8),providedIn:"root"})}return e})(),Yf=class{shouldDetach(r){return!1}store(r,t){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,t){return r.routeConfig===t.routeConfig}},T8=(()=>{class e extends Yf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})();static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wN=(()=>{class e{urlSerializer=y(Kr);options=y(Eo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(Cn);urlHandlingStrategy=y(Qf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Cr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:n,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,n):n,s=i??o;return s instanceof Cr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:n,initialUrl:i}){n&&t?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,i),this.routerState=t):this.rawUrlTree=i}routerState=aN(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:()=>y(R8),providedIn:"root"})}return e})(),R8=(()=>{class e extends wN{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{t(n.url,n.state,"popstate")})})}handleRouterEvent(t,n){t instanceof Jt?this.updateStateMemento():t instanceof Dr?this.commitTransition(n):t instanceof Di?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):t instanceof Lc?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):t instanceof Xt&&(t.code===Qt.GuardRejected||t.code===Qt.NoDataFromResolver)?this.restoreHistory(n):t instanceof Wn?this.restoreHistory(n,!0):t instanceof Ve&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:n,id:i}){let{replaceUrl:o,state:s}=n;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=v(v({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=v(v({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,n=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})();static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Jf(e,r){e.events.pipe(R(t=>t instanceof Ve||t instanceof Xt||t instanceof Wn||t instanceof Dr),S(t=>t instanceof Ve||t instanceof Dr?0:(t instanceof Xt?t.code===Qt.Redirect||t.code===Qt.SupersededByNewNavigation:!1)?2:1),R(t=>t!==2),q(1)).subscribe(()=>{r()})}var A8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ce=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(JE);stateManager=y(wN);options=y(Eo,{optional:!0})||{};pendingTasks=y(Gr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(Xf);urlSerializer=y(Kr);location=y(Cn);urlHandlingStrategy=y(Qf);_events=new oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(DN);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(Ws,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(zc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new de;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(n=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof Xt&&n.code!==Qt.Redirect&&n.code!==Qt.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Ve)this.navigated=!0;else if(n instanceof Vs){let s=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,i.currentRawUrl),c=v({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||b8(i.source)},s);this.scheduleNavigation(a,Mf,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}N8(n)&&this._events.next(n)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,n,i)=>{this.navigateToSyncWithBrowser(t,i,n)})}navigateToSyncWithBrowser(t,n,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=v({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(MC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,n={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=n,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let f;try{let h=i?i.snapshot:this.routerState.snapshot.root;f=rN(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return iN(f,t,l,u??null)}navigateByUrl(t,n={skipLocationChange:!1}){let i=Ii(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Mf,null,n)}navigate(t,n={skipLocationChange:!1}){return M8(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,n){let i;if(n===!0?i=v({},A8):n===!1?i=v({},_8):i=n,Ii(t))return UM(this.currentUrlTree,t,i);let o=this.parseUrl(t);return UM(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((n,[i,o])=>(o!=null&&(n[i]=o),n),{})}scheduleNavigation(t,n,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((f,h)=>{a=f,c=h});let l=this.pendingTasks.add();return Jf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function M8(e){for(let r=0;r<e.length;r++)if(e[r]==null)throw new P(4008,!1)}function N8(e){return!(e instanceof Lc)&&!(e instanceof Vs)}var eh=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new oe;constructor(t,n,i,o,s,a){this.router=t,this.route=n,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Ve&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ii(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,n,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||n||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let n=this.href===null?null:wA(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(t,n){let i=this.renderer,o=this.el.nativeElement;n!==null?i.setAttribute(o,t,n):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ii(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||e)(Y(Ce),Y(qn),Dd("tabindex"),Y(ws),Y(yr),Y(Un))};static \u0275dir=Et({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,i){n&1&&cS("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&iS("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",lc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",lc],replaceUrl:[2,"replaceUrl","replaceUrl",lc],routerLink:"routerLink"},features:[vi]})}return e})(),O8=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new _t;constructor(t,n,i,o,s){this.router=t,this.element=n,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Ve&&this.update()})}ngAfterContentInit(){D(this.links.changes,D(null)).pipe(ir()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=ue(t).pipe(ir()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(t){let n=Array.isArray(t)?t:t.split(" ");this.classes=n.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(n=>{t?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let n=x8(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,n):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(n){return new(n||e)(Y(Ce),Y(yr),Y(ws),Y(qr),Y(eh,8))};static \u0275dir=Et({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(n,i,o){if(n&1&&P_(o,eh,5),n&2){let s;F_(s=L_())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[vi]})}return e})();function x8(e){return!!e.paths}var Wc=class{};var bN=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,n,i,o){this.router=t,this.injector=n,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(R(t=>t instanceof Ve),Te(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){let i=[];for(let o of n){o.providers&&!o._injector&&(o._injector=sc(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ue(i).pipe(ir())}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>{let i;n.loadChildren&&n.canLoad===void 0?i=this.loader.loadChildren(t,n):i=D(null);let o=i.pipe($(s=>s===null?D(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return ue([o,s]).pipe(ir())}else return o})}static \u0275fac=function(n){return new(n||e)(d(Ce),d(mt),d(Wc),d(Zf))};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),TN=new C(""),P8=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,n,i,o,s={}){this.urlSerializer=t,this.transitions=n,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Jt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ve?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Dr&&t.code===$s.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Bs&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Bs(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){JA()};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})();function F8(e){return e.routerState.root}function qc(e,r){return{\u0275kind:e,\u0275providers:r}}function L8(){let e=y(ve);return r=>{let t=e.get(Br);if(r!==t.components[0])return;let n=e.get(Ce),i=e.get(RN);e.get(LC)===1&&n.initialNavigation(),e.get(MN,null,ee.Optional)?.setUpPreloading(),e.get(TN,null,ee.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var RN=new C("",{factory:()=>new oe}),LC=new C("",{providedIn:"root",factory:()=>1});function AN(){let e=[{provide:LC,useValue:0},rS(()=>{let r=y(ve);return r.get(hc,Promise.resolve()).then(()=>new Promise(n=>{let i=r.get(Ce),o=r.get(RN);Jf(i,()=>{n(!0)}),r.get(Xf).afterPreactivation=()=>(n(!0),o.closed?D(void 0):o),i.initialNavigation()}))})];return qc(2,e)}function _N(){let e=[rS(()=>{y(Ce).setUpLocationChangeListener()}),{provide:LC,useValue:2}];return qc(3,e)}var MN=new C("");function NN(e){return qc(0,[{provide:MN,useExisting:bN},{provide:Wc,useExisting:e}])}function ON(){return qc(8,[AC,{provide:zc,useExisting:AC}])}function xN(e){co("NgRouterViewTransitions");let r=[{provide:OC,useValue:IN},{provide:xC,useValue:v({skipNextTransition:!!e?.skipInitialTransition},e)}];return qc(9,r)}var PN=[Cn,{provide:Kr,useClass:Ir},Ce,yo,{provide:qn,useFactory:F8,deps:[Ce]},Zf,[]],kC=(()=>{class e{constructor(){}static forRoot(t,n){return{ngModule:e,providers:[PN,[],{provide:Ws,multi:!0,useValue:t},[],n?.errorHandler?{provide:PC,useValue:n.errorHandler}:[],{provide:Eo,useValue:n||{}},n?.useHash?U8():j8(),k8(),n?.preloadingStrategy?NN(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?$8(n):[],n?.bindToComponentInputs?ON().\u0275providers:[],n?.enableViewTransitions?xN().\u0275providers:[],B8()]}}static forChild(t){return{ngModule:e,providers:[{provide:Ws,multi:!0,useValue:t}]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=U({type:e});static \u0275inj=k({})}return e})();function k8(){return{provide:TN,useFactory:()=>{let e=y(_0),r=y(fe),t=y(Eo),n=y(Xf),i=y(Kr);return t.scrollOffset&&e.setOffset(t.scrollOffset),new P8(i,n,e,r,t)}}}function U8(){return{provide:Un,useClass:CS}}function j8(){return{provide:Un,useClass:qd}}function $8(e){return[e.initialNavigation==="disabled"?_N().\u0275providers:[],e.initialNavigation==="enabledBlocking"?AN().\u0275providers:[]]}var FC=new C("");function B8(){return[{provide:FC,useFactory:L8},{provide:cc,multi:!0,useExisting:FC}]}var th=class{validateSignature(r){return Promise.resolve(null)}validateAtHash(r){return Promise.resolve(!0)}},nh=class{};var Yc=class{},V8=(()=>{class e extends Yc{now(){return Date.now()}new(){return new Date}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();var rh=class{},Co=class{},H8=(()=>{class e{constructor(){this.data=new Map}getItem(t){return this.data.get(t)}removeItem(t){this.data.delete(t)}setItem(t,n){this.data.set(t,n)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();var Kc=class{constructor(r){this.type=r}},Ot=class extends Kc{constructor(r,t=null){super(r),this.info=t}},Yn=class extends Kc{constructor(r,t=null){super(r),this.info=t}},xe=class extends Kc{constructor(r,t,n=null){super(r),this.reason=t,this.params=n}};function LN(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(r).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function kN(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var qs=class{constructor(r){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=t=>{location.href=t},r&&Object.assign(this,r)}},So=class{encodeKey(r){return encodeURIComponent(r)}encodeValue(r){return encodeURIComponent(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}},ih=class{};var UN=(()=>{class e{getHashFragmentParams(t){let n=t||window.location.hash;if(n=decodeURIComponent(n),n.indexOf("#")!==0)return{};let i=n.indexOf("?");return i>-1?n=n.substr(i+1):n=n.substr(1),this.parseQueryString(n)}parseQueryString(t){let n={},i,o,s,a,c,u;if(t===null)return n;let l=t.split("&");for(let f=0;f<l.length;f++)i=l[f],o=i.indexOf("="),o===-1?(s=i,a=null):(s=i.substr(0,o),a=i.substr(o+1)),c=decodeURIComponent(s),u=decodeURIComponent(a),c.substr(0,1)==="/"&&(c=c.substr(1)),n[c]=u;return n}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),jN=32,z8=64,G8=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function UC(e,r,t,n,i){let o,s,a,c,u,l,f,h,p,E,I,b,x;for(;i>=64;){for(o=r[0],s=r[1],a=r[2],c=r[3],u=r[4],l=r[5],f=r[6],h=r[7],E=0;E<16;E++)I=n+E*4,e[E]=(t[I]&255)<<24|(t[I+1]&255)<<16|(t[I+2]&255)<<8|t[I+3]&255;for(E=16;E<64;E++)p=e[E-2],b=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,p=e[E-15],x=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,e[E]=(b+e[E-7]|0)+(x+e[E-16]|0);for(E=0;E<64;E++)b=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&f)|0)+(h+(G8[E]+e[E]|0)|0)|0,x=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&s^o&a^s&a)|0,h=f,f=l,l=u,u=c+b|0,c=a,a=s,s=o,o=b+x|0;r[0]+=o,r[1]+=s,r[2]+=a,r[3]+=c,r[4]+=u,r[5]+=l,r[6]+=f,r[7]+=h,n+=64,i-=64}return n}var jC=class{constructor(){this.digestLength=jN,this.blockSize=z8,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let r=0;r<this.buffer.length;r++)this.buffer[r]=0;for(let r=0;r<this.temp.length;r++)this.temp[r]=0;this.reset()}update(r,t=r.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let n=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=r[n++],t--;this.bufferLength===64&&(UC(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(n=UC(this.temp,this.state,r,n,t),t%=64);t>0;)this.buffer[this.bufferLength++]=r[n++],t--;return this}finish(r){if(!this.finished){let t=this.bytesHashed,n=this.bufferLength,i=t/536870912|0,o=t<<3,s=t%64<56?64:128;this.buffer[n]=128;for(let a=n+1;a<s-8;a++)this.buffer[a]=0;this.buffer[s-8]=i>>>24&255,this.buffer[s-7]=i>>>16&255,this.buffer[s-6]=i>>>8&255,this.buffer[s-5]=i>>>0&255,this.buffer[s-4]=o>>>24&255,this.buffer[s-3]=o>>>16&255,this.buffer[s-2]=o>>>8&255,this.buffer[s-1]=o>>>0&255,UC(this.temp,this.state,this.buffer,0,s),this.finished=!0}for(let t=0;t<8;t++)r[t*4+0]=this.state[t]>>>24&255,r[t*4+1]=this.state[t]>>>16&255,r[t*4+2]=this.state[t]>>>8&255,r[t*4+3]=this.state[t]>>>0&255;return this}digest(){let r=new Uint8Array(this.digestLength);return this.finish(r),r}_saveState(r){for(let t=0;t<this.state.length;t++)r[t]=this.state[t]}_restoreState(r,t){for(let n=0;n<this.state.length;n++)this.state[n]=r[n];this.bytesHashed=t,this.finished=!1,this.bufferLength=0}};function W8(e){let r=new jC().update(e),t=r.digest();return r.clean(),t}var Gde=new Uint8Array(jN);var oh=class{};function q8(e){if(typeof e!="string")throw new TypeError("expected string");let r=e,t=new Uint8Array(r.length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}function Y8(e){let r=[];for(let t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return r.join("")}var K8=(()=>{class e{calcHash(t,n){return at(this,null,function*(){return Y8(W8(q8(t)))})}toHashString2(t){let n="";for(let i of t)n+=String.fromCharCode(i);return n}toHashString(t){let n=new Uint8Array(t),i="";for(let o of n)i+=String.fromCharCode(o);return i}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),ah=(()=>{class e extends qs{constructor(t,n,i,o,s,a,c,u,l,f){super(),this.ngZone=t,this.http=n,this.config=s,this.urlHelper=a,this.logger=c,this.crypto=u,this.dateTimeService=f,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new oe,this.discoveryDocumentLoadedSubject=new oe,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=l,s||(s={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),o&&(this.tokenValidationHandler=o),s&&this.configure(s);try{i?this.setStorage(i):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(h){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",h)}if(this.checkLocalStorageAccessable()){let h=window?.navigator?.userAgent;(h?.includes("MSIE ")||h?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let t="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(t,t),localStorage.removeItem(t),!0)}catch{return!1}}configure(t){Object.assign(this,new qs,t),this.config=Object.assign({},new qs,t),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(R(t=>t.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(t={},n,i=!0){let o=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(F(s=>{s.type==="token_received"?o=!0:s.type==="logout"&&(o=!1)}),R(s=>s.type==="token_expires"&&(n==null||n==="any"||s.info===n)),$i(1e3)).subscribe(()=>{o&&this.refreshInternal(t,i).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(t,n){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(t,n)}loadDiscoveryDocumentAndTryLogin(t=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(t))}loadDiscoveryDocumentAndLogin(t=null){return t=t||{},this.loadDiscoveryDocumentAndTryLogin(t).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let n=typeof t.state=="string"?t.state:"";return this.initLoginFlow(n),!1}else return!0})}debug(...t){this.showDebugInformation&&this.logger.debug(...t)}validateUrlFromDiscoveryDocument(t){let n=[],i=this.validateUrlForHttps(t),o=this.validateUrlAgainstIssuer(t);return i||n.push("https for all urls required. Also for urls received by discovery."),o||n.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),n}validateUrlForHttps(t){if(!t)return!0;let n=t.toLowerCase();return this.requireHttps===!1||(n.match(/^http:\/\/localhost($|[:/])/)||n.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:n.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(t,n){if(!t)throw new Error(`'${n}' should not be null`);if(!this.validateUrlForHttps(t))throw new Error(`'${n}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(t){return!this.strictDiscoveryDocumentValidation||!t?!0:t.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(R(t=>t.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let t=this.getAccessTokenExpiration(),n=this.getAccessTokenStoredAt(),i=this.calcTimeout(n,t);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=D(new Yn("token_expires","access_token")).pipe(sr(i)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}setupIdTokenTimer(){let t=this.getIdTokenExpiration(),n=this.getIdTokenStoredAt(),i=this.calcTimeout(n,t);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=D(new Yn("token_expires","id_token")).pipe(sr(i)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(t,n){let i=this.dateTimeService.now(),o=(n-t)*this.timeoutFactor-(i-t),s=Math.max(0,o),a=2147483647;return s>a?a:s}setStorage(t){this._storage=t,this.configChanged()}loadDiscoveryDocument(t=null){return new Promise((n,i)=>{if(t||(t=this.issuer||"",t.endsWith("/")||(t+="/"),t+=".well-known/openid-configuration"),!this.validateUrlForHttps(t)){i("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(t).subscribe(o=>{if(!this.validateDiscoveryDocument(o)){this.eventsSubject.next(new xe("discovery_document_validation_error",null)),i("discovery_document_validation_error");return}this.loginUrl=o.authorization_endpoint,this.logoutUrl=o.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=o.grant_types_supported,this.issuer=o.issuer,this.tokenEndpoint=o.token_endpoint,this.userinfoEndpoint=o.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=o.jwks_uri,this.sessionCheckIFrameUrl=o.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(o),this.revocationEndpoint=o.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(s=>{let a={discoveryDocument:o,jwks:s},c=new Ot("discovery_document_loaded",a);this.eventsSubject.next(c),n(c)}).catch(s=>{this.eventsSubject.next(new xe("discovery_document_load_error",s)),i(s)})},o=>{this.logger.error("error loading discovery document",o),this.eventsSubject.next(new xe("discovery_document_load_error",o)),i(o)})})}loadJwks(){return new Promise((t,n)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(i=>{this.jwks=i,t(i)},i=>{this.logger.error("error loading jwks",i),this.eventsSubject.next(new xe("jwks_load_error",i)),n(i)}):t(null)})}validateDiscoveryDocument(t){let n;return!this.skipIssuerCheck&&t.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+t.issuer),!1):(n=this.validateUrlFromDiscoveryDocument(t.authorization_endpoint),n.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(t.end_session_endpoint),n.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(t.token_endpoint),n.length>0&&this.logger.error("error validating token_endpoint in discovery document",n),n=this.validateUrlFromDiscoveryDocument(t.revocation_endpoint),n.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",n),n=this.validateUrlFromDiscoveryDocument(t.userinfo_endpoint),n.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(t.jwks_uri),n.length>0?(this.logger.error("error validating jwks_uri in discovery document",n),!1):(this.sessionChecksEnabled&&!t.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(t,n,i=new ae){return this.fetchTokenUsingPasswordFlow(t,n,i).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((t,n)=>{let i=new ae().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:i,observe:"response",responseType:"text"}).subscribe(o=>{if(this.debug("userinfo received",JSON.stringify(o)),o.headers.get("content-type").startsWith("application/json")){let s=JSON.parse(o.body),a=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!a.sub||s.sub!==a.sub)){n(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}s=Object.assign({},a,s),this._storage.setItem("id_token_claims_obj",JSON.stringify(s)),this.eventsSubject.next(new Ot("user_profile_loaded")),t({info:s})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new Ot("user_profile_loaded")),t(JSON.parse(o.body))},o=>{this.logger.error("error loading user info",o),this.eventsSubject.next(new xe("user_profile_load_error",o)),n(o)})})}fetchTokenUsingPasswordFlow(t,n,i=new ae){let o={username:t,password:n};return this.fetchTokenUsingGrant("password",o,i)}fetchTokenUsingGrant(t,n,i=new ae){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=new Oe({encoder:new So}).set("grant_type",t).set("scope",this.scope);if(this.useHttpBasicAuth){let s=btoa(`${this.clientId}:${this.dummyClientSecret}`);i=i.set("Authorization","Basic "+s)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let s of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(s,this.customQueryParams[s]);for(let s of Object.keys(n))o=o.set(s,n[s]);return i=i.set("Content-Type","application/x-www-form-urlencoded"),new Promise((s,a)=>{this.http.post(this.tokenEndpoint,o,{headers:i}).subscribe(c=>{this.debug("tokenResponse",c),this.storeAccessTokenResponse(c.access_token,c.refresh_token,c.expires_in||this.fallbackAccessTokenExpirationTimeInSec,c.scope,this.extractRecognizedCustomParameters(c)),this.oidc&&c.id_token&&this.processIdToken(c.id_token,c.access_token).then(u=>{this.storeIdToken(u),s(c)}),this.eventsSubject.next(new Ot("token_received")),s(c)},c=>{this.logger.error("Error performing ${grantType} flow",c),this.eventsSubject.next(new xe("token_error",c)),a(c)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((t,n)=>{let i=new Oe({encoder:new So}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),o=new ae().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let s=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+s)}if(this.useHttpBasicAuth||(i=i.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(i=i.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let s of Object.getOwnPropertyNames(this.customQueryParams))i=i.set(s,this.customQueryParams[s]);this.http.post(this.tokenEndpoint,i,{headers:o}).pipe(_(s=>this.oidc&&s.id_token?ue(this.processIdToken(s.id_token,s.access_token,!0)).pipe(F(a=>this.storeIdToken(a)),S(()=>s)):D(s))).subscribe(s=>{this.debug("refresh tokenResponse",s),this.storeAccessTokenResponse(s.access_token,s.refresh_token,s.expires_in||this.fallbackAccessTokenExpirationTimeInSec,s.scope,this.extractRecognizedCustomParameters(s)),this.eventsSubject.next(new Ot("token_received")),this.eventsSubject.next(new Ot("token_refreshed")),t(s)},s=>{this.logger.error("Error refreshing token",s),this.eventsSubject.next(new xe("token_refresh_error",s)),n(s)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=t=>{let n=this.processMessageEventMessage(t);this.checkOrigin&&t.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:n,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(i=>this.debug("tryLogin during silent refresh failed",i))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(t={},n=!0){let i=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(t.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let o=this.document.getElementById(this.silentRefreshIFrameName);o&&this.document.body.removeChild(o),this.silentRefreshSubject=i.sub;let s=this.document.createElement("iframe");s.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let a=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,a,n,t).then(f=>{s.setAttribute("src",f),this.silentRefreshShowIFrame||(s.style.display="none"),this.document.body.appendChild(s)});let c=this.events.pipe(R(f=>f instanceof xe),kt()),u=this.events.pipe(R(f=>f.type==="token_received"),kt()),l=D(new xe("silent_refresh_timeout",null)).pipe(sr(this.silentRefreshTimeout));return lv([c,u,l]).pipe(S(f=>{if(f instanceof xe)throw f.type==="silent_refresh_timeout"?this.eventsSubject.next(f):(f=new xe("silent_refresh_error",f),this.eventsSubject.next(f)),f;return f.type==="token_received"&&(f=new Ot("silently_refreshed"),this.eventsSubject.next(f)),f})).toPromise()}initImplicitFlowInPopup(t){return this.initLoginFlowInPopup(t)}initLoginFlowInPopup(t){return t=t||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(n=>new Promise((i,o)=>{let a=null;t.windowRef?t.windowRef&&!t.windowRef.closed&&(a=t.windowRef,a.location.href=n):a=window.open(n,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(t));let c,u=E=>{this.tryLogin({customHashFragment:E,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{f(),i(!0)},I=>{f(),o(I)})},l=()=>{(!a||a.closed)&&(f(),o(new xe("popup_closed",{})))};a?c=window.setInterval(l,500):o(new xe("popup_blocked",{}));let f=()=>{window.clearInterval(c),window.removeEventListener("storage",p),window.removeEventListener("message",h),a!==null&&a.close(),a=null},h=E=>{let I=this.processMessageEventMessage(E);I&&I!==null?(window.removeEventListener("storage",p),u(I)):console.log("false event firing")},p=E=>{E.key==="auth_hash"&&(window.removeEventListener("message",h),u(E.newValue))};window.addEventListener("message",h),window.addEventListener("storage",p)}))}calculatePopupFeatures(t){let n=t.height||470,i=t.width||500,o=window.screenLeft+(window.outerWidth-i)/2,s=window.screenTop+(window.outerHeight-n)/2;return`location=no,toolbar=no,width=${i},height=${n},top=${s},left=${o}`}processMessageEventMessage(t){let n="#";if(this.silentRefreshMessagePrefix&&(n+=this.silentRefreshMessagePrefix),!t||!t.data||typeof t.data!="string")return;let i=t.data;if(i.startsWith(n))return"#"+i.substr(n.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=t=>{let n=t.origin.toLowerCase(),i=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!i.startsWith(n)){this.debug("sessionCheckEventListener","wrong origin",n,"expected",i,"event",t);return}switch(t.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",t)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Yn("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Yn("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Yn("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Yn("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(R(t=>t.type==="silently_refreshed"||t.type==="silent_refresh_timeout"||t.type==="silent_refresh_error"),kt()).subscribe(t=>{t.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Yn("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Yn("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let t=this.document.getElementById(this.sessionCheckIFrameName);t&&this.document.body.removeChild(t);let n=this.document.createElement("iframe");n.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let i=this.sessionCheckIFrameUrl;n.setAttribute("src",i),n.style.display="none",this.document.body.appendChild(n),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let t=this.document.getElementById(this.sessionCheckIFrameName);t||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let n=this.getSessionState();n||this.stopSessionCheckTimer();let i=this.clientId+" "+n;t.contentWindow.postMessage(i,this.issuer)}createLoginUrl(){return at(this,arguments,function*(t="",n="",i="",o=!1,s={}){let a=this,c;i?c=i:c=this.redirectUri;let u=yield this.createAndSaveNonce();if(t?t=u+this.config.nonceStateSeparator+encodeURIComponent(t):t=u,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let l=a.loginUrl.indexOf("?")>-1?"&":"?",f=a.scope;this.oidc&&!f.match(/(^|\s)openid($|\s)/)&&(f="openid "+f);let h=a.loginUrl+l+"response_type="+encodeURIComponent(a.responseType)+"&client_id="+encodeURIComponent(a.clientId)+"&state="+encodeURIComponent(t)+"&redirect_uri="+encodeURIComponent(c)+"&scope="+encodeURIComponent(f);if(this.responseType.includes("code")&&!this.disablePKCE){let[p,E]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",E):this._storage.setItem("PKCE_verifier",E),h+="&code_challenge="+p,h+="&code_challenge_method=S256"}n&&(h+="&login_hint="+encodeURIComponent(n)),a.resource&&(h+="&resource="+encodeURIComponent(a.resource)),a.oidc&&(h+="&nonce="+encodeURIComponent(u)),o&&(h+="&prompt=none");for(let p of Object.keys(s))h+="&"+encodeURIComponent(p)+"="+encodeURIComponent(s[p]);if(this.customQueryParams)for(let p of Object.getOwnPropertyNames(this.customQueryParams))h+="&"+p+"="+encodeURIComponent(this.customQueryParams[p]);return h})}initImplicitFlowInternal(t="",n=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let i={},o=null;typeof n=="string"?o=n:typeof n=="object"&&(i=n),this.createLoginUrl(t,o,null,!1,i).then(this.config.openUri).catch(s=>{console.error("Error in initImplicitFlow",s),this.inImplicitFlow=!1})}initImplicitFlow(t="",n=""){this.loginUrl!==""?this.initImplicitFlowInternal(t,n):this.events.pipe(R(i=>i.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(t,n))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(t){let n=this;if(t.onTokenReceived){let i={idClaims:n.getIdentityClaims(),idToken:n.getIdToken(),accessToken:n.getAccessToken(),state:n.state};t.onTokenReceived(i)}}storeAccessTokenResponse(t,n,i,o,s){if(this._storage.setItem("access_token",t),o&&!Array.isArray(o)?this._storage.setItem("granted_scopes",JSON.stringify(o.split(" "))):o&&Array.isArray(o)&&this._storage.setItem("granted_scopes",JSON.stringify(o)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),i){let a=i*1e3,u=this.dateTimeService.new().getTime()+a;this._storage.setItem("expires_at",""+u)}n&&this._storage.setItem("refresh_token",n),s&&s.forEach((a,c)=>{this._storage.setItem(c,a)})}tryLogin(t=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(t).then(()=>!0):this.tryLoginImplicitFlow(t)}parseQueryString(t){return!t||t.length===0?{}:(t.charAt(0)==="?"&&(t=t.substr(1)),this.urlHelper.parseQueryString(t))}tryLoginCodeFlow(t=null){return at(this,null,function*(){t=t||{};let n=t.customHashFragment?t.customHashFragment.substring(1):window.location.search,i=this.getCodePartsFromUrl(n),o=i.code,s=i.state,a=i.session_state;if(!t.preventClearHashAfterLogin){let l=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,l)}let[c,u]=this.parseState(s);if(this.state=u,i.error){this.debug("error trying to login"),this.handleLoginError(t,i);let l=new xe("code_error",{},i);return this.eventsSubject.next(l),Promise.reject(l)}if(!t.disableNonceCheck){if(!c)return this.saveRequestedRoute(),Promise.resolve();if(!t.disableOAuth2StateCheck&&!this.validateNonce(c)){let f=new xe("invalid_nonce_in_state",null);return this.eventsSubject.next(f),Promise.reject(f)}}return this.storeSessionState(a),o&&(yield this.getTokenFromCode(o,t),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let t=this._storage.getItem("requested_route");t&&history.replaceState(null,"",window.location.origin+t)}getCodePartsFromUrl(t){return!t||t.length===0?this.urlHelper.getHashFragmentParams():(t.charAt(0)==="?"&&(t=t.substr(1)),this.urlHelper.parseQueryString(t))}getTokenFromCode(t,n){let i=new Oe({encoder:new So}).set("grant_type","authorization_code").set("code",t).set("redirect_uri",n.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let o;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?o=localStorage.getItem("PKCE_verifier"):o=this._storage.getItem("PKCE_verifier"),o?i=i.set("code_verifier",o):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(i,n)}fetchAndProcessToken(t,n){n=n||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let i=new ae().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let o=btoa(`${this.clientId}:${this.dummyClientSecret}`);i=i.set("Authorization","Basic "+o)}return this.useHttpBasicAuth||(t=t.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(t=t.set("client_secret",this.dummyClientSecret)),new Promise((o,s)=>{if(this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))t=t.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,t,{headers:i}).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.oidc&&a.id_token?this.processIdToken(a.id_token,a.access_token,n.disableNonceCheck).then(c=>{this.storeIdToken(c),this.eventsSubject.next(new Ot("token_received")),this.eventsSubject.next(new Ot("token_refreshed")),o(a)}).catch(c=>{this.eventsSubject.next(new xe("token_validation_error",c)),console.error("Error validating tokens"),console.error(c),s(c)}):(this.eventsSubject.next(new Ot("token_received")),this.eventsSubject.next(new Ot("token_refreshed")),o(a))},a=>{console.error("Error getting token",a),this.eventsSubject.next(new xe("token_refresh_error",a)),s(a)})})}tryLoginImplicitFlow(t=null){t=t||{};let n;t.customHashFragment?n=this.urlHelper.getHashFragmentParams(t.customHashFragment):n=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",n);let i=n.state,[o,s]=this.parseState(i);if(this.state=s,n.error){this.debug("error trying to login"),this.handleLoginError(t,n);let f=new xe("token_error",{},n);return this.eventsSubject.next(f),Promise.reject(f)}let a=n.access_token,c=n.id_token,u=n.session_state,l=n.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!a||this.requestAccessToken&&!t.disableOAuth2StateCheck&&!i||this.oidc&&!c)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!u&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!t.disableNonceCheck&&!this.validateNonce(o)){let h=new xe("invalid_nonce_in_state",null);return this.eventsSubject.next(h),Promise.reject(h)}return this.requestAccessToken&&this.storeAccessTokenResponse(a,null,n.expires_in||this.fallbackAccessTokenExpirationTimeInSec,l),this.oidc?this.processIdToken(c,a,t.disableNonceCheck).then(f=>t.validationHandler?t.validationHandler({accessToken:a,idClaims:f.idTokenClaims,idToken:f.idToken,state:i}).then(()=>f):f).then(f=>(this.storeIdToken(f),this.storeSessionState(u),this.clearHashAfterLogin&&!t.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new Ot("token_received")),this.callOnTokenReceivedIfExists(t),this.inImplicitFlow=!1,!0)).catch(f=>(this.eventsSubject.next(new xe("token_validation_error",f)),this.logger.error("Error validating tokens"),this.logger.error(f),Promise.reject(f))):(this.eventsSubject.next(new Ot("token_received")),this.clearHashAfterLogin&&!t.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(t),Promise.resolve(!0))}parseState(t){let n=t,i="";if(t){let o=t.indexOf(this.config.nonceStateSeparator);o>-1&&(n=t.substr(0,o),i=t.substr(o+this.config.nonceStateSeparator.length))}return[n,i]}validateNonce(t){let n;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?n=localStorage.getItem("nonce"):n=this._storage.getItem("nonce"),n!==t?(console.error("Validating access_token failed, wrong state/nonce.",n,t),!1):!0}storeIdToken(t){this._storage.setItem("id_token",t.idToken),this._storage.setItem("id_token_claims_obj",t.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+t.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(t){this._storage.setItem("session_state",t)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(t,n){t.onLoginError&&t.onLoginError(n),this.clearHashAfterLogin&&!t.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(t=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?t:this.clockSkewInSec*1e3}processIdToken(t,n,i=!1){let o=t.split("."),s=this.padBase64(o[0]),a=LN(s),c=JSON.parse(a),u=this.padBase64(o[1]),l=LN(u),f=JSON.parse(l),h;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?h=localStorage.getItem("nonce"):h=this._storage.getItem("nonce"),Array.isArray(f.aud)){if(f.aud.every(N=>N!==this.clientId)){let N="Wrong audience: "+f.aud.join(",");return this.logger.warn(N),Promise.reject(N)}}else if(f.aud!==this.clientId){let N="Wrong audience: "+f.aud;return this.logger.warn(N),Promise.reject(N)}if(!f.sub){let N="No sub claim in id_token";return this.logger.warn(N),Promise.reject(N)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==f.sub){let N=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${f.sub}`;return this.logger.warn(N),Promise.reject(N)}if(!f.iat){let N="No iat claim in id_token";return this.logger.warn(N),Promise.reject(N)}if(!this.skipIssuerCheck&&f.iss!==this.issuer){let N="Wrong issuer: "+f.iss;return this.logger.warn(N),Promise.reject(N)}if(!i&&f.nonce!==h){let N="Wrong nonce: "+f.nonce;return this.logger.warn(N),Promise.reject(N)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!f.at_hash){let N="An at_hash is needed!";return this.logger.warn(N),Promise.reject(N)}let p=this.dateTimeService.now(),E=f.iat*1e3,I=f.exp*1e3,b=this.getClockSkewInMsec();if(E-b>=p||I+b-this.decreaseExpirationBySec<=p){let N="Token has expired";return console.error(N),console.error({now:p,issuedAtMSec:E,expiresAtMSec:I}),Promise.reject(N)}let x={accessToken:n,idToken:t,jwks:this.jwks,idTokenClaims:f,idTokenHeader:c,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(x).then(()=>({idToken:t,idTokenClaims:f,idTokenClaimsJson:l,idTokenHeader:c,idTokenHeaderJson:a,idTokenExpiresAt:I})):this.checkAtHash(x).then(N=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!N){let J="Wrong at_hash";return this.logger.warn(J),Promise.reject(J)}return this.checkSignature(x).then(()=>{let J=!this.disableAtHashCheck,be={idToken:t,idTokenClaims:f,idTokenClaimsJson:l,idTokenHeader:c,idTokenHeaderJson:a,idTokenExpiresAt:I};return J?this.checkAtHash(x).then(It=>{if(this.requestAccessToken&&!It){let Ue="Wrong at_hash";return this.logger.warn(Ue),Promise.reject(Ue)}else return be}):be})})}getIdentityClaims(){let t=this._storage.getItem("id_token_claims_obj");return t?JSON.parse(t):null}getGrantedScopes(){let t=this._storage.getItem("granted_scopes");return t?JSON.parse(t):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(t){for(;t.length%4!==0;)t+="=";return t}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let t=this._storage.getItem("expires_at"),n=this.dateTimeService.new();return!(t&&parseInt(t,10)-this.decreaseExpirationBySec<n.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let t=this._storage.getItem("id_token_expires_at"),n=this.dateTimeService.new();return!(t&&parseInt(t,10)-this.decreaseExpirationBySec<n.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(t){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(t)>=0&&this._storage.getItem(t)!==null?JSON.parse(this._storage.getItem(t)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(t={},n=""){let i=!1;typeof t=="boolean"&&(i=t,t={});let o=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(a=>this._storage.removeItem(a)),this.silentRefreshSubject=null,this.eventsSubject.next(new Yn("logout")),!this.logoutUrl||i)return;let s;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)s=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(o)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let a=new Oe({encoder:new So});o&&(a=a.set("id_token_hint",o));let c=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";c&&(a=a.set("post_logout_redirect_uri",c),n&&(a=a.set("state",n)));for(let u in t)a=a.set(u,t[u]);s=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+a.toString()}this.config.openUri(s)}createAndSaveNonce(){let t=this;return this.createNonce().then(function(n){return t.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",n):t._storage.setItem("nonce",n),n})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let t=this.document.getElementById(this.silentRefreshIFrameName);t&&t.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let n=this.document.getElementById(this.sessionCheckIFrameName);n&&n.remove()}createNonce(){return new Promise(t=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=45,o="",s=typeof self>"u"?null:self.crypto||self.msCrypto;if(s){let a=new Uint8Array(i);s.getRandomValues(a),a.map||(a.map=Array.prototype.map),a=a.map(c=>n.charCodeAt(c%n.length)),o=String.fromCharCode.apply(null,a)}else for(;0<i--;)o+=n[Math.random()*n.length|0];t(kN(o))})}checkAtHash(t){return at(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(t):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(t){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(t):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(t="",n={}){return this.responseType==="code"?this.initCodeFlow(t,n):this.initImplicitFlow(t,n)}initCodeFlow(t="",n={}){this.loginUrl!==""?this.initCodeFlowInternal(t,n):this.events.pipe(R(i=>i.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(t,n))}initCodeFlowInternal(t="",n={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let i={},o=null;typeof n=="string"?o=n:typeof n=="object"&&(i=n),this.createLoginUrl(t,o,null,!1,i).then(this.config.openUri).catch(s=>{console.error("Error in initAuthorizationCodeFlow"),console.error(s)})}createChallangeVerifierPairForPKCE(){return at(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let t=yield this.createNonce(),n=yield this.crypto.calcHash(t,"sha-256");return[kN(n),t]})}extractRecognizedCustomParameters(t){let n=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(i=>{t[i]&&n.set(i,JSON.stringify(t[i]))}),n}revokeTokenAndLogout(t={},n=!1){let i=this.revocationEndpoint,o=this.getAccessToken(),s=this.getRefreshToken();if(!o)return Promise.resolve();let a=new Oe({encoder:new So}),c=new ae().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let u=btoa(`${this.clientId}:${this.dummyClientSecret}`);c=c.set("Authorization","Basic "+u)}if(this.useHttpBasicAuth||(a=a.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(a=a.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let u of Object.getOwnPropertyNames(this.customQueryParams))a=a.set(u,this.customQueryParams[u]);return new Promise((u,l)=>{let f,h;if(o){let p=a.set("token",o).set("token_type_hint","access_token");f=this.http.post(i,p,{headers:c})}else f=D(null);if(s){let p=a.set("token",s).set("token_type_hint","refresh_token");h=this.http.post(i,p,{headers:c})}else h=D(null);n&&(f=f.pipe(M(p=>p.status===0?D(null):Rt(p))),h=h.pipe(M(p=>p.status===0?D(null):Rt(p)))),Ae([f,h]).subscribe(p=>{this.logOut(t),u(p),this.logger.info("Token successfully revoked")},p=>{this.logger.error("Error revoking token",p),this.eventsSubject.next(new xe("token_revoke_error",p)),l(p)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}static{this.\u0275fac=function(n){return new(n||e)(d(fe),d(we),d(Co,8),d(ih,8),d(qs,8),d(UN),d(rh),d(oh,8),d(ye),d(Yc))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),sh=class{},$C=class{handleError(r){return Rt(r)}},Z8=(()=>{class e{constructor(t,n,i){this.oAuthService=t,this.errorHandler=n,this.moduleConfig=i}checkUrl(t){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(t):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(n=>t.toLowerCase().startsWith(n.toLowerCase())):!0}intercept(t,n){let i=t.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(i)?n.handle(t):this.moduleConfig.resourceServer.sendAccessToken?pn(D(this.oAuthService.getAccessToken()).pipe(R(s=>!!s)),this.oAuthService.events.pipe(R(s=>s.type==="token_received"),ba(this.oAuthService.waitForTokenInMsec||0),M(()=>D(null)),S(()=>this.oAuthService.getAccessToken()))).pipe(q(1),$(s=>{if(s){let a="Bearer "+s,c=t.headers.set("Authorization",a);t=t.clone({headers:c})}return n.handle(t).pipe(M(a=>this.errorHandler.handleError(a)))})):n.handle(t).pipe(M(s=>this.errorHandler.handleError(s)))}static{this.\u0275fac=function(n){return new(n||e)(d(ah),d(sh),d(nh,8))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function Q8(){return console}function X8(){return typeof sessionStorage<"u"?sessionStorage:new H8}function J8(e=null,r=th){return yn([ah,UN,{provide:rh,useFactory:Q8},{provide:Co,useFactory:X8},{provide:ih,useClass:r},{provide:oh,useClass:K8},{provide:sh,useClass:$C},{provide:nh,useValue:e},{provide:Zt,useClass:Z8,multi:!0},{provide:Yc,useClass:V8}])}var $N=(()=>{class e{static forRoot(t=null,n=th){return{ngModule:e,providers:[J8(t,n)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[Pe]})}}return e})();var Wde=new C("AUTH_CONFIG");var zN="@ngrx/router-store/request",tfe=Si(zN,Ps()),lh="@ngrx/router-store/navigation",nfe=Si(lh,Ps()),dh="@ngrx/router-store/cancel",rfe=Si(dh,Ps()),fh="@ngrx/router-store/error",ife=Si(fh,Ps()),hh="@ngrx/router-store/navigated",ofe=Si(hh,Ps());var ch=class{serialize(r){return{root:this.serializeRoute(r.root),url:r.url}}serializeRoute(r){let t=r.children.map(n=>this.serializeRoute(n));return{params:r.params,data:r.data,url:r.url,outlet:r.outlet,title:r.title,routeConfig:r.routeConfig?{path:r.routeConfig.path,pathMatch:r.routeConfig.pathMatch,redirectTo:r.routeConfig.redirectTo,outlet:r.routeConfig.outlet,title:typeof r.routeConfig.title=="string"?r.routeConfig.title:void 0}:null,queryParams:r.queryParams,fragment:r.fragment,firstChild:t[0],children:t}}},BC=function(e){return e[e.PreActivation=1]="PreActivation",e[e.PostActivation=2]="PostActivation",e}(BC||{}),tW="router",BN=new C("@ngrx/router-store Internal Configuration"),GN=new C("@ngrx/router-store Configuration"),Zc=function(e){return e[e.Full=0]="Full",e[e.Minimal=1]="Minimal",e}(Zc||{});function nW(e){return v({stateKey:tW,serializer:ch,navigationActionTiming:BC.PreActivation},e)}var uh=class{serialize(r){return{root:this.serializeRoute(r.root),url:r.url}}serializeRoute(r){let t=r.children.map(n=>this.serializeRoute(n));return{params:r.params,paramMap:r.paramMap,data:r.data,url:r.url,outlet:r.outlet,title:r.title,routeConfig:r.routeConfig?{component:r.routeConfig.component,path:r.routeConfig.path,pathMatch:r.routeConfig.pathMatch,redirectTo:r.routeConfig.redirectTo,outlet:r.routeConfig.outlet,title:r.routeConfig.title}:null,queryParams:r.queryParams,queryParamMap:r.queryParamMap,fragment:r.fragment,component:r.routeConfig?r.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:t[0],pathFromRoot:void 0,children:t}}},Ys=class{},wr=function(e){return e[e.NONE=1]="NONE",e[e.ROUTER=2]="ROUTER",e[e.STORE=3]="STORE",e}(wr||{}),VN=(()=>{class e{constructor(t,n,i,o,s,a){this.store=t,this.router=n,this.serializer=i,this.errorHandler=o,this.config=s,this.activeRuntimeChecks=a,this.lastEvent=null,this.routerState=null,this.trigger=wr.NONE,this.stateKey=this.config.stateKey,!nC()&&le()&&(a?.strictActionSerializability||a?.strictStateSerializability)&&this.serializer instanceof uh&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe(A(this.stateKey),Xe(this.store)).subscribe(([t,n])=>{this.navigateIfNeeded(t,n)})}navigateIfNeeded(t,n){if(!t||!t.state||this.trigger===wr.ROUTER||this.lastEvent instanceof Jt)return;let i=t.state.url;rW(this.router.url,i)||(this.storeState=n,this.trigger=wr.STORE,this.router.navigateByUrl(i).catch(o=>{this.errorHandler.handleError(o)}))}setUpRouterEventsListener(){let t=this.config.navigationActionTiming===BC.PostActivation,n;this.router.events.pipe(Xe(this.store)).subscribe(([i,o])=>{this.lastEvent=i,i instanceof Jt?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==wr.STORE&&(this.storeState=o,this.dispatchRouterRequest(i))):i instanceof Di?(n=i,!t&&this.trigger!==wr.STORE&&this.dispatchRouterNavigation(i)):i instanceof Xt?(this.dispatchRouterCancel(i),this.reset()):i instanceof Wn?(this.dispatchRouterError(i),this.reset()):i instanceof Ve&&(this.trigger!==wr.STORE&&(t&&this.dispatchRouterNavigation(n),this.dispatchRouterNavigated(i)),this.reset())})}dispatchRouterRequest(t){this.dispatchRouterAction(zN,{event:t})}dispatchRouterNavigation(t){let n=this.serializer.serialize(t.state);this.dispatchRouterAction(lh,{routerState:n,event:new Di(t.id,t.url,t.urlAfterRedirects,n)})}dispatchRouterCancel(t){this.dispatchRouterAction(dh,{storeState:this.storeState,event:t})}dispatchRouterError(t){this.dispatchRouterAction(fh,{storeState:this.storeState,event:new Wn(t.id,t.url,`${t}`)})}dispatchRouterNavigated(t){let n=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(hh,{event:t,routerState:n})}dispatchRouterAction(t,n){this.trigger=wr.ROUTER;try{this.store.dispatch({type:t,payload:w(v({routerState:this.routerState},n),{event:this.config.routerState===Zc.Full?n.event:{id:n.event.id,url:n.event.url,urlAfterRedirects:n.event.urlAfterRedirects}})})}finally{this.trigger=wr.NONE}}reset(){this.trigger=wr.NONE,this.storeState=null,this.routerState=null}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(Ce),d(Ys),d(et),d(GN),d(ho))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function rW(e,r){return HN(e)===HN(r)}function HN(e){return e?.length>0&&e[e.length-1]==="/"?e.substring(0,e.length-1):e}function iW(e={}){return yn([{provide:BN,useValue:e},{provide:GN,useFactory:nW,deps:[BN]},{provide:Ys,useClass:e.serializer?e.serializer:e.routerState===Zc.Full?uh:ch},ms(()=>y(VN)),VN])}var WN=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[iW(t)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})();function VC(e){"@babel/helpers - typeof";return VC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},VC(e)}var qN=[],afe=qN.forEach,cfe=qN.slice;function HC(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":VC(XMLHttpRequest))==="object"}function sW(e){return!!e&&typeof e.then=="function"}function YN(e){return sW(e)?e:Promise.resolve(e)}function KN(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function ZN(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?KN(Object(t),!0).forEach(function(n){aW(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):KN(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function aW(e,r,t){return(r=cW(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function cW(e){var r=uW(e,"string");return Io(r)=="symbol"?r:r+""}function uW(e,r){if(Io(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Io(e){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Io(e)}var bi=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?bi=global.fetch:typeof window<"u"&&window.fetch&&(bi=window.fetch);var Qc;HC()&&(typeof global<"u"&&global.XMLHttpRequest?Qc=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Qc=window.XMLHttpRequest));var ph;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?ph=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(ph=window.ActiveXObject));typeof bi!="function"&&(bi=void 0);if(!bi&&!Qc&&!ph)try{import("./chunk-LAPENRSJ.js").then(function(e){bi=e.default}).catch(function(){})}catch{}var zC=function(r,t){if(t&&Io(t)==="object"){var n="";for(var i in t)n+="&"+encodeURIComponent(i)+"="+encodeURIComponent(t[i]);if(!n)return r;r=r+(r.indexOf("?")!==-1?"&":"?")+n.slice(1)}return r},QN=function(r,t,n,i){var o=function(c){if(!c.ok)return n(c.statusText||"Error",{status:c.status});c.text().then(function(u){n(null,{status:c.status,data:u})}).catch(n)};if(i){var s=i(r,t);if(s instanceof Promise){s.then(o).catch(n);return}}typeof fetch=="function"?fetch(r,t).then(o).catch(n):bi(r,t).then(o).catch(n)},XN=!1,lW=function(r,t,n,i){r.queryStringParams&&(t=zC(t,r.queryStringParams));var o=ZN({},typeof r.customHeaders=="function"?r.customHeaders():r.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(o["Content-Type"]="application/json");var s=typeof r.requestOptions=="function"?r.requestOptions(n):r.requestOptions,a=ZN({method:n?"POST":"GET",body:n?r.stringify(n):void 0,headers:o},XN?{}:s),c=typeof r.alternateFetch=="function"&&r.alternateFetch.length>=1?r.alternateFetch:void 0;try{QN(t,a,i,c)}catch(u){if(!s||Object.keys(s).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(s).forEach(function(l){delete a[l]}),QN(t,a,i,c),XN=!0}catch(l){i(l)}}},dW=function(r,t,n,i){n&&Io(n)==="object"&&(n=zC("",n).slice(1)),r.queryStringParams&&(t=zC(t,r.queryStringParams));try{var o=Qc?new Qc:new ph("MSXML2.XMLHTTP.3.0");o.open(n?"POST":"GET",t,1),r.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!r.withCredentials,n&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var s=r.customHeaders;if(s=typeof s=="function"?s():s,s)for(var a in s)o.setRequestHeader(a,s[a]);o.onreadystatechange=function(){o.readyState>3&&i(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(n)}catch(c){console&&console.log(c)}},fW=function(r,t,n,i){if(typeof n=="function"&&(i=n,n=void 0),i=i||function(){},bi&&t.indexOf("file:")!==0)return lW(r,t,n,i);if(HC()||typeof ActiveXObject=="function")return dW(r,t,n,i);i(new Error("No fetch and no xhr implementation found!"))},JN=fW;function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ks(e)}function eO(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function GC(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?eO(Object(t),!0).forEach(function(n){nO(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eO(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function hW(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function tO(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rO(n.key),n)}}function pW(e,r,t){return r&&tO(e.prototype,r),t&&tO(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nO(e,r,t){return(r=rO(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function rO(e){var r=gW(e,"string");return Ks(r)=="symbol"?r:r+""}function gW(e,r){if(Ks(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var mW=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,n,i){return nO({},n,i||"")},parseLoadPayload:function(t,n){},request:JN,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},iO=function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};hW(this,e),this.services=r,this.options=t,this.allOptions=n,this.type="backend",this.init(r,t,n)}return pW(e,[{key:"init",value:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=GC(GC(GC({},mW()),this.options||{}),i),this.allOptions=o,this.services&&this.options.reloadInterval){var s=setInterval(function(){return n.reload()},this.options.reloadInterval);Ks(s)==="object"&&typeof s.unref=="function"&&s.unref()}}},{key:"readMulti",value:function(t,n,i){this._readAny(t,t,n,n,i)}},{key:"read",value:function(t,n,i){this._readAny([t],t,[n],n,i)}},{key:"_readAny",value:function(t,n,i,o,s){var a=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(t,i)),c=YN(c),c.then(function(u){if(!u)return s(null,{});var l=a.services.interpolator.interpolate(u,{lng:t.join("+"),ns:i.join("+")});a.loadUrl(l,s,n,o)})}},{key:"loadUrl",value:function(t,n,i,o){var s=this,a=typeof i=="string"?[i]:i,c=typeof o=="string"?[o]:o,u=this.options.parseLoadPayload(a,c);this.options.request(this.options,t,u,function(l,f){if(f&&(f.status>=500&&f.status<600||!f.status))return n("failed loading "+t+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return n("failed loading "+t+"; status code: "+f.status,!1);if(!f&&l&&l.message){var h=l.message.toLowerCase(),p=["failed","fetch","network","load"].find(function(b){return h.indexOf(b)>-1});if(p)return n("failed loading "+t+": "+l.message,!0)}if(l)return n(l,!1);var E,I;try{typeof f.data=="string"?E=s.options.parse(f.data,i,o):E=f.data}catch{I="failed parsing "+t+" to json"}if(I)return n(I,!1);n(null,E)})}},{key:"create",value:function(t,n,i,o,s){var a=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var c=this.options.parsePayload(n,i,o),u=0,l=[],f=[];t.forEach(function(h){var p=a.options.addPath;typeof a.options.addPath=="function"&&(p=a.options.addPath(h,n));var E=a.services.interpolator.interpolate(p,{lng:h,ns:n});a.options.request(a.options,E,c,function(I,b){u+=1,l.push(I),f.push(b),u===t.length&&typeof s=="function"&&s(l,f)})})}}},{key:"reload",value:function(){var t=this,n=this.services,i=n.backendConnector,o=n.languageUtils,s=n.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var c=[],u=function(f){var h=o.toResolveHierarchy(f);h.forEach(function(p){c.indexOf(p)<0&&c.push(p)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(l){return u(l)}),c.forEach(function(l){t.allOptions.ns.forEach(function(f){i.read(l,f,"read",null,null,function(h,p){h&&s.warn("loading namespace ".concat(f," for language ").concat(l," failed"),h),!h&&p&&s.log("loaded namespace ".concat(f," for language ").concat(l),p),i.loaded("".concat(l,"|").concat(f),h,p)})})})}}}])}();iO.type="backend";var oO=iO;var Q=e=>typeof e=="string",Xc=()=>{let e,r,t=new Promise((n,i)=>{e=n,r=i});return t.resolve=e,t.reject=r,t},sO=e=>e==null?"":""+e,vW=(e,r,t)=>{e.forEach(n=>{r[n]&&(t[n]=r[n])})},yW=/###/g,aO=e=>e&&e.indexOf("###")>-1?e.replace(yW,"."):e,cO=e=>!e||Q(e),Jc=(e,r,t)=>{let n=Q(r)?r.split("."):r,i=0;for(;i<n.length-1;){if(cO(e))return{};let o=aO(n[i]);!e[o]&&t&&(e[o]=new t),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++i}return cO(e)?{}:{obj:e,k:aO(n[i])}},uO=(e,r,t)=>{let{obj:n,k:i}=Jc(e,r,Object);if(n!==void 0||r.length===1){n[i]=t;return}let o=r[r.length-1],s=r.slice(0,r.length-1),a=Jc(e,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=Jc(e,s,Object),a?.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=t},EW=(e,r,t,n)=>{let{obj:i,k:o}=Jc(e,r,Object);i[o]=i[o]||[],i[o].push(t)},mh=(e,r)=>{let{obj:t,k:n}=Jc(e,r);if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n]},SW=(e,r,t)=>{let n=mh(e,t);return n!==void 0?n:mh(r,t)},vO=(e,r,t)=>{for(let n in r)n!=="__proto__"&&n!=="constructor"&&(n in e?Q(e[n])||e[n]instanceof String||Q(r[n])||r[n]instanceof String?t&&(e[n]=r[n]):vO(e[n],r[n],t):e[n]=r[n]);return e},Zs=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),CW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},IW=e=>Q(e)?e.replace(/[&<>"'\/]/g,r=>CW[r]):e,qC=class{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){let t=this.regExpMap.get(r);if(t!==void 0)return t;let n=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,n),this.regExpQueue.push(r),n}},DW=[" ",",","?","!",";"],wW=new qC(20),bW=(e,r,t)=>{r=r||"",t=t||"";let n=DW.filter(s=>r.indexOf(s)<0&&t.indexOf(s)<0);if(n.length===0)return!0;let i=wW.getRegExp(`(${n.map(s=>s==="?"?"\\?":s).join("|")})`),o=!i.test(e);if(!o){let s=e.indexOf(t);s>0&&!i.test(e.substring(0,s))&&(o=!0)}return o},YC=function(e,r){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[r])return Object.prototype.hasOwnProperty.call(e,r)?e[r]:void 0;let n=r.split(t),i=e;for(let o=0;o<n.length;){if(!i||typeof i!="object")return;let s,a="";for(let c=o;c<n.length;++c)if(c!==o&&(a+=t),a+=n[c],s=i[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<n.length-1)continue;o+=c-o+1;break}i=s}return i},vh=e=>e?.replace("_","-"),TW={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,r){console?.[e]?.apply?.(console,r)}},KC=class e{constructor(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(r,t)}init(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=r||TW,this.options=t,this.debug=t.debug}log(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(r,t,n,i){return i&&!this.debug?null:(Q(r[0])&&(r[0]=`${n}${this.prefix} ${r[0]}`),this.logger[t](r))}create(r){return new e(this.logger,v({prefix:`${this.prefix}:${r}:`},this.options))}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new e(this.logger,r)}},br=new KC,Xs=class{constructor(){this.observers={}}on(r,t){return r.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);let i=this.observers[n].get(t)||0;this.observers[n].set(t,i+1)}),this}off(r,t){if(this.observers[r]){if(!t){delete this.observers[r];return}this.observers[r].delete(t)}}emit(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.observers[r]&&Array.from(this.observers[r].entries()).forEach(s=>{let[a,c]=s;for(let u=0;u<c;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,c]=s;for(let u=0;u<c;u++)a.apply(a,[r,...n])})}},yh=class extends Xs{constructor(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=r||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){let t=this.options.ns.indexOf(r);t>-1&&this.options.ns.splice(t,1)}getResource(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure,a;r.indexOf(".")>-1?a=r.split("."):(a=[r,t],n&&(Array.isArray(n)?a.push(...n):Q(n)&&o?a.push(...n.split(o)):a.push(n)));let c=mh(this.data,a);return!c&&!t&&!n&&r.indexOf(".")>-1&&(r=a[0],t=a[1],n=a.slice(2).join(".")),c||!s||!Q(n)?c:YC(this.data?.[r]?.[t],n,o)}addResource(r,t,n,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,a=[r,t];n&&(a=a.concat(s?n.split(s):n)),r.indexOf(".")>-1&&(a=r.split("."),i=t,t=a[1]),this.addNamespaces(t),uO(this.data,a,i),o.silent||this.emit("added",r,t,n,i)}addResources(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(let o in n)(Q(n[o])||Array.isArray(n[o]))&&this.addResource(r,t,o,n[o],{silent:!0});i.silent||this.emit("added",r,t,n)}addResourceBundle(r,t,n,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[r,t];r.indexOf(".")>-1&&(a=r.split("."),i=n,n=t,t=a[1]),this.addNamespaces(t);let c=mh(this.data,a)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?vO(c,n,o):c=v(v({},c),n),uO(this.data,a,c),s.silent||this.emit("added",r,t,n)}removeResourceBundle(r,t){this.hasResourceBundle(r,t)&&delete this.data[r][t],this.removeNamespaces(t),this.emit("removed",r,t)}hasResourceBundle(r,t){return this.getResource(r,t)!==void 0}getResourceBundle(r,t){return t||(t=this.options.defaultNS),this.getResource(r,t)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){let t=this.getDataByLanguage(r);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}},yO={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,r,t,n,i){return e.forEach(o=>{r=this.processors[o]?.process(r,t,n,i)??r}),r}},lO={},dO=e=>!Q(e)&&typeof e!="boolean"&&typeof e!="number",Eh=class e extends Xs{constructor(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),vW(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=br.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};return r==null?!1:this.resolve(r,t)?.res!==void 0}extractFromKey(r,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");let i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS||[],s=n&&r.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!bW(r,n,i);if(s&&!a){let c=r.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:r,namespaces:Q(o)?[o]:o};let u=r.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),r=u.join(i)}return{key:r,namespaces:Q(o)?[o]:o}}translate(r,t,n){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t=v({},t)),t||(t={}),r==null)return"";Array.isArray(r)||(r=[String(r)]);let i=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(r[r.length-1],t),c=a[a.length-1],u=t.lng||this.language,l=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u?.toLowerCase()==="cimode"){if(l){let wt=t.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${wt}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:`${c}${wt}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:s}let f=this.resolve(r,t),h=f?.res,p=f?.usedKey||s,E=f?.exactUsedKey||s,I=["[object Number]","[object Function]","[object RegExp]"],b=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,N=t.count!==void 0&&!Q(t.count),J=e.hasDefaultValue(t),be=N?this.pluralResolver.getSuffix(u,t.count,t):"",It=t.ordinal&&N?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",Ue=N&&!t.ordinal&&t.count===0,ze=Ue&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${be}`]||t[`defaultValue${It}`]||t.defaultValue,Dt=h;x&&!h&&J&&(Dt=ze);let Gm=dO(Dt),Wm=Object.prototype.toString.apply(Dt);if(x&&Dt&&Gm&&I.indexOf(Wm)<0&&!(Q(b)&&Array.isArray(Dt))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let wt=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,Dt,w(v({},t),{ns:a})):`key '${s} (${this.language})' returned an object instead of string.`;return i?(f.res=wt,f.usedParams=this.getUsedParamsDetails(t),f):wt}if(o){let wt=Array.isArray(Dt),en=wt?[]:{},$u=wt?E:p;for(let fn in Dt)if(Object.prototype.hasOwnProperty.call(Dt,fn)){let _n=`${$u}${o}${fn}`;J&&!h?en[fn]=this.translate(_n,w(v({},t),{defaultValue:dO(ze)?ze[fn]:void 0,joinArrays:!1,ns:a})):en[fn]=this.translate(_n,w(v({},t),{joinArrays:!1,ns:a})),en[fn]===_n&&(en[fn]=Dt[fn])}h=en}}else if(x&&Q(b)&&Array.isArray(h))h=h.join(b),h&&(h=this.extendTranslation(h,r,t,n));else{let wt=!1,en=!1;!this.isValidLookup(h)&&J&&(wt=!0,h=ze),this.isValidLookup(h)||(en=!0,h=s);let fn=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&en?void 0:h,_n=J&&ze!==h&&this.options.updateMissing;if(en||wt||_n){if(this.logger.log(_n?"updateKey":"missingKey",u,c,s,_n?ze:h),o){let bt=this.resolve(s,w(v({},t),{keySeparator:!1}));bt&&bt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Oi=[],jo=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&jo&&jo[0])for(let bt=0;bt<jo.length;bt++)Oi.push(jo[bt]);else this.options.saveMissingTo==="all"?Oi=this.languageUtils.toResolveHierarchy(t.lng||this.language):Oi.push(t.lng||this.language);let Bu=(bt,xr,xi)=>{let Vu=J&&xi!==h?xi:fn;this.options.missingKeyHandler?this.options.missingKeyHandler(bt,c,xr,Vu,_n,t):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(bt,c,xr,Vu,_n,t),this.emit("missingKey",bt,c,xr,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?Oi.forEach(bt=>{let xr=this.pluralResolver.getSuffixes(bt,t);Ue&&t[`defaultValue${this.options.pluralSeparator}zero`]&&xr.indexOf(`${this.options.pluralSeparator}zero`)<0&&xr.push(`${this.options.pluralSeparator}zero`),xr.forEach(xi=>{Bu([bt],s+xi,t[`defaultValue${xi}`]||ze)})}):Bu(Oi,s,ze))}h=this.extendTranslation(h,r,t,f,n),en&&h===s&&this.options.appendNamespaceToMissingKey&&(h=`${c}:${s}`),(en||wt)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${s}`:s,wt?h:void 0))}return i?(f.res=h,f.usedParams=this.getUsedParamsDetails(t),f):h}extendTranslation(r,t,n,i,o){var s=this;if(this.i18nFormat?.parse)r=this.i18nFormat.parse(r,v(v({},this.options.interpolation.defaultVariables),n),n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(w(v({},n),{interpolation:v(v({},this.options.interpolation),n.interpolation)}));let u=Q(r)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),l;if(u){let h=r.match(this.interpolator.nestingRegexp);l=h&&h.length}let f=n.replace&&!Q(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f=v(v({},this.options.interpolation.defaultVariables),f)),r=this.interpolator.interpolate(r,f,n.lng||this.language||i.usedLng,n),u){let h=r.match(this.interpolator.nestingRegexp),p=h&&h.length;l<p&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(r=this.interpolator.nest(r,function(){for(var h=arguments.length,p=new Array(h),E=0;E<h;E++)p[E]=arguments[E];return o?.[0]===p[0]&&!n.context?(s.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${t[0]}`),null):s.translate(...p,t)},n)),n.interpolation&&this.interpolator.reset()}let a=n.postProcess||this.options.postProcess,c=Q(a)?[a]:a;return r!=null&&c?.length&&n.applyPostProcessor!==!1&&(r=yO.handle(c,r,t,this.options&&this.options.postProcessPassResolved?v({i18nResolved:w(v({},i),{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),r}resolve(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,o,s,a;return Q(r)&&(r=[r]),r.forEach(c=>{if(this.isValidLookup(n))return;let u=this.extractFromKey(c,t),l=u.key;i=l;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));let h=t.count!==void 0&&!Q(t.count),p=h&&!t.ordinal&&t.count===0,E=t.context!==void 0&&(Q(t.context)||typeof t.context=="number")&&t.context!=="",I=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);f.forEach(b=>{this.isValidLookup(n)||(a=b,!lO[`${I[0]}-${b}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(a)&&(lO[`${I[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${I.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),I.forEach(x=>{if(this.isValidLookup(n))return;s=x;let N=[l];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(N,l,x,b,t);else{let be;h&&(be=this.pluralResolver.getSuffix(x,t.count,t));let It=`${this.options.pluralSeparator}zero`,Ue=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(N.push(l+be),t.ordinal&&be.indexOf(Ue)===0&&N.push(l+be.replace(Ue,this.options.pluralSeparator)),p&&N.push(l+It)),E){let ze=`${l}${this.options.contextSeparator}${t.context}`;N.push(ze),h&&(N.push(ze+be),t.ordinal&&be.indexOf(Ue)===0&&N.push(ze+be.replace(Ue,this.options.pluralSeparator)),p&&N.push(ze+It))}}let J;for(;J=N.pop();)this.isValidLookup(n)||(o=J,n=this.getResource(x,b,J,t))}))})}),{res:n,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(r,t,n,i):this.resourceStore.getResource(r,t,n,i)}getUsedParamsDetails(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=r.replace&&!Q(r.replace),i=n?r.replace:r;if(n&&typeof r.count<"u"&&(i.count=r.count),this.options.interpolation.defaultVariables&&(i=v(v({},this.options.interpolation.defaultVariables),i)),!n){i=v({},i);for(let o of t)delete i[o]}return i}static hasDefaultValue(r){let t="defaultValue";for(let n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&t===n.substring(0,t.length)&&r[n]!==void 0)return!0;return!1}},Sh=class{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=br.create("languageUtils")}getScriptPartFromCode(r){if(r=vh(r),!r||r.indexOf("-")<0)return null;let t=r.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(r){if(r=vh(r),!r||r.indexOf("-")<0)return r;let t=r.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(r){if(Q(r)&&r.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(r)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?r.toLowerCase():r)}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let t;return r.forEach(n=>{if(t)return;let i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&r.forEach(n=>{if(t)return;let i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(r,t){if(!r)return[];if(typeof r=="function"&&(r=r(t)),Q(r)&&(r=[r]),Array.isArray(r))return r;if(!t)return r.default||[];let n=r[t];return n||(n=r[this.getScriptPartFromCode(t)]),n||(n=r[this.formatLanguageCode(t)]),n||(n=r[this.getLanguagePartFromCode(t)]),n||(n=r.default),n||[]}toResolveHierarchy(r,t){let n=this.getFallbackCodes(t||this.options.fallbackLng||[],r),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return Q(r)&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(r))):Q(r)&&o(this.formatLanguageCode(r)),n.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}},fO={zero:0,one:1,two:2,few:3,many:4,other:5},hO={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})},ZC=class{constructor(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=r,this.options=t,this.logger=br.create("pluralResolver"),this.pluralRulesCache={}}addRule(r,t){this.rules[r]=t}clearCache(){this.pluralRulesCache={}}getRule(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=vh(r==="dev"?"en":r),i=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let s;try{s=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),hO;if(!r.match(/-|_/))return hO;let c=this.languageUtils.getLanguagePartFromCode(r);s=this.getRule(c,t)}return this.pluralRulesCache[o]=s,s}needsPlural(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(r,t);return n||(n=this.getRule("dev",t)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(r,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,n).map(i=>`${t}${i}`)}getSuffixes(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(r,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((i,o)=>fO[i]-fO[o]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(r,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this.getRule(r,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${r}`),this.getSuffix("dev",t,n))}},pO=function(e,r,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=SW(e,r,t);return!o&&i&&Q(t)&&(o=YC(e,t,n),o===void 0&&(o=YC(r,t,n))),o},WC=e=>e.replace(/\$/g,"$$$$"),QC=class{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=br.create("interpolator"),this.options=r,this.format=r?.interpolation?.format||(t=>t),this.init(r)}init(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});let{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:c,formatSeparator:u,unescapeSuffix:l,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:E,nestingSuffixEscaped:I,nestingOptionsSeparator:b,maxReplaces:x,alwaysFormat:N}=r.interpolation;this.escape=t!==void 0?t:IW,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Zs(o):s||"{{",this.suffix=a?Zs(a):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=l?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=h?Zs(h):p||Zs("$t("),this.nestingSuffix=E?Zs(E):I||Zs(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=x||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let r=(t,n)=>t?.source===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(r,t,n,i){let o,s,a,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){let x=pO(t,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,n,w(v(v({},i),t),{interpolationkey:p})):x}let E=p.split(this.formatSeparator),I=E.shift().trim(),b=E.join(this.formatSeparator).trim();return this.format(pO(t,c,I,this.options.keySeparator,this.options.ignoreJSONStructure),b,n,w(v(v({},i),t),{interpolationkey:I}))};this.resetRegExp();let l=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>WC(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?WC(this.escape(p)):WC(p)}].forEach(p=>{for(a=0;o=p.regex.exec(r);){let E=o[1].trim();if(s=u(E),s===void 0)if(typeof l=="function"){let b=l(r,o,i);s=Q(b)?b:""}else if(i&&Object.prototype.hasOwnProperty.call(i,E))s="";else if(f){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${E} for interpolating ${r}`),s="";else!Q(s)&&!this.useRawValueToEscape&&(s=sO(s));let I=p.safeValue(s);if(r=r.replace(o[0],I),f?(p.regex.lastIndex+=s.length,p.regex.lastIndex-=o[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),r}nest(r,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s,a=(c,u)=>{let l=this.nestingOptionsSeparator;if(c.indexOf(l)<0)return c;let f=c.split(new RegExp(`${l}[ ]*{`)),h=`{${f[1]}`;c=f[0],h=this.interpolate(h,s);let p=h.match(/'/g),E=h.match(/"/g);((p?.length??0)%2===0&&!E||E.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),u&&(s=v(v({},u),s))}catch(I){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,I),`${c}${l}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;i=this.nestingRegexp.exec(r);){let c=[];s=v({},n),s=s.replace&&!Q(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){let l=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=l.shift(),c=l,u=!0}if(o=t(a.call(this,i[1].trim(),s),s),o&&i[0]===r&&!Q(o))return o;Q(o)||(o=sO(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${r}`),o=""),u&&(o=c.reduce((l,f)=>this.format(l,f,n.lng,w(v({},n),{interpolationkey:i[1].trim()})),o.trim())),r=r.replace(i[0],o),this.regexp.lastIndex=0}return r}},RW=e=>{let r=e.toLowerCase().trim(),t={};if(e.indexOf("(")>-1){let n=e.split("(");r=n[0].toLowerCase().trim();let i=n[1].substring(0,n[1].length-1);r==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):r==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(s=>{if(s){let[a,...c]=s.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),l=a.trim();t[l]||(t[l]=u),u==="false"&&(t[l]=!1),u==="true"&&(t[l]=!0),isNaN(u)||(t[l]=parseInt(u,10))}})}return{formatName:r,formatOptions:t}},Qs=e=>{let r={};return(t,n,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o=w(v({},o),{[i.interpolationkey]:void 0}));let s=n+JSON.stringify(o),a=r[s];return a||(a=e(vh(n),i),r[s]=a),a(t)}},XC=class{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=br.create("formatter"),this.options=r,this.formats={number:Qs((t,n)=>{let i=new Intl.NumberFormat(t,v({},n));return o=>i.format(o)}),currency:Qs((t,n)=>{let i=new Intl.NumberFormat(t,w(v({},n),{style:"currency"}));return o=>i.format(o)}),datetime:Qs((t,n)=>{let i=new Intl.DateTimeFormat(t,v({},n));return o=>i.format(o)}),relativetime:Qs((t,n)=>{let i=new Intl.RelativeTimeFormat(t,v({},n));return o=>i.format(o,n.range||"day")}),list:Qs((t,n)=>{let i=new Intl.ListFormat(t,v({},n));return o=>i.format(o)})},this.init(r)}init(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(r,t){this.formats[r.toLowerCase().trim()]=t}addCached(r,t){this.formats[r.toLowerCase().trim()]=Qs(t)}format(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){let a=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,c)=>{let{formatName:u,formatOptions:l}=RW(c);if(this.formats[u]){let f=a;try{let h=i?.formatParams?.[i.interpolationkey]||{},p=h.locale||h.lng||i.locale||i.lng||n;f=this.formats[u](a,p,v(v(v({},l),i),h))}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${u}`);return a},r)}},AW=(e,r)=>{e.pending[r]!==void 0&&(delete e.pending[r],e.pendingCount--)},JC=class extends Xs{constructor(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=r,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=br.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,i.backend,i)}queueLoad(r,t,n,i){let o={},s={},a={},c={};return r.forEach(u=>{let l=!0;t.forEach(f=>{let h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,l=!1,s[h]===void 0&&(s[h]=!0),o[h]===void 0&&(o[h]=!0),c[f]===void 0&&(c[f]=!0)))}),l||(a[u]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(r,t,n){let i=r.split("|"),o=i[0],s=i[1];t&&this.emit("failedLoading",o,s,t),!t&&n&&this.store.addResourceBundle(o,s,n,void 0,void 0,{skipCopy:!0}),this.state[r]=t?-1:2,t&&n&&(this.state[r]=0);let a={};this.queue.forEach(c=>{EW(c.loaded,[o],s),AW(c,r),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{a[u]||(a[u]={});let l=c.loaded[u];l.length&&l.forEach(f=>{a[u][f]===void 0&&(a[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!r.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:t,fcName:n,tried:i,wait:o,callback:s});return}this.readingCalls++;let a=(u,l)=>{if(this.readingCalls--,this.waitingReads.length>0){let f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&l&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,r,t,n,i+1,o*2,s)},o);return}s(u,l)},c=this.backend[n].bind(this.backend);if(c.length===2){try{let u=c(r,t);u&&typeof u.then=="function"?u.then(l=>a(null,l)).catch(a):a(null,u)}catch(u){a(u)}return}return c(r,t,a)}prepareLoading(r,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Q(r)&&(r=this.languageUtils.toResolveHierarchy(r)),Q(t)&&(t=[t]);let o=this.queueLoad(r,t,n,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(r,t,n){this.prepareLoading(r,t,{},n)}reload(r,t,n){this.prepareLoading(r,t,{reload:!0},n)}loadOne(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.split("|"),i=n[0],o=n[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${t}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${t}loaded namespace ${o} for language ${i}`,a),this.loaded(r,s,a)})}saveMissing(r,t,n,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){let c=w(v({},s),{isUpdate:o}),u=this.backend.create.bind(this.backend);if(u.length<6)try{let l;u.length===5?l=u(r,t,n,i,c):l=u(r,t,n,i),l&&typeof l.then=="function"?l.then(f=>a(null,f)).catch(a):a(null,l)}catch(l){a(l)}else u(r,t,n,i,a,c)}!r||!r[0]||this.store.addResource(r[0],t,n,i)}}},gO=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let r={};if(typeof e[1]=="object"&&(r=e[1]),Q(e[1])&&(r.defaultValue=e[1]),Q(e[2])&&(r.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){let t=e[3]||e[2];Object.keys(t).forEach(n=>{r[n]=t[n]})}return r},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),mO=e=>(Q(e.ns)&&(e.ns=[e.ns]),Q(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Q(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),gh=()=>{},_W=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{typeof e[t]=="function"&&(e[t]=e[t].bind(e))})},Ch=class e extends Xs{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=mO(r),this.services={},this.logger=br,this.modules={external:[]},_W(this),t&&!this.isInitialized&&!r.isClone){if(!this.options.initAsync)return this.init(r,t),this;setTimeout(()=>{this.init(r,t)},0)}}init(){var r=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(Q(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));let i=gO();this.options=v(v(v({},i),this.options),mO(t)),this.options.interpolation=v(v({},i.interpolation),this.options.interpolation),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);let o=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?br.init(o(this.modules.logger),this.options):br.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:l=XC;let f=new Sh(this.options);this.store=new yh(this.options.resources,this.options);let h=this.services;h.logger=br,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new ZC(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=o(l),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new QC(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new JC(o(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(p){for(var E=arguments.length,I=new Array(E>1?E-1:0),b=1;b<E;b++)I[b-1]=arguments[b];r.emit(p,...I)}),this.modules.languageDetector&&(h.languageDetector=o(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=o(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Eh(this.services,this.options),this.translator.on("*",function(p){for(var E=arguments.length,I=new Array(E>1?E-1:0),b=1;b<E;b++)I[b-1]=arguments[b];r.emit(p,...I)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=gh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return r.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return r.store[l](...arguments),r}});let c=Xc(),u=()=>{let l=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),n(f,h)};if(this.languages&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),c}loadResources(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gh,i=Q(r)?r:this.language;if(typeof r=="function"&&(n=r),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();let o=[],s=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>s(c)),this.options.preload?.forEach?.(a=>s(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(r,t,n){let i=Xc();return typeof r=="function"&&(n=r,r=void 0),typeof t=="function"&&(n=t,t=void 0),r||(r=this.languages),t||(t=this.options.ns),n||(n=gh),this.services.backendConnector.reload(r,t,o=>{i.resolve(),n(o)}),i}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&yO.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1))for(let t=0;t<this.languages.length;t++){let n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(r,t){var n=this;this.isLanguageChangingTo=r;let i=Xc();this.emit("languageChanging",r);let o=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},s=(c,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),t&&t(c,function(){return n.t(...arguments)})},a=c=>{!r&&!c&&this.services.languageDetector&&(c=[]);let u=Q(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,l=>{s(l,u)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(r),i}getFixedT(r,t,n){var i=this;let o=function(s,a){let c;if(typeof a!="object"){for(var u=arguments.length,l=new Array(u>2?u-2:0),f=2;f<u;f++)l[f-2]=arguments[f];c=i.options.overloadTranslationOptionHandler([s,a].concat(l))}else c=v({},a);c.lng=c.lng||o.lng,c.lngs=c.lngs||o.lngs,c.ns=c.ns||o.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||o.keyPrefix);let h=i.options.keySeparator||".",p;return c.keyPrefix&&Array.isArray(s)?p=s.map(E=>`${c.keyPrefix}${h}${E}`):p=c.keyPrefix?`${c.keyPrefix}${h}${s}`:s,i.t(p,c)};return Q(r)?o.lng=r:o.lngs=r,o.ns=t,o.keyPrefix=n,o}t(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return this.translator?.translate(...t)}exists(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return this.translator?.exists(...t)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;let s=(a,c)=>{let u=this.services.backendConnector.state[`${a}|${c}`];return u===-1||u===0||u===2};if(t.precheck){let a=t.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(n,r)&&(!i||s(o,r)))}loadNamespaces(r,t){let n=Xc();return this.options.ns?(Q(r)&&(r=[r]),r.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),t&&t(i)}),n):(t&&t(),Promise.resolve())}loadLanguages(r,t){let n=Xc();Q(r)&&(r=[r]);let i=this.options.preload||[],o=r.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{n.resolve(),t&&t(s)}),n):(t&&t(),Promise.resolve())}dir(r){if(r||(r=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!r)return"rtl";let t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new Sh(gO());return t.indexOf(n.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new e(r,t)}cloneInstance(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gh,n=r.forkResourceStore;n&&delete r.forkResourceStore;let i=w(v(v({},this.options),r),{isClone:!0}),o=new e(i);if((r.debug!==void 0||r.prefix!==void 0)&&(o.logger=o.logger.clone(r)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services=v({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n){let a=Object.keys(this.store.data).reduce((c,u)=>(c[u]=v({},this.store.data[u]),Object.keys(c[u]).reduce((l,f)=>(l[f]=v({},c[u][f]),l),{})),{});o.store=new yh(a,i),o.services.resourceStore=o.store}return o.translator=new Eh(o.services,i),o.translator.on("*",function(a){for(var c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];o.emit(a,...u)}),o.init(i,t),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},lt=Ch.createInstance();lt.createInstance=Ch.createInstance;var gfe=lt.createInstance,mfe=lt.dir,vfe=lt.init,yfe=lt.loadResources,Efe=lt.reloadResources,Sfe=lt.use,Cfe=lt.changeLanguage,Ife=lt.getFixedT,Dfe=lt.t,wfe=lt.exists,bfe=lt.setDefaultNamespace,Tfe=lt.hasLoadedNamespace,Rfe=lt.loadNamespaces,Afe=lt.loadLanguages;var EO=function(r){return{type:"backend",init:function(n,i,o){},read:function(n,i,o){if(typeof r=="function"){if(r.length<3){try{var s=r(n,i);s&&typeof s.then=="function"?s.then(function(a){return o(null,a&&a.default||a)}).catch(o):o(null,s)}catch(a){o(a)}return}r(n,i,o);return}o(null,r&&r[n]&&r[n][i])}}};function Th(e){return e&&typeof e=="object"&&!Array.isArray(e)}function MW(e){return e==="__proto__"||e==="constructor"}function ft(e={},...r){if(!r.length)return e;let t=r.shift()||{};if(!Th(t))return ft(e,...r);for(let n in t)MW(n)||(t[n]instanceof Date?e[n]=t[n]:Th(t[n])?(Th(e[n])||(e[n]={}),ft(e[n],t[n])):e[n]=t[n]);return ft(e,...r)}function NW(){return ft({},y(qO),y(hD))}var ht=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:()=>NW(),providedIn:"root"})}}return e})();function OW(){return ft({},...y(ga,{optional:!0})??[])}var qO=new C("DefaultConfiguration",{providedIn:"root",factory:OW});function xW(){return ft({},...y(pu,{optional:!0})??[])}var hD=new C("RootConfiguration",{providedIn:"root",factory:xW}),pu=new C("ConfigurationChunk"),ga=new C("DefaultConfigurationChunk");function SO(e={},r=!1){return{provide:r?ga:pu,useValue:e,multi:!0}}function Rh(e,r,t=!1){return{provide:t?ga:pu,useFactory:e,multi:!0,deps:r}}function An(e={}){return{provide:ga,useValue:e,multi:!0}}function No(e,r){return{provide:ga,useFactory:e,multi:!0,deps:r}}var PW={anonymousConsents:{registerConsent:"MARKETING_NEWSLETTER",showLegalDescriptionInDialog:!0,requiredConsents:[],consentManagementPage:{showAnonymousConsents:!0,hideConsents:[]}}},pD=function(e){return e.BILLING="BILLING",e.SHIPPING="SHIPPING",e}(pD||{}),ge=function(e){return e.CONTENT_PAGE="ContentPage",e.PRODUCT_PAGE="ProductPage",e.CATEGORY_PAGE="CategoryPage",e.CATALOG_PAGE="CatalogPage",e}(ge||{}),FW=function(e){return e.AUTO="auto",e.SMOOTH="smooth",e}(FW||{});var LW=function(e){return e.NO_BACKGROUND="NO_BACKGROUND",e.UPLOAD_RESPONSIVE_IMAGE="UPLOAD_RESPONSIVE_IMAGE",e.UPLOAD_THUMBNAIL="UPLOAD_THUMBNAIL",e}(LW||{});var Js="userCmsEndpoints",aa=function(e){return e.GIVEN="GIVEN",e.WITHDRAWN="WITHDRAWN",e}(aa||{}),lI="X-Anonymous-Consents";var ru=class{};var kW=function(e){return e.BACK_IN_STOCK="BACK_IN_STOCK",e}(kW||{}),UW=function(e){return e.SIZE="ApparelSizeVariantProduct",e.STYLE="ApparelStyleVariantProduct",e.COLOR="ElectronicsColorVariantProduct",e}(UW||{});var jW=function(e){return e.SIZE="size",e.STYLE="style",e.COLOR="color",e.THUMBNAIL="thumbnail",e.PRODUCT="product",e.STYLE_SWATCH="styleSwatch",e.ROLLUP_PROPERTY="rollupProperty",e}(jW||{}),YO="[ENTITY] REMOVE",KO="[ENTITY] REMOVE ALL";function _i(e,r){return{entityType:e,entityId:r}}function ZO(e,r){return{entityId:r,entityType:e,entityRemove:!0}}function QO(e){return{entityId:null,entityType:e,entityRemove:!0}}var dI=class{constructor(r,t){this.type=YO,this.meta=ZO(r,t)}},Ah=class{constructor(r){this.type=KO,this.meta=QO(r)}},XO="[LOADER] LOAD",JO="[LOADER] FAIL",ex="[LOADER] SUCCESS",tx="[LOADER] RESET";function gD(e){return{entityType:e,loader:{load:!0}}}function mD(e,r){return{entityType:e,loader:{error:r||!0}}}function vD(e){return{entityType:e,loader:{success:!0}}}function ym(e){return{entityType:e,loader:{}}}var rt=class{constructor(r){this.type=XO,this.meta=gD(r)}},it=class{constructor(r,t){this.type=JO,this.meta=mD(r,t),this.error=t}},ot=class{constructor(r){this.type=ex,this.meta=vD(r)}},Jr=class{constructor(r){this.type=tx,this.meta=ym(r)}},yD="[ENTITY] LOAD",ED="[ENTITY] LOAD FAIL",SD="[ENTITY] LOAD SUCCESS",CD="[ENTITY] RESET";function ID(e,r){return v(v({},gD(e)),_i(e,r))}function DD(e,r,t){return v(v({},mD(e,t)),_i(e,r))}function wD(e,r){return v(v({},vD(e)),_i(e,r))}function bD(e,r){return v(v({},ym(e)),_i(e,r))}var xt=class{constructor(r,t){this.type=yD,this.meta=ID(r,t)}},Ct=class{constructor(r,t,n){this.type=ED,this.meta=DD(r,t,n),this.error=n}},st=class{constructor(r,t,n){this.payload=n,this.type=SD,this.meta=wD(r,t)}},Kn=class{constructor(r,t){this.type=CD,this.meta=bD(r,t)}};function Ze(e){return e.value}function Ft(e){return e.loading??!1}function ma(e){return e.error??!1}function Qn(e){return e.success??!1}var bn={loading:!1,error:!1,success:!1,value:void 0};function nt(e,r){return(t=bn,n)=>{if(n.meta&&n.meta.loader&&n.meta.entityType===e){let o=n.meta.loader;return o.load?w(v({},t),{loading:!0,value:i(t.value)}):o.error?w(v({},t),{loading:!1,error:!0,success:!1,value:i(void 0)}):o.success?w(v({},t),{value:i(n.payload),loading:!1,error:!1,success:!0}):w(v({},bn),{value:r?r(bn.value,n):bn.value})}if(r){let o=r(t.value,n);if(o!==t.value)return w(v({},t),{value:o})}return t;function i(o){return r?r(t.value,n):o}}}function Pt(e,r){return e.entities[r]||bn}function $W(e,r){let t=Pt(e,r);return Ze(t)}function BW(e,r){let t=Pt(e,r);return Ft(t)}function VW(e,r){let t=Pt(e,r);return ma(t)}function HW(e,r){let t=Pt(e,r);return Qn(t)}var fI={entities:{}};function gu(e,r){return(n=fI,i)=>{let o=[],s=!1;if(i.meta&&i.meta.entityType===e&&i.meta.entityId!==void 0){if(o=[].concat(i.meta.entityId??""),i.meta.entityRemove)return t(i,n,o);s=Array.isArray(i.meta.entityId)&&Array.isArray(i.payload)}else o=Object.keys(n.entities);let a={};for(let c=0;c<o.length;c++){let u=o[c],l=s?w(v({},i),{payload:i.payload[c]}):i,f=r(n.entities[u],l);f&&(a[u]=f)}return Object.keys(a).length>0?w(v({},n),{entities:v(v({},n.entities),a)}):n};function t(n,i,o){if(n?.meta?.entityId===null)return fI;{let s=!1,a=Object.keys(i.entities).reduce((c,u)=>(o.includes(u)?s=!0:c[u]=i.entities[u],c),{});return s?{entities:a}:i}}}function Do(e,r){return gu(e,nt(e,r))}var nx="[PROCESSES LOADER] INCREMENT",rx="[PROCESSES LOADER] DECREMENT",ix="[PROCESSES LOADER] RESET";function TD(e){return{entityType:e,loader:void 0,processesCountDiff:1}}function RD(e){return{entityType:e,loader:void 0,processesCountDiff:-1}}function AD(e){return w(v({},ym(e)),{processesCountDiff:null})}var hI=class{constructor(r){this.type=ix,this.meta=AD(r)}},pI=class{constructor(r){this.type=nx,this.meta=TD(r)}},gI=class{constructor(r){this.type=rx,this.meta=RD(r)}},ox="[ENTITY] PROCESSES LOADER RESET",sx="[ENTITY] PROCESSES INCREMENT",ax="[ENTITY] PROCESSES DECREMENT";function cx(e,r){return v(v({},AD(e)),_i(e,r))}function ux(e,r){return v(v({},TD(e)),_i(e,r))}function lx(e,r){return v(v({},RD(e)),_i(e,r))}var mI=class{constructor(r,t){this.type=ox,this.meta=cx(r,t)}},vI=class{constructor(r,t){this.type=sx,this.meta=ux(r,t)}},yI=class{constructor(r,t){this.type=ax,this.meta=lx(r,t)}};function dx(e){return!e.processesCount&&!e.loading}function fx(e){return e.processesCount!==void 0&&e.processesCount>0}var _h={processesCount:0};function hx(e,r){return(t=v(v({},_h),bn),n)=>{let i=nt(e,r)(t,n);if(n.meta&&n.meta.entityType===e){let o=n.meta.processesCountDiff;if(le()&&t.processesCount&&o&&t.processesCount+o<0&&console.error(`Action '${n.type}' sets processesCount to value < 0!
Make sure to keep processesCount in sync.
There should always be only one decrement action for each increment action.
Make sure that you don't reset state in between those actions.
`,n),o)return w(v({},i),{processesCount:t.processesCount?t.processesCount+o:o});if(o===null)return v(v({},i),_h)}return i}}var zW=v(v({},bn),_h);function GW(e,r){let t=Pt(e,r);return fx(t)}function WW(e,r){let t=Pt(e,r);return dx(t)}function qW(e,r){return e.entities[r]||zW}function YW(e,r){return gu(e,hx(e,r))}function px(e,r){return e.entities[r]||void 0}var _D=".";function KW(e,r){return e.split(_D).reduce((n,i)=>n?n[i]:void 0,r)}function ZW(e,r,t){if(!e||!t||Object.keys(t).length===0)return{};let n=e.split(_D).reduceRight((i,o)=>({[o]:i}),t);return QW(e,r,n)}function MD(e,r,t){if(e&&e.length===0)return{};let n={};for(let i of e){let o=KW(i,t),s=ZW(i,r,o);n=ft(n,s)}return n}function QW(e,r,t){let n=XW(e,r);if(n.length===0)return t;let i=ft({},t);for(let o of n){let s=o.split(_D),a=i;for(let c=0;c<s.length;c++){let u=s[c];c===s.length-1?a&&a[u]&&delete a[u]:a=a[u]}}return i}function XW(e,r){if(!e||!r)return[];let t=[];for(let n of r)n.includes(e)&&t.push(n);return t}function gx(e,r){return e?Object.keys(e).filter(t=>e[t]===r):[]}var JW="all";function ND(e,r){return`${r??""}?pageSize=${e.pageSize??""}&currentPage=${e.currentPage??""}&sort=${e.sort??""}`}function e3(e,r){return mx(e.list,e.entities,r)}function mx(e,r,t,n){let i=Pt(e,t?ND(t,n):n??JW);if(!i.value||!i.value.ids)return i;let o=Object.assign({},i,{value:{values:i.value.ids.map(s=>Pt(r,s).value)}});return t&&o.value&&(o.value.pagination=i.value.pagination,o.value.sorts=i.value.sorts),o}function t3(e,r){let t=e.values||[],n={ids:t.map(i=>i[r])};return e.pagination&&(n.pagination=e.pagination),e.sorts&&(n.sorts=e.sorts),{values:t,page:n}}function n3(e,r){return[e,ND(r)].toString()}var Jfe=Object.freeze({__proto__:null,ENTITY_FAIL_ACTION:ED,ENTITY_LOAD_ACTION:yD,ENTITY_PROCESSES_DECREMENT_ACTION:ax,ENTITY_PROCESSES_INCREMENT_ACTION:sx,ENTITY_PROCESSES_LOADER_RESET_ACTION:ox,ENTITY_REMOVE_ACTION:YO,ENTITY_REMOVE_ALL_ACTION:KO,ENTITY_RESET_ACTION:CD,ENTITY_SUCCESS_ACTION:SD,EntityFailAction:Ct,EntityLoadAction:xt,EntityLoaderResetAction:Kn,EntityProcessesDecrementAction:yI,EntityProcessesIncrementAction:vI,EntityProcessesLoaderResetAction:mI,EntityRemoveAction:dI,EntityRemoveAllAction:Ah,EntitySuccessAction:st,LOADER_FAIL_ACTION:JO,LOADER_LOAD_ACTION:XO,LOADER_RESET_ACTION:tx,LOADER_SUCCESS_ACTION:ex,LoaderFailAction:it,LoaderLoadAction:rt,LoaderResetAction:Jr,LoaderSuccessAction:ot,PROCESSES_DECREMENT_ACTION:rx,PROCESSES_INCREMENT_ACTION:nx,PROCESSES_LOADER_RESET_ACTION:ix,ProcessesDecrementAction:gI,ProcessesIncrementAction:pI,ProcessesLoaderResetAction:hI,denormalizeCustomB2BSearch:mx,denormalizeSearch:e3,entityErrorSelector:VW,entityFailMeta:DD,entityHasPendingProcessesSelector:GW,entityIsStableSelector:WW,entityLoadMeta:ID,entityLoaderReducer:Do,entityLoaderStateSelector:Pt,entityLoadingSelector:BW,entityMeta:_i,entityProcessesDecrementMeta:lx,entityProcessesIncrementMeta:ux,entityProcessesLoaderReducer:YW,entityProcessesLoaderResetMeta:cx,entityProcessesLoaderStateSelector:qW,entityReducer:gu,entityRemoveAllMeta:QO,entityRemoveMeta:ZO,entityResetMeta:bD,entitySelector:px,entitySuccessMeta:wD,entitySuccessSelector:HW,entityValueSelector:$W,failMeta:mD,getStateSlice:MD,hasPendingProcessesSelector:fx,initialEntityState:fI,initialLoaderState:bn,initialProcessesState:_h,isStableSelector:dx,loadMeta:gD,loaderErrorSelector:ma,loaderLoadingSelector:Ft,loaderReducer:nt,loaderSuccessSelector:Qn,loaderValueSelector:Ze,normalizeListPage:t3,processesDecrementMeta:RD,processesIncrementMeta:TD,processesLoaderReducer:hx,processesLoaderResetMeta:AD,resetMeta:ym,serializeParams:n3,serializeSearchConfig:ND,successMeta:vD}),vx="anonymous-consents",mu="[Anonymous Consents] Anonymous Consents",yx="[Anonymous Consents] Load Anonymous Consent Templates",r3="[Anonymous Consents] Load Anonymous Consent Templates Success",i3="[Anonymous Consents] Load Anonymous Consent Templates Fail",o3="[Anonymous Consents] Reset Load Anonymous Consent Templates";var Ex="[Anonymous Consents] Set Anonymous Consents",Sx="[Anonymous Consents] Give Anonymous Consent",Cx="[Anonymous Consents] Withdraw Anonymous Consent",Ix="[Anonymous Consents] Toggle Anonymous Consents Banner Dismissed",Dx="[Anonymous Consents] Anonymous Consent Templates Updated",wx="[Anonymous Consents] Check Updated Versions",Mh=class extends rt{constructor(){super(mu),this.type=yx}},Nh=class extends ot{constructor(r){super(mu),this.payload=r,this.type=r3}},Oh=class extends it{constructor(r){super(mu,r),this.type=i3}},EI=class extends Jr{constructor(){super(mu),this.type=o3}};var SI=class{constructor(r){this.payload=r,this.type=Ex}},CI=class{constructor(r){this.templateCode=r,this.type=Sx}},II=class{constructor(r){this.templateCode=r,this.type=Cx}},DI=class{constructor(r){this.dismissed=r,this.type=Ix}},xh=class{constructor(r){this.updated=r,this.type=Dx}},wI=class{constructor(){this.type=wx}};var vu=wn(vx),Em=T(vu,e=>e.templates),bI=T(Em,e=>Ze(e)),s3=T(Em,Ft),a3=T(Em,Qn),c3=T(Em,ma),u3=e=>T(bI,r=>r?r.find(t=>t.id===e):void 0),l3=T(vu,e=>e.ui.updated),d3=T(vu,e=>e.ui.bannerDismissed),bx=T(vu,e=>e.consents),f3=e=>T(bx,r=>r.find(t=>t.templateCode===e));var ta="current",na="anonymous",h3="guest",p3=Object.freeze({__proto__:null,OCC_USER_ID_ANONYMOUS:na,OCC_USER_ID_CURRENT:ta,OCC_USER_ID_GUEST:h3}),ehe="current",Zn="[Auth] Login",Rr="[Auth] Logout",ra=class{constructor(){this.type=Zn}},Ph=class{constructor(){this.type=Rr}},the=Object.freeze({__proto__:null,LOGIN:Zn,LOGOUT:Rr,Login:ra,Logout:Ph}),Xn=(()=>{class e{constructor(){this._userId=new Lt(1)}setUserId(t){this._userId.next(t)}getUserId(){return this._userId}takeUserId(t=!1){return this.getUserId().pipe(q(1),S(n=>{if(t&&n===na)throw new Error("Requested user id for logged user while user is not logged in.");return n}))}clearUserId(){this.setUserId(na)}isEmulated(){return this.getUserId().pipe(S(t=>t!==na&&t!==ta))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),g3="oAuthRedirectCodeFlow",tu=function(e){return e[e.ResourceOwnerPasswordFlow=0]="ResourceOwnerPasswordFlow",e[e.ImplicitFlow=1]="ImplicitFlow",e[e.AuthorizationCode=2]="AuthorizationCode",e}(tu||{}),m3=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=d(ht),i},providedIn:"root"})}}return e})(),ri=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=d(ht),i},providedIn:"root"})}}return e})(),Ar=(()=>{class e extends ri{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=d(ht),i},providedIn:"root"})}}return e})(),Sm=(()=>{class e{constructor(t,n){this.authConfig=t,this.occConfig=n}get config(){return this.authConfig?.authentication??{}}getClientId(){return this.config?.client_id??""}getClientSecret(){return this.config?.client_secret??""}getBaseUrl(){return this.config?.baseUrl??(this.occConfig?.backend?.occ?.baseUrl??"")+"/authorizationserver"}getTokenEndpoint(){let t=this.config?.tokenEndpoint??"";return this.prefixEndpoint(t)}getLoginUrl(){let t=this.config?.loginUrl??"";return this.prefixEndpoint(t)}getRevokeEndpoint(){let t=this.config?.revokeEndpoint??"";return this.prefixEndpoint(t)}getLogoutUrl(){let t=this.config?.logoutUrl??"";return this.prefixEndpoint(t)}getUserinfoEndpoint(){let t=this.config?.userinfoEndpoint??"";return this.prefixEndpoint(t)}getOAuthLibConfig(){return this.config?.OAuthLibConfig??{}}prefixEndpoint(t){let n=t;return n.startsWith("/")||(n="/"+n),`${this.getBaseUrl()}${n}`}getOAuthFlow(){let t=this.config?.OAuthLibConfig?.responseType;if(t){let n=t.split(" ");return n.includes("code")?tu.AuthorizationCode:n.includes("token")?tu.ImplicitFlow:tu.ResourceOwnerPasswordFlow}return tu.ResourceOwnerPasswordFlow}static{this.\u0275fac=function(n){return new(n||e)(d(m3),d(Ar))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),v3=new C("SERVER_REQUEST_URL"),y3=new C("SERVER_REQUEST_ORIGIN"),Jn=(()=>{class e{constructor(t,n,i,o){this.platformId=n,this.serverUrl=i,this.serverOrigin=o,this.document=t}isBrowser(){return Bn(this.platformId)}get nativeWindow(){return this.isBrowser()?window:void 0}get sessionStorage(){return this.nativeWindow?this.nativeWindow.sessionStorage:void 0}get localStorage(){return this.nativeWindow?this.nativeWindow.localStorage:void 0}get location(){if(this.isBrowser())return this.document.location;if(!this.serverUrl)throw new Error("Cannot resolve the href as the SERVER_REQUEST_URL is undefined");if(!this.serverOrigin)throw new Error("Cannot resolve the origin as the SERVER_REQUEST_ORIGIN is undefined");return{href:this.serverUrl,origin:this.serverOrigin}}get resize$(){return this.nativeWindow?Ta(this.nativeWindow,"resize").pipe($i(300),ar({target:this.nativeWindow}),gn()):D(null)}static{this.\u0275fac=function(n){return new(n||e)(d(ye),d(tt),d(v3,8),d(y3,8))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Tx=(()=>{class e{constructor(t,n,i,o){this.oAuthService=t,this.authConfigService=n,this.platformId=i,this.winRef=o,this.events$=this.oAuthService.events,this.initialize()}initialize(){let t=!this.winRef.isBrowser();this.oAuthService.configure(v({tokenEndpoint:this.authConfigService.getTokenEndpoint(),loginUrl:this.authConfigService.getLoginUrl(),clientId:this.authConfigService.getClientId(),dummyClientSecret:this.authConfigService.getClientSecret(),revocationEndpoint:this.authConfigService.getRevokeEndpoint(),logoutUrl:this.authConfigService.getLogoutUrl(),userinfoEndpoint:this.authConfigService.getUserinfoEndpoint(),issuer:this.authConfigService.getOAuthLibConfig()?.issuer??this.authConfigService.getBaseUrl(),redirectUri:this.authConfigService.getOAuthLibConfig()?.redirectUri??(t?"":this.winRef.nativeWindow.location.origin)},this.authConfigService.getOAuthLibConfig()))}authorizeWithPasswordFlow(t,n){return this.oAuthService.fetchTokenUsingPasswordFlow(t,n)}refreshToken(){this.oAuthService.refreshToken()}revokeAndLogout(){return new Promise(t=>{this.oAuthService.revokeTokenAndLogout(!0).catch(()=>{this.oAuthService.logOut(!0)}).finally(()=>{t()})})}logout(){this.oAuthService.logOut(!0)}getIdToken(){return this.oAuthService.getIdToken()}initLoginFlow(){return this.winRef.localStorage&&this.winRef.localStorage?.setItem(g3,"true"),this.oAuthService.initLoginFlow()}tryLogin(){return new Promise((t,n)=>{let i,o=this.events$.pipe(R(s=>s.type==="token_received"),q(1)).subscribe(s=>i=s);this.oAuthService.tryLogin({disableOAuth2StateCheck:!0}).then(s=>{t({result:s,tokenReceived:!!i})}).catch(s=>{n(s)}).finally(()=>{o.unsubscribe()})})}static{this.\u0275fac=function(n){return new(n||e)(d(ah),d(Sm),d(tt),d(Jn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),yu=(()=>{class e extends Co{constructor(){super(...arguments),this._token$=new me({})}static{this.nonStringifiedOAuthLibKeys=["PKCE_verifier","access_token","refresh_token","expires_at","access_token_stored_at","id_token","id_token_expires_at","id_token_stored_at","session_state","nonce"]}decode(t,n){return e.nonStringifiedOAuthLibKeys.includes(t)?n:JSON.stringify(n)}encode(t,n){if(e.nonStringifiedOAuthLibKeys.includes(t))return n;try{return JSON.parse(n)}catch{return n}}getToken(){return this._token$}setToken(t){this._token$.next(t)}getItem(t){let n;return this.getToken().subscribe(i=>n=i).unsubscribe(),this.decode(t,n?.[t])}removeItem(t){let n=v({},this._token$.value);delete n[t],this._token$.next(v({},n))}setItem(t,n){t&&this._token$.next(w(v({},this._token$.value),{[t]:this.encode(t,n)}))}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Rx="[Router] Change Next PageContext",TI=class{constructor(r){this.payload=r,this.type=Rx}};var RI="router",E3=wn(RI),Cm=T(E3,e=>e.router),nhe=T(Cm,e=>e.state&&e.state.semanticRoute||""),S3=T(Cm,e=>e.state&&e.state.context||{id:""}),Ax=T(Cm,e=>e.nextState&&e.nextState.context),C3=T(Ax,e=>!!e);var AI=e=>e.startsWith(":"),CO=e=>e.slice(1);var W=(()=>{class e{log(...t){console.log(...t)}warn(...t){console.warn(...t)}error(...t){console.error(...t)}info(...t){console.info(...t)}debug(...t){console.debug(...t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_x=function(e){return e.ONCE="once",e.ALWAYS="always",e}(_x||{}),Im=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=d(ht),i},providedIn:"root"})}}return e})(),Dm=(()=>{class e{constructor(t){this.config=t,this.logger=y(W)}getRouteConfig(t){let n=this.config?.routing?.routes,i=n&&n[t];return(!n||i===void 0)&&this.warn(`No path was configured for the named route '${t}'!`),i}warn(...t){le()&&this.logger.warn(...t)}getLoadStrategy(){return this.config?.routing?.loadStrategy??_x.ALWAYS}getRouteName(t){return this.routeNamesByPath||this.initRouteNamesByPath(),this.routeNamesByPath[t]}initRouteNamesByPath(){this.routeNamesByPath={};for(let[t,n]of Object.entries(this.config?.routing?.routes??{}))n?.paths?.forEach(i=>{le()&&this.routeNamesByPath[i]&&this.logger.error(`The same path '${i}' is configured for two different route names: '${this.routeNamesByPath[i]}' and '${t}`),this.routeNamesByPath[i]=t})}static{this.\u0275fac=function(n){return new(n||e)(d(Im))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),OD=(()=>{class e{constructor(t){this.router=t}getPrimarySegments(t){let n=this.router.parseUrl(t);return this._getPrimarySegmentsFromUrlTree(n.root)}_getPrimarySegmentsFromUrlTree(t){let n=t.segments.map(o=>o.path),i=t.children[Z]?this._getPrimarySegmentsFromUrlTree(t.children[Z]):[];return n.concat(i)}matchPath(t,n){if(t=Array.isArray(t)?t:this.getPrimarySegments(t),n=Array.isArray(n)?n:this.getPrimarySegments(n),t.length!==n.length)return!1;for(let i=0;i<n.length;i++){let o=n[i],s=t[i];if(!AI(o)&&o!==s)return!1}return!0}static{this.\u0275fac=function(n){return new(n||e)(d(Ce))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Eu=(()=>{class e{constructor(t,n){this.routingConfigService=t,this.urlParser=n,this.ROOT_URL=["/"]}get(t){let n=this.routingConfigService.getRouteConfig(t);return n&&Array.isArray(n.paths)?"/"+n.paths[0]:void 0}transform(t){Array.isArray(t)||(t=[t]);let n=[];for(let i of t)if(!this.isRouteCommand(i))n.push(i);else{let o=this.generateUrlPart(i);if(o===null)return this.ROOT_URL;n.push(...o)}return this.shouldOutputAbsolute(t)&&n.unshift("/"),n}isRouteCommand(t){return t&&!!t.cxRoute}shouldOutputAbsolute(t){return this.isRouteCommand(t[0])}generateUrlPart(t){if(this.standarizeRouteCommand(t),!t.cxRoute)return null;let n=this.routingConfigService.getRouteConfig(t.cxRoute);if(!n||!n.paths)return null;let i=this.findPathWithFillableParams(n,t.params);return i?this.provideParamsValues(i,t.params,n.paramsMapping):null}standarizeRouteCommand(t){t.params=t.params||{}}provideParamsValues(t,n,i){return this.urlParser.getPrimarySegments(t).map(o=>{if(AI(o)){let s=CO(o),a=this.getMappedParamName(s,i);return n?.[a]}return o})}findPathWithFillableParams(t,n){let i=t.paths?.find(o=>this.getParams(o).every(s=>{let a=this.getMappedParamName(s,t.paramsMapping);return n?.[a]!==void 0}));return i??null}getParams(t){return this.urlParser.getPrimarySegments(t).filter(AI).map(CO)}getMappedParamName(t,n){return n&&n[t]||t}static{this.\u0275fac=function(n){return new(n||e)(d(Dm),d(OD))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Mx=(()=>{class e{constructor(t){this.router=t,this.routes$=this.router.events.pipe(R(n=>n instanceof Ve),ar(void 0),S(()=>{let n=this.router.routerState.snapshot.root,i=[n];for(;n=n.firstChild;)i.push(n);return i}),Qe({bufferSize:1,refCount:!0}))}static{this.\u0275fac=function(n){return new(n||e)(d(Ce))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),I3=(()=>{class e{constructor(t,n){this.router=t,this.activatedRoutesService=n,this.params$=this.activatedRoutesService.routes$.pipe(S(i=>this.findAllParam(i)),Qe({refCount:!0,bufferSize:1}))}getParams(){return this.params$}findAllParam(t){return Object.assign({},...t.map(n=>n.params))}static{this.\u0275fac=function(n){return new(n||e)(d(Ce),d(Mx))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Mi=(()=>{class e{constructor(t,n,i,o,s,a){this.store=t,this.winRef=n,this.semanticPathService=i,this.routingParamsService=o,this.router=s,this.location=a}getParams(){return this.routingParamsService.getParams()}getRouterState(){return this.store.pipe(A(Cm))}getPageContext(){return this.store.pipe(A(S3))}getNextPageContext(){return this.store.pipe(A(Ax))}changeNextPageContext(t){this.store.dispatch(new TI(t))}isNavigating(){return this.store.pipe(A(C3))}go(t,n){let i=this.semanticPathService.transform(t);return this.navigate(i,n)}getUrl(t,n){let i=this.router.serializeUrl(this.router.createUrlTree(this.semanticPathService.transform(t),n));return i.startsWith("/")||(i=`/${i}`),i}getFullUrl(t,n){return`${this.winRef.location.origin}${this.getUrl(t,n)}`}goByUrl(t,n){return this.router.navigateByUrl(t,n)}back(){if(this.winRef.nativeWindow&&this.winRef.document.referrer.includes(this.winRef.nativeWindow.location.origin)){this.location.back();return}this.go(["/"])}forward(){this.location.forward()}navigate(t,n){return this.router.navigate(t,n)}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(Jn),d(Eu),d(I3),d(Ce),d(Cn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Nx=(()=>{class e{constructor(){this.redirectUrl$=new me(void 0)}getRedirectUrl(){return this.redirectUrl$}setRedirectUrl(t){this.redirectUrl$.next(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),D3=(()=>{class e{constructor(t,n){this.config=t,this.urlParsingService=n}get authFlowPaths(){return this._authFlowPaths||(this._authFlowPaths=Object.values(this.config?.routing?.routes||{}).reduce((t,n)=>n.authFlow===!0&&n.paths?.length?t.concat(n?.paths):t,[])),this._authFlowPaths}isAuthFlow(t){return this.authFlowPaths.some(n=>this.urlParsingService.matchPath(t,n))}static{this.\u0275fac=function(n){return new(n||e)(d(Im),d(OD))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),xD=(()=>{class e{constructor(t,n,i,o){this.routing=t,this.router=n,this.authRedirectStorageService=i,this.authFlowRoutesService=o,this.init()}init(){this.subscription=this.router.events.subscribe(t=>{t instanceof Ve&&this.setRedirectUrl(t.urlAfterRedirects)})}ngOnDestroy(){this.subscription?.unsubscribe()}redirect(){this.authRedirectStorageService.getRedirectUrl().pipe(q(1)).subscribe(t=>{t===void 0?this.routing.go("/"):this.routing.goByUrl(t),this.clearRedirectUrl()})}saveCurrentNavigationUrl(){let t=this.router.getCurrentNavigation();if(!t?.finalUrl)return;let n=this.router.serializeUrl(t.finalUrl);this.setRedirectUrl(n)}setRedirectUrl(t){this.authFlowRoutesService.isAuthFlow(t)||this.authRedirectStorageService.setRedirectUrl(t)}clearRedirectUrl(){this.authRedirectStorageService.setRedirectUrl(void 0)}static{this.\u0275fac=function(n){return new(n||e)(d(Mi),d(Ce),d(Nx),d(D3))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function un(e){return typeof e<"u"}function ca(e){return un(e)&&e!==null}function Su(e,r){return e.context&&e.context[r]||[]}function ei(e,r){let t=Su(e,r);return t&&t.length?t[0]:void 0}var Oo="language",xo="currency",ti="baseSite",Ox="theme",PD="[Site-context] Load BaseSite",xx="[Site-context] Load BaseSite Fail",FD="[Site-context] Load BaseSite Success",LD="[Site-context] Load BaseSites",Px="[Site-context] Load BaseSites Fail",kD="[Site-context] Load BaseSites Success",UD="[Site-context] Set Active BaseSite",Fx="[Site-context] BaseSite Change",_I=class{constructor(){this.type=PD}},Fh=class{constructor(r){this.payload=r,this.type=xx,this.error=r}},Lh=class{constructor(r){this.payload=r,this.type=FD}},kh=class{constructor(){this.type=LD}},Uh=class{constructor(r){this.payload=r,this.type=Px,this.error=r}},jh=class{constructor(r){this.payload=r,this.type=kD}},$h=class{constructor(r){this.payload=r,this.type=UD}},MI=class{constructor(){this.type=Fx}},jD="[Site-context] Load Currencies",Lx="[Site-context] Load Currencies Fail",$D="[Site-context] Load Currencies Success",wm="[Site-context] Set Active Currency",Po="[Site-context] Currency Change",Bh=class{constructor(){this.type=jD}},Vh=class{constructor(r){this.payload=r,this.type=Lx,this.error=r}},Hh=class{constructor(r){this.payload=r,this.type=$D}},zh=class{constructor(r){this.payload=r,this.type=wm}},Gh=class{constructor(r){this.payload=r,this.type=Po}},BD="[Site-context] Load Languages",kx="[Site-context] Load Languages Fail",VD="[Site-context] Load Languages Success",bm="[Site-context] Set Active Language",ln="[Site-context] Language Change",Wh=class{constructor(){this.type=BD}},qh=class{constructor(r){this.payload=r,this.type=kx,this.error=r}},Yh=class{constructor(r){this.payload=r,this.type=VD}},Kh=class{constructor(r){this.payload=r,this.type=bm}},Zh=class{constructor(r){this.payload=r,this.type=ln}},rhe=Object.freeze({__proto__:null,BASE_SITE_CHANGE:Fx,BaseSiteChange:MI,CURRENCY_CHANGE:Po,CurrencyChange:Gh,LANGUAGE_CHANGE:ln,LOAD_BASE_SITE:PD,LOAD_BASE_SITES:LD,LOAD_BASE_SITES_FAIL:Px,LOAD_BASE_SITES_SUCCESS:kD,LOAD_BASE_SITE_FAIL:xx,LOAD_BASE_SITE_SUCCESS:FD,LOAD_CURRENCIES:jD,LOAD_CURRENCIES_FAIL:Lx,LOAD_CURRENCIES_SUCCESS:$D,LOAD_LANGUAGES:BD,LOAD_LANGUAGES_FAIL:kx,LOAD_LANGUAGES_SUCCESS:VD,LanguageChange:Zh,LoadBaseSite:_I,LoadBaseSiteFail:Fh,LoadBaseSiteSuccess:Lh,LoadBaseSites:kh,LoadBaseSitesFail:Uh,LoadBaseSitesSuccess:jh,LoadCurrencies:Bh,LoadCurrenciesFail:Vh,LoadCurrenciesSuccess:Hh,LoadLanguages:Wh,LoadLanguagesFail:qh,LoadLanguagesSuccess:Yh,SET_ACTIVE_BASE_SITE:UD,SET_ACTIVE_CURRENCY:wm,SET_ACTIVE_LANGUAGE:bm,SetActiveBaseSite:$h,SetActiveCurrency:zh,SetActiveLanguage:Kh}),HD="siteContext",Cu=wn(HD),w3=e=>e.entities,b3=T(Cu,e=>e.baseSite),IO=T(Cu,e=>e&&e.baseSite&&e.baseSite.activeSite),ihe=T(Cu,e=>e&&e.baseSite&&e.baseSite.details),T3=T(b3,w3),R3=T(T3,e=>e?Object.keys(e).map(r=>e[r]):null),A3=e=>e.entities,_3=e=>e.activeCurrency,Ux=T(Cu,e=>e.currencies),M3=T(Ux,A3),NI=T(Ux,_3),N3=T(M3,e=>e?Object.keys(e).map(r=>e[r]):null),O3=e=>e.activeLanguage,x3=e=>e.entities,jx=T(Cu,e=>e.languages),P3=T(jx,x3),OI=T(jx,O3),F3=T(P3,e=>e?Object.keys(e).map(r=>e[r]):null);var Fo=(()=>{class e{constructor(t,n){this.store=t,this.config=n}getActive(){return this.store.pipe(A(IO),R(t=>!!t))}getAll(){return this.store.pipe(A(R3),F(t=>{t||this.store.dispatch(new kh)}),R(ca))}get(t){return t?this.getAll().pipe(S(n=>n.find(i=>i.uid===t))):this.getActive().pipe(_(n=>this.getAll().pipe(S(i=>i.find(o=>o.uid===n)))))}setActive(t){this.store.pipe(A(IO),q(1)).subscribe(n=>{t&&n!==t&&this.store.dispatch(new $h(t))})}isInitialized(){let t=!1;return this.getActive().subscribe(()=>t=!0).unsubscribe(),t}isValid(t){return!!t&&Su(this.config,ti).includes(t)}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(ri))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),L3=(()=>{class e{constructor(t){this.baseSiteService=t,this.MULTISITE_SEPARATOR="|"}getBaseSiteDecorator(){return this.baseSiteService.get().pipe(q(1),S(t=>t?.isolated?this.MULTISITE_SEPARATOR+t?.uid:""))}decorateUserId(t){return this.getBaseSiteDecorator().pipe(S(n=>t+n))}static{this.\u0275fac=function(n){return new(n||e)(d(Fo))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),er=(()=>{class e{constructor(t,n,i,o,s,a,c){this.store=t,this.userIdService=n,this.oAuthLibWrapperService=i,this.authStorageService=o,this.authRedirectService=s,this.routingService=a,this.authMultisiteIsolationService=c,this.refreshInProgress$=new me(!1),this.logoutInProgress$=new me(!1)}checkOAuthParamsInUrl(){return at(this,null,function*(){try{let t=yield this.oAuthLibWrapperService.tryLogin(),n=this.authStorageService.getItem("access_token");t.result&&n&&(this.userIdService.setUserId(ta),this.store.dispatch(new ra),t.tokenReceived&&this.authRedirectService.redirect())}catch{}})}loginWithRedirect(){return this.oAuthLibWrapperService.initLoginFlow(),!0}loginWithCredentials(t,n){return at(this,null,function*(){let i=t;this.authMultisiteIsolationService&&(i=yield cr(this.authMultisiteIsolationService.decorateUserId(i)));try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(i,n),this.userIdService.setUserId(ta),this.store.dispatch(new ra),this.authRedirectService.redirect()}catch{}})}otpLoginWithCredentials(t,n){return at(this,null,function*(){try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(t,n),this.userIdService.setUserId(ta),this.store.dispatch(new ra),this.authRedirectService.redirect()}catch{}})}coreLogout(){return this.setLogoutProgress(!0),this.userIdService.clearUserId(),new Promise(t=>{this.oAuthLibWrapperService.revokeAndLogout().finally(()=>{this.store.dispatch(new Ph),this.setLogoutProgress(!1),t()})})}isUserLoggedIn(){return this.authStorageService.getToken().pipe(S(t=>!!t?.access_token),gn())}logout(){this.routingService.go({cxRoute:"logout"})}setRefreshProgress(t){this.refreshInProgress$.next(t)}setLogoutProgress(t){this.logoutInProgress$.next(t)}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(Xn),d(Tx),d(yu),d(xD),d(Mi),d(L3))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Iu=(()=>{class e{constructor(t,n){this.store=t,this.authService=n}loadTemplates(){this.store.dispatch(new Mh)}getTemplates(t=!1){return Ra(()=>t,this.store.pipe(A(bI),Xe(this.getLoadTemplatesLoading()),R(([n,i])=>!i),F(([n,i])=>{n||this.loadTemplates()}),R(([n,i])=>!!n),S(([n,i])=>n)),this.store.pipe(A(bI)))}getTemplate(t){return this.store.pipe(A(u3(t)))}getLoadTemplatesLoading(){return this.store.pipe(A(s3))}getLoadTemplatesSuccess(){return this.store.pipe(A(a3))}getLoadTemplatesError(){return this.store.pipe(A(c3))}resetLoadTemplatesState(){this.store.dispatch(new EI)}getConsents(){return this.store.pipe(A(bx))}setConsents(t){return this.store.dispatch(new SI(t))}getConsent(t){return this.authService.isUserLoggedIn().pipe(R(n=>!n),F(()=>this.getTemplates(!0)),_(()=>this.store.pipe(A(f3(t)))))}giveConsent(t){this.store.dispatch(new CI(t))}giveAllConsents(){return this.getTemplates(!0).pipe(F(t=>t.forEach(n=>{n.id&&this.giveConsent(n.id)})))}isConsentGiven(t){return(t&&t.consentState===aa.GIVEN)??!1}withdrawConsent(t){this.store.dispatch(new II(t))}withdrawAllConsents(){return this.getTemplates(!0).pipe(F(t=>t.forEach(n=>{n.id&&this.withdrawConsent(n.id)})))}isConsentWithdrawn(t){return t&&t.consentState===aa.WITHDRAWN}toggleBannerDismissed(t){this.store.dispatch(new DI(t)),t&&this.toggleTemplatesUpdated(!1)}isBannerDismissed(){return this.store.pipe(A(d3))}getTemplatesUpdated(){return this.getTemplates(!0).pipe(_(()=>this.store.pipe(A(l3))))}toggleTemplatesUpdated(t){this.store.dispatch(new xh(t))}isBannerVisible(){return Ae([this.isBannerDismissed(),this.getTemplatesUpdated()]).pipe(F(()=>this.checkConsentVersions()),S(([t,n])=>!t||n))}checkConsentVersions(){this.store.dispatch(new wI)}detectUpdatedTemplates(t,n){if(n.length!==t.length)return!0;for(let i=0;i<n.length;i++){let o=n[i],s=t[i];if(o.version!==s.version)return!0}return!1}serializeAndEncode(t){if(!t)return"";let n=JSON.stringify(t);return encodeURIComponent(n)}decodeAndDeserialize(t){let n=decodeURIComponent(t);return n.length>0?JSON.parse(n):[]}consentsUpdated(t,n){let i=this.serializeAndEncode(t),o=this.serializeAndEncode(n);return i!==o}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(er))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),xI="cx-use-client-token",ohe="cx-use-csagent-token",she="sap-commerce-cloud-captcha-token",iu=class{static createHeader(r,t,n){return n?n.append(r,JSON.stringify(t)):(n=new ae().set(r,JSON.stringify(t)),n)}static removeHeader(r,t){let n=t.headers.delete(r);return t.clone({headers:n})}static getInterceptorParam(r,t){let n=t.get(r);if(n)return JSON.parse(n)}},$x="client-auth",Tm="[Client auth] Client Token Data",Bx="[Token] Load Client Token",k3="[Token] Load Client Token Fail",U3="[Token] Load Client Token Success",Qh=class extends rt{constructor(){super(Tm),this.type=Bx}},PI=class extends it{constructor(r){super(Tm,r),this.payload=r,this.type=k3}},FI=class extends ot{constructor(r){super(Tm),this.payload=r,this.type=U3}};var j3=wn($x),DO=T(j3,e=>e.clientToken);var Vx=(()=>{class e{constructor(t){this.store=t}getClientToken(){return this.store.pipe(A(DO),hn(ui),R(t=>this.isClientTokenLoaded(t)?!0:(t.loading||this.store.dispatch(new Qh),!1)),S(t=>t.value))}refreshClientToken(){return this.store.dispatch(new Qh),this.store.pipe(A(DO),R(t=>this.isClientTokenLoaded(t)),S(t=>t.value),R(un))}isClientTokenLoaded(t){return!!((t.success||t.error)&&!t.loading)}static{this.\u0275fac=function(n){return new(n||e)(d(ie))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$3=(()=>{class e{constructor(t){this.clientTokenService=t}handleExpiredClientToken(t,n){return this.clientTokenService.refreshClientToken().pipe(q(1),_(i=>n.handle(this.createNewRequestWithNewToken(t,i))))}createNewRequestWithNewToken(t,n){return t=t.clone({setHeaders:{Authorization:`${n.token_type||"Bearer"} ${n.access_token}`}}),t}static{this.\u0275fac=function(n){return new(n||e)(d(Vx))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),LI=class{static resolve(r,t,n){for(let i of Object.keys(t)){let o=new RegExp("\\${"+i+"}","g");r=r.replace(o,n?encodeURIComponent(t[i]):t[i])}return r}},kI=class{encodeKey(r){return encodeURIComponent(r)}encodeValue(r){return encodeURIComponent(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}},nu="default";function wO(...e){let r=[];e=e.filter(t=>!!t);for(let t of e)r.push(B3(t));return e[0]?.startsWith("/")&&(r[0]="/"+r[0]),e[e.length-1]?.endsWith("/")&&(r[r.length-1]=r[r.length-1]+"/"),r.join("/")}function B3(e){return e=e.startsWith("/")?e.slice(1):e,e=e.endsWith("/")?e.slice(0,-1):e,e}var Fe=(()=>{class e{get activeBaseSite(){return this._activeBaseSite??ei(this.config,ti)}constructor(t,n){this.config=t,this.baseSiteService=n,this.logger=y(W),this.baseSiteService&&this.baseSiteService.getActive().subscribe(i=>this._activeBaseSite=i)}getRawEndpointValue(t,n){return this.getEndpointForScope(t,n)}isConfigured(t,n){return!(typeof this.getEndpointFromConfig(t,n)>"u")}getBaseUrl(t={baseUrl:!0,prefix:!0,baseSite:!0}){let n=t.baseUrl===!1?"":this.config?.backend?.occ?.baseUrl??"",i=t.prefix===!1?"":this.getPrefix(),o=t.baseSite===!1?"":this.activeBaseSite;return wO(n,i,o)}buildUrl(t,n,i){let o=this.getEndpointForScope(t,n?.scope);if(n){let{urlParams:s,queryParams:a}=n;if(s&&(o=LI.resolve(o,s,!0)),a){let c={encoder:new kI};if(o.includes("?")){let f;[o,f]=o.split("?"),c=w(v({},c),{fromString:f})}let l=this.getHttpParamsFromQueryParams(a,c).toString();l.length&&(o+="?"+l)}}return this.buildUrlFromEndpointString(o,i)}getHttpParamsFromQueryParams(t,n){let i=new Oe(n);return Object.keys(t).forEach(o=>{let s=t[o];s!==void 0&&(s===null?i=i.delete(o):i=i.set(o,s))}),i}getEndpointFromConfig(t,n){let i=this.config.backend?.occ?.endpoints;if(!i)return;let o=i[t];return n?n===nu&&typeof o=="string"?o:o?.[n]:typeof o=="string"?o:o?.[nu]}getEndpointForScope(t,n){let i=this.config.backend?.occ?.endpoints;if(!i)return"";let o=i[t];if(n){if(o?.[n])return o?.[n];if(n===nu&&typeof o=="string")return o;le()&&this.logger.warn(`${t} endpoint configuration missing for scope "${n}"`)}return(typeof o=="string"?o:o?.[nu])||t}buildUrlFromEndpointString(t,n){return wO(this.getBaseUrl(n),t)}getPrefix(){return this.config?.backend?.occ?.prefix&&!this.config.backend.occ.prefix.startsWith("/")?"/"+this.config.backend.occ.prefix:this.config?.backend?.occ?.prefix??""}static{this.\u0275fac=function(n){return new(n||e)(d(Ar),d(Fo,8))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),V3=(()=>{class e{constructor(t,n,i){this.clientTokenService=t,this.clientErrorHandlingService=n,this.occEndpoints=i}intercept(t,n){let i=this.isClientTokenRequest(t);return i&&(t=iu.removeHeader(xI,t)),this.getClientToken(i).pipe(q(1),_(o=>(o?.access_token&&t.url.includes(this.occEndpoints.getBaseUrl())&&(t=t.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),n.handle(t).pipe(M(s=>{if(s instanceof ut&&s.status===401&&i&&this.isExpiredToken(s))return this.clientErrorHandlingService.handleExpiredClientToken(t,n);throw s})))))}getClientToken(t){return t?this.clientTokenService.getClientToken():D(void 0)}isClientTokenRequest(t){return!!iu.getInterceptorParam(xI,t.headers)}isExpiredToken(t){return t.error?.errors?.[0]?.type==="InvalidTokenError"}static{this.\u0275fac=function(n){return new(n||e)(d(Vx),d($3),d(Fe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),H3=[{provide:Zt,useExisting:V3,multi:!0}],ia=function(e){return e.NO_STORAGE="NO_STORAGE",e.LOCAL_STORAGE="LOCAL_STORAGE",e.SESSION_STORAGE="SESSION_STORAGE",e}(ia||{}),Lo=function(e){return e.TRANSFER_STATE="SSR",e}(Lo||{});var _r=function(e){return e[e.FALLBACK=-50]="FALLBACK",e[e.LOW=-10]="LOW",e[e.NORMAL=0]="NORMAL",e[e.HIGH=10]="HIGH",e}(_r||{});function zD(e,r=[],t=[]){let n=(e??[]).filter(o=>!o.hasMatch||o.hasMatch(...r));if(n.length<2)return n[0];let i=-1/0;return n.reduce((o,s)=>{let a=s.getPriority?s.getPriority(...t):_r.NORMAL;return i>a?o:(i=a,s)},void 0)}var UI=class{},wo=function(e){return e[e.Parallel=0]="Parallel",e[e.Queue=1]="Queue",e[e.CancelPrevious=2]="CancelPrevious",e[e.ErrorPrevious=3]="ErrorPrevious",e}(wo||{}),Hx=(()=>{class e{constructor(){this.subscriptions=new de}create(t,n){let i=new oe,o=new oe,s=u=>({next:l=>u.next(l),error:l=>u.error(l),complete:()=>u.complete()}),a;switch(n?.strategy){case wo.CancelPrevious:case wo.ErrorPrevious:a=ji(i,o).pipe(_(([u,l])=>je(()=>t(u)).pipe(F(s(l)),M(()=>ce),On(()=>{!l.closed&&!l.hasError&&(n.strategy===wo.ErrorPrevious?l.error(new Error("Canceled by next command")):l.complete())}))));break;case wo.Parallel:a=ji(i,o).pipe($(([u,l])=>je(()=>t(u)).pipe(F(s(l)),M(()=>ce))));break;case wo.Queue:default:a=ji(i,o).pipe(Te(([u,l])=>je(()=>t(u)).pipe(F(s(l)),M(()=>ce))));break}return this.subscriptions.add(a.subscribe()),new class extends UI{constructor(){super(...arguments),this.execute=u=>{let l=new Lt;return o.next(l),i.next(u),l}}}}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ai(e,r){return Object.assign(new e,r)}var ni=(()=>{class e{static{this.type="CxEvent"}}return e})(),jI=class{constructor(){this.sources=[],this.subscriptionsToSources=new Map,this.output$=new V(r=>(this.consumer=r,this.bindAllSourcesToConsumer(r),()=>{this.consumer=null,this.unbindAllSourcesFromConsumer()})).pipe(ki()),this.consumer=null}add(r){this.has(r)||(this.consumer&&this.bindSourceToConsumer(r,this.consumer),this.sources.push(r))}bindAllSourcesToConsumer(r){this.sources.forEach(t=>this.bindSourceToConsumer(t,r))}unbindAllSourcesFromConsumer(){this.sources.forEach(r=>this.unbindSourceFromConsumer(r))}bindSourceToConsumer(r,t){let n=r.subscribe(i=>t.next(i));this.subscriptionsToSources.set(r,n)}unbindSourceFromConsumer(r){let t=this.subscriptionsToSources.get(r);t!==void 0&&(t.unsubscribe(),this.subscriptionsToSources.delete(r))}remove(r){this.unbindSourceFromConsumer(r);let t;(t=this.sources.findIndex(n=>n===r))!==-1&&this.sources.splice(t,1)}has(r){return this.sources.includes(r)}},ko=(()=>{class e{constructor(){this.logger=y(W),this.eventsMeta=new Map}register(t,n){let i=this.getEventMeta(t);return i.mergingSubject.has(n)?le()&&this.logger.warn("EventService: the event source",n,"has been already registered for the type",t):i.mergingSubject.add(n),()=>i.mergingSubject.remove(n)}get(t){let n=this.getEventMeta(t).mergingSubject.output$;return le()&&(n=this.getValidatedEventStream(n,t)),n}dispatch(t,n){n?t instanceof n||(t=Ai(n,t)):n=t.constructor,this.getInputSubject(n).next(t)}getInputSubject(t){let n=this.getEventMeta(t);return n.inputSubject$||(n.inputSubject$=new oe,this.register(t,n.inputSubject$)),n.inputSubject$}getEventMeta(t){return this.eventsMeta.get(t)||(le()&&this.validateEventType(t),this.createEventMeta(t)),this.eventsMeta.get(t)}createEventMeta(t){let n={inputSubject$:null,mergingSubject:new jI};this.eventsMeta.set(t,n);let i=Object.getPrototypeOf(t);for(;i!==null&&Object.getPrototypeOf(i)!==Object.getPrototypeOf({});)this.register(i,n.mergingSubject.output$),i=Object.getPrototypeOf(i)}validateEventType(t){if(!t?.constructor)throw new Error(`EventService:  ${t} is not a valid event type. Please provide a class reference.`);this.validateCxEvent(t)}validateCxEvent(t){let n=t;for(;n!==null&&Object.getPrototypeOf(n)!==Object.getPrototypeOf({});){if(n.type===ni.type)return;n=Object.getPrototypeOf(n)}this.logger.warn(`The ${t.name} (or one of its parent classes) does not inherit from the ${ni.type}`)}getValidatedEventStream(t,n){return t.pipe(F(i=>{i instanceof n||this.logger.warn("EventService: The stream",t,"emitted the event",i,"that is not an instance of the declared type",n.name)}))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ahe=(()=>{class e{constructor(t){this.eventService=t,this.subscriptions=new de}create(t,n){let i={data:void 0,error:!1,loading:!0},o=new me(i),s=Ra(()=>o.value.loading,D(void 0),ce),a=this.getTriggersStream([s,...n?.reloadOn??[],...n?.resetOn??[]]),c=this.getTriggersStream(n?.resetOn??[]),u=this.getTriggersStream(n?.reloadOn??[]),l=t().pipe(Vi(c)),f=a.pipe(F(()=>{o.value.loading||o.next(w(v({},o.value),{loading:!0}))}),_(()=>l),F(E=>{o.next({loading:!1,error:!1,data:E})}),M((E,I)=>(o.next({loading:!1,error:E,data:void 0}),I)),ki());n?.reloadOn?.length&&this.subscriptions.add(u.subscribe(()=>{o.value.loading||o.next(w(v({},o.value),{loading:!0}))})),n?.resetOn?.length&&this.subscriptions.add(c.subscribe(()=>{(o.value.data!==void 0||o.value.error!==!1||o.value.loading!==!1)&&o.next(i)}));let h=di(()=>f.subscribe(),()=>o),p=h.pipe(S(E=>E.data),gn());return{get:()=>p,getState:()=>h}}getTriggersStream(t){if(!t.length)return ce;let n=t.map(i=>Ui(i)?i:this.eventService.get(i));return pn(...n)}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(d(ko))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Xh(e){let r;return e.subscribe(t=>r=t).unsubscribe(),r}var Ih={},$I=class{constructor(r,t){this.mainInjector=r,this.complementaryInjectors=t}get(r,t,n){if(n&&n.self){if(t!==void 0)return t;throw new Error("CombinedInjector should be used as a parent injector / doesn't support self dependencies")}for(let i of this.complementaryInjectors){let o=i.get(r,Ih,{self:!0});if(o!==Ih)return o}for(let i of this.complementaryInjectors){let o=i.get(r,Ih);if(o!==Ih)return o}return this.mainInjector.get(r,t)}},eI=(()=>{class e extends ni{static{this.type="ModuleInitializedEvent"}}return e})(),zx=new C("MODULE_INITIALIZER"),GD=(()=>{class e{constructor(t,n,i){this.compiler=t,this.injector=n,this.events=i,this.logger=y(W),this.modules$=yl(this.events.get(eI).pipe(S(o=>o.moduleRef)),{connector:()=>new Lt,resetOnDisconnect:!1}),this.dependencyModules=new Map,this.eventSubscription=this.modules$.connect()}resolveModuleInstance(t,n,i=[]){let o;return i.length?i.length===1?o=i[0].injector:o=new $I(this.injector,i.map(s=>s.injector)):o=this.injector,this.resolveModuleFactory(t).pipe(S(([s])=>s.create(o)),Te(s=>this.runModuleInitializersForModule(s)),F(s=>this.events.dispatch(Ai(eI,{feature:n,moduleRef:s}))))}resolveDependencyModuleInstance(t){return this.resolveModuleFactory(t).pipe(S(([n,i])=>{if(!this.dependencyModules.has(i)){let o=n.create(this.injector);this.dependencyModules.set(i,o)}return this.dependencyModules.get(i)}),Te(n=>this.runModuleInitializersForModule(n)),F(n=>this.events.dispatch(Ai(eI,{moduleRef:n}))))}runModuleInitializersForModule(t){let n=t.injector.get(zx,[],{self:!0}),i=this.runModuleInitializerFunctions(n);return i.length?ue(Promise.all(i)).pipe(F({error:o=>{this.logger.error("MODULE_INITIALIZER promise was rejected while lazy loading a module.",o)}}),_(()=>D(t))):D(t)}runModuleInitializerFunctions(t){let n=[];try{if(t)for(let i=0;i<t.length;i++){let o=t[i]();this.isObjectPromise(o)&&n.push(o)}return n}catch(i){throw this.logger.error("MODULE_INITIALIZER init function throwed an error. ",i),i}}isObjectPromise(t){return!!t&&typeof t.then=="function"}resolveModuleFactory(t){return ue(t()).pipe(_(n=>n instanceof oc?D([n,n]):Ae([ue(this.compiler.compileModuleAsync(n)),D(n)])),hn(ui))}ngOnDestroy(){this.eventSubscription&&this.eventSubscription.unsubscribe(),this.dependencyModules.forEach(t=>t.destroy())}static{this.\u0275fac=function(n){return new(n||e)(d(Vd),d(ve),d(ko))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),bO={},Du=(()=>{class e{constructor(t,n){this.rootInjector=t,this.lazyModules=n,this.injectors$=this.lazyModules.modules$.pipe(S(i=>i.injector),ar(this.rootInjector))}get(t,n){return this.injectors$.pipe(S((i,o)=>i.get(t,n??bO,o?{self:!0}:void 0)),R(i=>i!==bO))}getMulti(t){return this.get(t,[]).pipe(R(n=>{if(!Array.isArray(n))throw new Error(`Multi-providers mixed with single providers for ${t.toString()}!`);return n.length>0}),Bi((n,i)=>[...n,...i],[]))}static{this.\u0275fac=function(n){return new(n||e)(d(ve),d(GD))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),He=(()=>{class e{constructor(t){this.unifiedInjector=t,this.subscriptions=new de,this.converters=new Map;let n=this.unifiedInjector.injectors$.pipe(F(()=>this.converters.clear()));this.subscriptions.add(n.subscribe())}getConverters(t){if(!this.converters.has(t)){let n=Xh(this.unifiedInjector.getMulti(t));n&&this.converters.set(t,n)}return this.converters.get(t)}hasConverters(t){let n=this.getConverters(t);return Array.isArray(n)&&n.length>0}pipeable(t){return this.hasConverters(t)?S(n=>this.convertSource(n,t)):n=>n}pipeableMany(t){return this.hasConverters(t)?S(n=>this.convertMany(n,t)):n=>n}convert(t,n){return this.hasConverters(n)?this.convertSource(t,n):t}convertMany(t,n){return this.hasConverters(n)&&Array.isArray(t)?t.map(i=>this.convertSource(i,n)):t}convertSource(t,n){return this.getConverters(n)?.reduce((i,o)=>o.convert(t,i),void 0)}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(d(Du))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),z3="[^/]",G3="[^/]*",W3="(?:.+\\/)?",Gx=[{replace:/\./g,with:"\\."},{replace:/\+/g,with:"\\+"},{replace:/\*/g,with:G3}],q3=[...Gx,{replace:/\?/g,with:z3}],Y3=[...Gx,{replace:/\?/g,with:"\\?"}];function K3(e,r=!1){let t=r?Y3:q3,n=e.split("/").reverse(),i="";for(;n.length>0;){let o=n.pop();if(o==="**")n.length>0?i+=W3:i+=".*";else{let s=t.reduce((a,c)=>a?.replace(c.replace,c.with),o);i+=s,n.length>0&&(i+="\\/")}}return i}function Z3(e){return e.map(r=>{let t=!r.startsWith("!");return r=t?r:r.substring(1),{positive:t,regex:`^${K3(r)}$`}})}var Q3=(()=>{class e{getValidator(t){let n=Z3(t).map(({positive:s,regex:a})=>({positive:s,regex:new RegExp(a)})),i=n.filter(s=>s.positive),o=n.filter(s=>!s.positive);return s=>i.some(a=>a.regex.test(s))&&!o.some(a=>a.regex.test(s))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),X3=(()=>{class e{constructor(){this.logger=y(W),this.EXTRACT_JAVA_REGEXP_MODIFIERS=/^(\(\?([a-z]+)\))?(.*)/}toJsRegExp(t){let n=t.match(this.EXTRACT_JAVA_REGEXP_MODIFIERS);if(!n)return null;let[,,i,o]=n;try{return new RegExp(o,i)}catch(s){return le()&&this.logger.warn(`WARNING: Could not convert Java regexp into Javascript. Original regexp: ${t} 
Message: ${s}`),null}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ke(e,r){if(e instanceof ru)return e;if(e instanceof ut){let t=new ru;return t.message=e.message,t.status=e.status,t.statusText=e.statusText,t.url=e.url,Array.isArray(e.error.errors)?t.details=e.error.errors:typeof e.error.error=="string"&&(t.details=[{type:e.error.error,message:e.error.error_description}]),t}le()&&r.error("Error passed to normalizeHttpError is not HttpErrorResponse instance",e)}var ou=class{static shallowEqualObjects(r,t){if(r===t)return!0;if(!r||!t)return!1;let n=Object.keys(r),i=Object.keys(t),o=n.length,s=i.length;if(o!==s)return!1;for(let a=0;a<o;a++){let c=n[a];if(r[c]!==t[c])return!1}return!0}static deepEqualObjects(r,t){return r===t?!0:!(r instanceof Object)||!(t instanceof Object)||r.constructor!==t.constructor?!1:this.compareObjectProperties(r,t)}static compareObjectProperties(r,t){for(let n in r)if(r.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(r[n]!==t[n]&&(typeof r[n]!="object"||!this.deepEqualObjects(r[n],t[n])))return!1}for(let n in t)if(t.hasOwnProperty(n)&&!r.hasOwnProperty(n))return!1;return!0}static countOfDeepEqualObjects(r,t){return t.reduce((n,i)=>(this.deepEqualObjects(r,i)&&n++,n),0)}static indexOfFirstOccurrence(r,t){for(let n=0;n<t.length;n++)if(this.deepEqualObjects(t[n],r))return n}},J3=function(e){return e.NOT_FOUND_ERROR="NotFoundError",e.CLASS_MISMATCH_ERROR="ClassMismatchError",e}(J3||{}),eq=function(e){return e.NOT_FOUND_ERROR="notFound",e}(eq||{});function che(e){return e.details?.[0]?.type==="JaloObjectNoLongerValidError"}function uhe(e){return!!e?.status&&e.status>=500&&e.status<=511}function lhe(e){return!!e?.status&&e.status===401}var dhe=2,fhe=2,hhe=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,phe=/^(?=.*?[A-Z])(?=.*?\d)(?=.*?[!@#$%^*()_\-+{};:.,]).{6,}$/,ghe=/^(?=.*?[A-Z]).*$/,mhe=/^(?=.*?\d).*$/,vhe=/^(?=.*?[!@#$%^*()_\-+{};:.,]).*$/,yhe=/^.{6,}$/,Ehe=/^.{8,}$/,She=/^.{0,128}$/,Che=/(.)\1+/,Ihe=/^(?!.*(.)\1)(?=.*?[A-Z])(?=.*?\d)(?=.*?[!@#$%^*()_\-+{};:.,]).{6,}$/,Dhe=/^(?!.*(.)\1)(?=.*?[A-Z])(?=.*?\d)(?=.*?[!@#$%^*()_\-+{};:.,]).{8,128}$/;function whe(e){let r=e?.shouldRetry??(()=>!0),t=e?.maxTries??3,n=e?.delay??300;return i=>i.pipe(gv({delay:(o,s)=>{if(s>t||!r(o))throw o;let a=s*s;return nn(a*n)}}))}function Wx(e){return je(()=>{let r=0,t=new V(n=>{let i=()=>{n.next(),n.complete()};r?av.schedule(i):i(),r++});return Ae(e).pipe(Aa(()=>t))})}function wu(e){return r=>e.pipe(ar(void 0),_(()=>r))}function bhe(e){return Ui(e)?e:tq(e)?ue(Promise.resolve(e)):D(e)}function tq(e){return!!e&&typeof e.then=="function"}var BI=function(e){return e.HEAD="head",e.BODY="body",e}(BI||{}),The=(()=>{class e{constructor(t,n){this.document=t,this.platformId=n}embedScript(t){let{src:n,params:i,attributes:o,callback:s,errorCallback:a,placement:c=BI.HEAD,disableKeyRestriction:u}=t,l=lo(this.platformId);if((s||a)&&l)return;let f=i?n+this.parseParams(i):n;if(!l&&this.hasScript(f))return;let h=this.document.createElement("script");h.src=f,h.async=!0,h.defer=!0,o&&Object.keys(o).forEach(p=>{p.startsWith("data-")||u&&!(p in h)?h.setAttribute(p,o[p]):h[p]=o[p]}),s&&h.addEventListener("load",s),a&&h.addEventListener("error",a),c===BI.HEAD?this.document.head.appendChild(h):this.document.body.appendChild(h)}hasScript(t){return!!this.document.querySelector(`script[src="${t}"]`)}parseParams(t){let n="",i=Object.keys(t);return i.length>0&&(n="?"+i.map(o=>encodeURI(o)+"="+encodeURI(t[o])).join("&")),n}static{this.\u0275fac=function(n){return new(n||e)(d(ye),d(tt))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var TO=class e{static getLocalTimezoneOffset(r){let t=new Date().getTimezoneOffset()*-1,n=Math.abs(Math.floor(t/60)).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return`${t>=0?r?"-":"+":r?"+":"-"}${n}:${i}`}static convertDateToDatetime(r,t){return`${r}T${t?"23:59:59":"00:00:00"}${e.getLocalTimezoneOffset()}`}static convertDatetimeToDate(r){return new Date(`${r.substring(0,19)}${e.getLocalTimezoneOffset(!0)}`).toISOString().substring(0,10)}};function te(e,r){return Ke(e,r)??e}function RO(e){if(["__proto__","constructor","prototype"].includes(e))throw new Error("Invalid object property name: potential prototype pollution risk")}function AO(e,r){let t;switch(e){case ia.LOCAL_STORAGE:{t=r.localStorage;break}case ia.SESSION_STORAGE:{t=r.sessionStorage;break}case ia.NO_STORAGE:{t=void 0;break}default:t=r.sessionStorage}return t}function nq(e,r,t){!qx(t)&&un(r)&&t.setItem(e,JSON.stringify(r))}function _O(e,r){if(qx(e))return;let t=e.getItem(r);if(t)return JSON.parse(t)}function qx(e){return!e}var bu=(()=>{class e{constructor(t){this.winRef=t}syncWithStorage({key:t,state$:n,context$:i=D(""),storageType:o=ia.LOCAL_STORAGE,onRead:s=()=>{}}){let a=AO(o,this.winRef),c=new de;return c.add(i.pipe(S(u=>a?_O(a,this.generateKeyWithContext(u,t)):void 0),F(u=>s(u))).subscribe()),a&&c.add(n.pipe(Xe(i)).subscribe(([u,l])=>{nq(this.generateKeyWithContext(l,t),u,a)})),c}readStateFromStorage({key:t,context:n="",storageType:i=ia.LOCAL_STORAGE}){let o=AO(i,this.winRef);if(o)return _O(o,this.generateKeyWithContext(n,t))}generateKeyWithContext(t,n){return`spartacus\u26BF${[].concat(t).join("\u26BF")}\u26BF${n}`}static{this.\u0275fac=function(n){return new(n||e)(d(Jn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Yx=(()=>{class e{constructor(t,n,i,o){this.statePersistenceService=t,this.userIdService=n,this.authStorageService=i,this.authRedirectStorageService=o,this.subscription=new de,this.key="auth"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:t=>this.onRead(t)}))}getAuthState(){return Ae([this.authStorageService.getToken().pipe(R(t=>!!t),S(t=>v({},t))),this.userIdService.getUserId(),this.authRedirectStorageService.getRedirectUrl()]).pipe(S(([t,n,i])=>{let o=t;return o&&(o=v({},o),delete o.refresh_token),{token:o,userId:n,redirectUrl:i}}))}onRead(t){t?.token&&this.authStorageService.setToken(t.token),t?.redirectUrl&&this.authRedirectStorageService.setRedirectUrl(t.redirectUrl),t?.userId?this.userIdService.setUserId(t.userId):this.userIdService.clearUserId()}readStateFromStorage(){return this.statePersistenceService.readStateFromStorage({key:this.key})}isUserLoggedIn(){return!!this.readStateFromStorage()?.token?.access_token}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(d(bu),d(Xn),d(yu),d(Nx))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),VI="cx-state";function rq(e,r,t,n){if(r&&t?.state?.ssrTransfer?.keys){if(Bn(e))return oq(r,t.state.ssrTransfer.keys,!!n?.isUserLoggedIn());if(lo(e))return iq(r,t.state.ssrTransfer.keys)}return i=>i}function iq(e,r){let t=gx(r,Lo.TRANSFER_STATE);return function(n){return function(i,o){let s=n(i,o);if(s){let a=MD(t,[],s);e.set(VI,a)}return s}}}function oq(e,r,t){let n=gx(r,Lo.TRANSFER_STATE);return function(i){return function(o,s){if(s.type===Cf){if(o||(o=i(o,s)),!t&&e.hasKey(VI)){let a=e.get(VI,{}),c=MD(n,[],a);o=ft({},o,c)}return o}return i(o,s)}}}var MO=new C("TransferStateMetaReducer"),sq=[{provide:MO,useFactory:rq,deps:[tt,[new mr,NE],[new mr,ht],[new mr,Yx]]},{provide:Os,useExisting:MO,multi:!0}],ii=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...sq]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})(),aq=(()=>{class e{constructor(t,n){this.http=t,this.authConfigService=n}loadClientAuthenticationToken(){let t=this.authConfigService.getTokenEndpoint(),n=new Oe().set("client_id",encodeURIComponent(this.authConfigService.getClientId())).set("client_secret",encodeURIComponent(this.authConfigService.getClientSecret())).set("grant_type","client_credentials"),i=new ae({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post(t,n,{headers:i})}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(Sm))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cq=(()=>{class e{constructor(t,n){this.actions$=t,this.clientAuthenticationTokenService=n,this.logger=y(W),this.loadClientToken$=B(()=>this.actions$.pipe(j(Bx),ur(()=>this.clientAuthenticationTokenService.loadClientAuthenticationToken().pipe(S(i=>new FI(i)),M(i=>D(new PI(te(i,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(aq))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),uq=[cq];function lq(){return{clientToken:nt(Tm)}}var Kx=new C("ClientAuthReducers"),dq={provide:Kx,useFactory:lq},fq=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[dq],imports:[Pe,ii,Hn.forFeature($x,Kx),zn.forFeature(uq)]})}}return e})(),hq=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...H3]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[Pe,fq]})}}return e})(),Rm=new C("ConfigInitializer"),Zx=new C("CONFIG_INITIALIZER_FORROOT_GUARD"),Tn=(()=>{class e{constructor(t,n,i){this.config=t,this.initializerGuard=n,this.rootConfig=i,this.logger=y(W),this.ongoingScopes$=new me(void 0)}get isStable(){return!this.initializerGuard||this.ongoingScopes$.value?.length===0}getStable(...t){return this.isStable?D(this.config):this.ongoingScopes$.pipe(R(n=>!!n&&this.areReady(t,n)),q(1),S(()=>this.config))}finishScopes(t){let n=[...this.ongoingScopes$.value??[]];for(let i of t)n.splice(n.indexOf(i),1);this.ongoingScopes$.next(n)}areReady(t,n){if(!t.length)return!n.length;for(let i of t)for(let o of n)if(this.scopesOverlap(i,o))return!1;return!0}scopesOverlap(t,n){return n.length>t.length&&([t,n]=[n,t]),t.startsWith(n)&&(t[n.length]||".")==="."}initialize(t){return at(this,null,function*(){if(this.ongoingScopes$.value)return;let n=[],i=[];for(let o of t||[])if(o){if(!o.scopes||!o.scopes.length)throw new Error("CONFIG_INITIALIZER should provide scope!");le()&&!this.areReady(o.scopes,n)&&this.logger.warn("More than one CONFIG_INITIALIZER is initializing the same config scope."),n.push(...o.scopes),i.push(at(this,null,function*(){let s=yield o.configFactory();ft(this.rootConfig,s),ft(this.config,s),this.finishScopes(o.scopes)}))}this.ongoingScopes$.next(n),i.length&&(yield Promise.all(i))})}static{this.\u0275fac=function(n){return new(n||e)(d(ht),d(Zx,8),d(hD))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Qx=new C("ConfigurationValidator");function WD(e){return{provide:Qx,useValue:e,multi:!0}}function pq(e,r,t){for(let n of r){let i=n(e);i&&t.warn(i)}}function gq(e){if(typeof e?.authentication?.baseUrl>"u"&&typeof e?.backend?.occ?.baseUrl>"u"&&e?.authentication?.OAuthLibConfig?.requireHttps!==!1)return"Authentication might not work correctly without setting either authentication.baseUrl or backend.occ.baseUrl configuration option! Workaround: To support relative urls in angular-oauth2-oidc library you can try setting authentication.OAuthLibConfig.requireHttps to false."}var Rhe=new C("USE_AUTHORIZATION_CODE_FLOW_BY_DEFAULT",{factory:()=>!1,providedIn:"root"});var mq={authentication:{client_id:"mobile_android",client_secret:"secret",tokenEndpoint:"/oauth/token",revokeEndpoint:"/oauth/revoke",loginUrl:"/oauth/authorize",OAuthLibConfig:{scope:"",customTokenParameters:["token_type"],strictDiscoveryDocumentValidation:!1,skipIssuerCheck:!0,disablePKCE:!0,oidc:!1,clearHashAfterLogin:!1}}};var NO=(()=>{class e extends ni{static{this.type="LogoutEvent"}}return e})(),vq=(()=>{class e extends ni{static{this.type="LoginEvent"}}return e})(),Xx=(()=>{class e{constructor(t,n){this.actionsSubject=t,this.eventService=n}register(t){return this.eventService.register(t.event,this.getFromAction(t))}getFromAction(t){return this.actionsSubject.pipe(j(...[].concat(t.action))).pipe(S(n=>this.createEvent(n,t.event,t.factory)))}createEvent(t,n,i){return i?i(t):Ai(n,t.payload??{})}static{this.\u0275fac=function(n){return new(n||e)(d(Dn),d(ko))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),yq=(()=>{class e{constructor(t,n,i){this.stateEventService=t,this.eventService=n,this.authService=i,this.register()}register(){this.registerLoginEvent(),this.registerLogoutEvent()}registerLoginEvent(){this.stateEventService.register({action:Zn,event:vq})}registerLogoutEvent(){this.eventService.register(NO,this.buildLogoutEvent())}buildLogoutEvent(){return this.authService.isUserLoggedIn().pipe(Ma(),R(([t,n])=>t&&!n),S(()=>Ai(NO,{})))}static{this.\u0275fac=function(n){return new(n||e)(d(Xx),d(ko),d(er))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Eq=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(d(yq))}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})(),Re=function(e){return e.MSG_TYPE_CONFIRMATION="[GlobalMessage] Confirmation",e.MSG_TYPE_ERROR="[GlobalMessage] Error",e.MSG_TYPE_INFO="[GlobalMessage] Information",e.MSG_TYPE_WARNING="[GlobalMessage] Warning",e.MSG_TYPE_ASSISTIVE="[GlobalMessage] Assistive",e}(Re||{}),Jh="[Global-message] Add a Message",Jx="[Global-message] Remove a Message",eP="[Global-message] Remove messages by type",HI=class{constructor(r){this.payload=r,this.type=Jh}},su=class{constructor(r){this.payload=r,this.type=Jx}},ep=class{constructor(r){this.payload=r,this.type=eP}};var tP="global-message",Sq=wn(tP),nP=T(Sq,e=>e.entities),rP=e=>T(nP,r=>r&&r[e]),Cq=e=>T(rP(e),r=>r&&r.length);var Uo=(()=>{class e{constructor(t){this.store=t}get(){return this.store.pipe(A(nP),R(un))}add(t,n,i){this.store.dispatch(new HI({text:typeof t=="string"?{raw:t}:t,type:n,timeout:i}))}remove(t,n){this.store.dispatch(n!==void 0?new su({type:t,index:n}):new ep(t))}static{this.\u0275fac=function(n){return new(n||e)(d(ie))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Iq=(()=>{class e{constructor(t,n,i,o,s,a,c){this.authService=t,this.authStorageService=n,this.oAuthLibWrapperService=i,this.routingService=o,this.occEndpoints=s,this.globalMessageService=a,this.authRedirectService=c,this.refreshTokenTrigger$=new oe,this.token$=this.authStorageService.getToken().pipe(S(u=>u?.access_token?u:void 0)),this.stopProgress$=this.token$.pipe(Ma(),F(([u,l])=>{u?.access_token!==l?.access_token&&(this.authService.setLogoutProgress(!1),this.authService.setRefreshProgress(!1))})),this.refreshToken$=this.refreshTokenTrigger$.pipe(Xe(this.authService.refreshInProgress$,this.authService.logoutInProgress$),R(([,u,l])=>!u&&!l),F(([u])=>{u?.refresh_token?(this.oAuthLibWrapperService.refreshToken(),this.authService.setRefreshProgress(!0)):this.handleExpiredRefreshToken()})),this.tokenToRetryRequest$=di(()=>this.refreshToken$.subscribe(),()=>this.getStableToken()).pipe(Qe({refCount:!0,bufferSize:1})),this.subscriptions=new de,this.subscriptions.add(this.stopProgress$.subscribe())}shouldCatchError(t){return this.isOccUrl(t.url)}shouldAddAuthorizationHeader(t){let n=!!this.getAuthorizationHeader(t),i=this.isOccUrl(t.url);return!n&&i}alterRequest(t,n){let i=!!this.getAuthorizationHeader(t),o=this.isBaseSitesRequest(t),s=this.isOccUrl(t.url);return!i&&s&&!o?t.clone({setHeaders:v({},this.createAuthorizationHeader(n))}):t}isOccUrl(t){return t.includes(this.occEndpoints.getBaseUrl())}isBaseSitesRequest(t){return t.url.includes(this.occEndpoints.getRawEndpointValue("baseSites"))}getAuthorizationHeader(t){return t.headers.get("Authorization")}createAuthorizationHeader(t){if(t?.access_token)return{Authorization:`${t.token_type||"Bearer"} ${t.access_token}`};let n;return this.authStorageService.getToken().subscribe(i=>n=i).unsubscribe(),n?.access_token?{Authorization:`${n.token_type||"Bearer"} ${n.access_token}`}:{}}handleExpiredAccessToken(t,n,i){return this.getValidToken(i).pipe(_(o=>o?n.handle(this.createNewRequestWithNewToken(t,o)):ce))}handleExpiredRefreshToken(){this.authRedirectService.saveCurrentNavigationUrl(),this.authService.coreLogout().finally(()=>{this.routingService.go({cxRoute:"login"}),this.globalMessageService.add({key:"httpHandlers.sessionExpired"},Re.MSG_TYPE_ERROR)})}getStableToken(){return Ae([this.token$,this.authService.refreshInProgress$,this.authService.logoutInProgress$]).pipe(hn(ui),R(([t,n,i])=>!n&&!i),_(()=>this.token$))}getValidToken(t){return je(()=>{let n=!1;return this.tokenToRetryRequest$.pipe(F(i=>{i?.access_token===t?.access_token&&!n&&this.refreshTokenTrigger$.next(i),n=!0}),Sl(i=>i?.access_token===t?.access_token),q(1))})}createNewRequestWithNewToken(t,n){return t=t.clone({setHeaders:{Authorization:`${n.token_type||"Bearer"} ${n.access_token}`}}),t}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(d(er),d(yu),d(Tx),d(Mi),d(Fe),d(Uo),d(xD))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Dq=(()=>{class e{constructor(t,n){this.authHttpHeaderService=t,this.authConfigService=n}intercept(t,n){let i=this.authHttpHeaderService.shouldCatchError(t);return(this.authHttpHeaderService.shouldAddAuthorizationHeader(t)?this.authHttpHeaderService.getStableToken().pipe(q(1)):D(void 0)).pipe(S(c=>({token:c,request:this.authHttpHeaderService.alterRequest(t,c)}))).pipe(_(({request:c,token:u})=>n.handle(c).pipe(M(l=>{switch(l.status){case 401:if(this.isExpiredToken(l)&&i)return this.authHttpHeaderService.handleExpiredAccessToken(c,n,u);if(this.errorIsInvalidToken(l))return this.authHttpHeaderService.handleExpiredRefreshToken(),ce;break;case 400:this.errorIsInvalidGrant(l)&&c.body.get("grant_type")==="refresh_token"&&this.authHttpHeaderService.handleExpiredRefreshToken();break}throw l}))))}errorIsInvalidToken(t){return(t.url?.includes(this.authConfigService.getTokenEndpoint())&&t.error.error==="invalid_token")??!1}errorIsInvalidGrant(t){return(t.url?.includes(this.authConfigService.getTokenEndpoint())&&t.error.error==="invalid_grant")??!1}isExpiredToken(t){return t.error?.errors?.[0]?.type==="InvalidTokenError"}static{this.\u0275fac=function(n){return new(n||e)(d(Iq),d(Sm))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),wq=(()=>{class e{constructor(t,n){this.authStorageService=t,this.authConfigService=n}intercept(t,n){let i=this.isTokenRevocationRequest(t);return this.authStorageService.getToken().pipe(q(1),_(o=>(i&&(t=t.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),n.handle(t))))}isTokenRevocationRequest(t){return t.url===this.authConfigService.getRevokeEndpoint()}static{this.\u0275fac=function(n){return new(n||e)(d(yu),d(Sm))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),bq=[{provide:Zt,useExisting:Dq,multi:!0},{provide:Zt,useExisting:wq,multi:!0}],qD=new C("MULTI_LOCATION_INITIALIZED");function Tq(e,r,t){return()=>Bn(t)?cr(r.getStable().pipe(_(()=>e.checkOAuthParamsInUrl()))):Promise.resolve()}function Rq(e){return()=>e.initSync()}var Aq=()=>{let e=y(er),r=y(Tn),t=y(tt),n=y(Yx);return Rq(n)(),Tq(e,r,t)},_q=(()=>{class e{static forRoot(){return{ngModule:e,providers:[An(mq),WD(gq),...bq,{provide:Co,useExisting:yu},{provide:qD,useFactory:Aq,multi:!0}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[Pe,$N.forRoot(),Eq]})}}return e})(),Ahe=(()=>{class e{static forRoot(){return{ngModule:e}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[Pe,_q.forRoot(),hq.forRoot()]})}}return e})(),Mq=(()=>{class e{constructor(t,n,i,o){this.authService=t,this.authRedirectService=n,this.router=i,this.semanticPathService=o}canActivate(){return this.authService.isUserLoggedIn().pipe(S(t=>t||(this.authRedirectService.saveCurrentNavigationUrl(),this.router.parseUrl(this.semanticPathService.get("login")??""))))}static{this.\u0275fac=function(n){return new(n||e)(d(er),d(xD),d(Ce),d(Eu))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_he=(()=>{class e{constructor(t,n,i){this.authService=t,this.semanticPathService=n,this.router=i}canActivate(){return this.authService.isUserLoggedIn().pipe(S(t=>t?this.router.parseUrl(this.semanticPathService.get("home")??""):!t))}static{this.\u0275fac=function(n){return new(n||e)(d(er),d(Eu),d(Ce))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),iP=(()=>{class e extends Ar{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=d(ht),i},providedIn:"root"})}}return e})(),Nq=(()=>{class e{constructor(t,n,i,o){this.anonymousConsentsService=t,this.authService=n,this.occEndpoints=i,this.config=o}intercept(t,n){return Ae([this.anonymousConsentsService.getConsents(),this.authService.isUserLoggedIn()]).pipe(q(1),_(([i,o])=>{if(!this.isOccUrl(t.url))return n.handle(t);let s=this.handleRequest(i,t);return n.handle(s).pipe(F(a=>{a instanceof Ei&&(a.url??"").startsWith(this.occEndpoints.buildUrl("anonymousConsentTemplates"))&&this.handleResponse(o,a.headers.get(lI),i)}))}))}handleResponse(t,n,i){if(!t&&n){let o=[];o=this.anonymousConsentsService.decodeAndDeserialize(n),o=this.giveRequiredConsents(o),this.anonymousConsentsService.consentsUpdated(o,i)&&this.anonymousConsentsService.setConsents(o)}}handleRequest(t,n){if(!t)return n;let i=this.anonymousConsentsService.serializeAndEncode(t);return n.clone({setHeaders:{[lI]:i}})}isOccUrl(t){return t.includes(this.occEndpoints.getBaseUrl())}giveRequiredConsents(t){let n=[...t];if(this.config.anonymousConsents&&this.config.anonymousConsents.requiredConsents)for(let i of n)i.templateCode&&this.config.anonymousConsents.requiredConsents.includes(i.templateCode)&&(i.consentState=aa.GIVEN);return n}static{this.\u0275fac=function(n){return new(n||e)(d(Iu),d(er),d(Fe),d(iP))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Oq=[{provide:Zt,useExisting:Nq,multi:!0}],YD="[User] Load Billing Countries",oP="[User] Load Billing Countries Fail",KD="[User] Load Billing Countries Success",tp=class{constructor(){this.type=YD}},np=class{constructor(r){this.payload=r,this.type=oP,this.error=r}},rp=class{constructor(r){this.payload=r,this.type=KD}},se="process";function xq(){return wn(se)}function Am(e){return T(xq(),r=>Pt(r,e))}function Ri(e){return T(Am(e),r=>Ft(r))}function Qr(e){return T(Am(e),r=>Qn(r))}function Ti(e){return T(Am(e),r=>ma(r))}var Mhe=Object.freeze({__proto__:null,getProcessErrorFactory:Ti,getProcessLoadingFactory:Ri,getProcessStateFactory:Am,getProcessSuccessFactory:Qr}),sP="user",Pq="registerUser",bo="giveConsent",To="withdrawConsent",Tu="updateNotificationPreferences",ua="addProductInterests",la="removeProductInterests",Ru="[User] User Consents",Mr="[User] User Payment Methods",dn="[User] User Addresses",_m="[User] User Cost Centers",Au="[User] Regions",_u="[User] Customer Coupons",Ro="subscribeCustomerCoupon",Ao="unsubscribeCustomerCoupon",oa="claimCustomerCoupon",da="disclaimCustomerCoupon",Mu="[User] Notification Preferences",Nu="[User] Product Interests",ZD="[User] Load Customer Coupons",aP="[User] Load Customer Coupons Fail",QD="[User] Load Customer Coupons Success",cP="[User] Reset Load Customer Coupons",XD="[User] Subscribe Customer Notification Coupon",uP="[User] Subscribe Customer Coupon Notification Fail",JD="[User] Subscribe Customer Coupon Notification Success",lP="[User] Reset Subscribe Customer Coupon Process",ew="[User] Unsubscribe Customer Notification Coupon",dP="[User] Unsubscribe Customer Coupon Notification Fail",tw="[User] Unsubscribe Customer Coupon Notification Success",fP="[User] Reset Unsubscribe Customer Coupon Process",nw="[User] Claim Customer",hP="[User] Claim Customer Fail",pP="[User] Claim Customer Success",rw="[User] Disclaim Customer",gP="[User] Disclaim Customer Fail",mP="[User] Disclaim Customer Success",vP="[User] Reset Disclaim Customer",ip=class extends rt{constructor(r){super(_u),this.payload=r,this.type=ZD}},op=class extends it{constructor(r){super(_u,r),this.payload=r,this.type=aP}},sp=class extends ot{constructor(r){super(_u),this.payload=r,this.type=QD}},zI=class extends Jr{constructor(){super(_u),this.type=cP}},ap=class extends xt{constructor(r){super(se,Ro),this.payload=r,this.type=XD}},cp=class extends Ct{constructor(r){super(se,Ro,r),this.payload=r,this.type=uP}},up=class extends st{constructor(r){super(se,Ro,r),this.payload=r,this.type=JD}},GI=class extends Kn{constructor(){super(se,Ro),this.type=lP}},lp=class extends xt{constructor(r){super(se,Ao),this.payload=r,this.type=ew}},dp=class extends Ct{constructor(r){super(se,Ao,r),this.payload=r,this.type=dP}},fp=class extends st{constructor(r){super(se,Ao,r),this.payload=r,this.type=tw}},WI=class extends Kn{constructor(){super(se,Ao),this.type=fP}},hp=class extends xt{constructor(r){super(se,oa),this.payload=r,this.type=nw}},pp=class extends xt{constructor(r){super(se,da),this.payload=r,this.type=rw}},gp=class extends Kn{constructor(){super(se,da),this.type=vP}},mp=class extends Ct{constructor(r){super(se,da,r),this.payload=r,this.type=gP}},vp=class extends st{constructor(r){super(se,da,r),this.payload=r,this.type=mP}},yp=class extends Ct{constructor(r){super(se,oa,r),this.payload=r,this.type=hP}},Ep=class extends st{constructor(r){super(se,oa,r),this.payload=r,this.type=pP}},iw="[User] Load Delivery Countries",yP="[User] Load Delivery Countries Fail",ow="[User] Load Delivery Countries Success",Sp=class{constructor(){this.type=iw}},Cp=class{constructor(r){this.payload=r,this.type=yP,this.error=r}},Ip=class{constructor(r){this.payload=r,this.type=ow}},sw="[User] Load Notification Preferences",aw="[User] Load Notification Preferences Fail",cw="[User] Load Notification Preferences Success",uw="[User] Update Notification Preferences",EP="[User] Update Notification Preferences Fail",lw="[User] Update Notification Preferences Success",SP="[User] Reset Notification Preferences",CP="[User] Clear Notification Preferences",Dp=class extends rt{constructor(r){super(Mu),this.payload=r,this.type=sw}},wp=class extends it{constructor(r){super(Mu,r),this.payload=r,this.type=aw}},bp=class extends ot{constructor(r){super(Mu),this.payload=r,this.type=cw}},Tp=class extends xt{constructor(r){super(se,Tu),this.payload=r,this.type=uw}},Rp=class extends Ct{constructor(r){super(se,Tu,r),this.payload=r,this.type=EP}},Ap=class extends st{constructor(r){super(se,Tu),this.payload=r,this.type=lw}},_p=class extends Kn{constructor(){super(se,Tu),this.type=SP}},Mp=class extends Jr{constructor(){super(Mu),this.type=CP}},dw="[User] Load User Payment Methods",fw="[User] Load User Payment Methods Fail",hw="[User] Load User Payment Methods Success",pw="[User] Set Default User Payment Method",IP="[User] Set Default User Payment Method Fail",DP="[User] Set Default User Payment Method Success",gw="[User] Delete User Payment Method",wP="[User] Delete User Payment Method Fail",bP="[User] Delete User  Payment Method Success",fa=class extends rt{constructor(r){super(Mr),this.payload=r,this.type=dw}},Np=class extends it{constructor(r){super(Mr,r),this.payload=r,this.type=fw}},Op=class extends ot{constructor(r){super(Mr),this.payload=r,this.type=hw}},xp=class extends rt{constructor(r){super(Mr),this.payload=r,this.type=pw}},Pp=class extends it{constructor(r){super(Mr,r),this.payload=r,this.type=IP}},Fp=class extends ot{constructor(r){super(Mr),this.payload=r,this.type=DP}},Lp=class extends rt{constructor(r){super(Mr),this.payload=r,this.type=gw}},kp=class extends it{constructor(r){super(Mr,r),this.payload=r,this.type=wP}},Up=class extends ot{constructor(r){super(Mr),this.payload=r,this.type=bP}},mw="Load Product Interests",vw="Load Product Interests Fail",yw="Load Product Interests Success",Ew="Remove Product Interest",TP="Remove Product Interest Success",RP="Remove Product Interest Fail",Sw="Add Product Interest",AP="Add Product Interest Fail",_P="Add Product Interest Success",MP="Add Product Interest Reset",NP="Remove Product Interest Reset",OP="Clear Product Interests",ha=class extends rt{constructor(r){super(Nu),this.payload=r,this.type=mw}},jp=class extends it{constructor(r){super(Nu,r),this.payload=r,this.type=vw}},$p=class extends ot{constructor(r){super(Nu),this.payload=r,this.type=yw}},Bp=class extends xt{constructor(r){super(se,la),this.payload=r,this.type=Ew}},Vp=class extends st{constructor(r){super(se,la),this.payload=r,this.type=TP}},Hp=class extends Ct{constructor(r){super(se,la,r),this.payload=r,this.type=RP}},zp=class extends xt{constructor(r){super(se,ua),this.payload=r,this.type=Sw}},Gp=class extends st{constructor(r){super(se,ua),this.payload=r,this.type=_P}},Wp=class extends Ct{constructor(r){super(se,ua,r),this.payload=r,this.type=AP}},qp=class extends Kn{constructor(){super(se,ua),this.type=MP}},Yp=class extends Kn{constructor(){super(se,la),this.type=NP}},Kp=class extends Jr{constructor(){super(Nu),this.type=OP}},Cw="[User] Load Regions",Iw="[User] Load Regions Success",xP="[User] Load Regions Fail",Dw="[User] Clear Regions",Zp=class extends rt{constructor(r){super(Au),this.payload=r,this.type=Cw}},Qp=class extends it{constructor(r){super(Au,r),this.payload=r,this.type=xP}},Xp=class extends ot{constructor(r){super(Au),this.payload=r,this.type=Iw}},Jp=class{constructor(){this.type=Dw}},ww="[User] Load User Addresses",bw="[User] Load User Addresses Fail",Tw="[User] Load User Addresses Success",Mm="[User] Add User Address",PP="[User] Add User Address Fail",Rw="[User] Add User Address Success",Nm="[User] Update User Address",FP="[User] Update User Address Fail",Aw="[User] Update User Address Success",Om="[User] Delete User Address",LP="[User] Delete User Address Fail",_w="[User] Delete User Address Success",eg=class extends rt{constructor(r){super(dn),this.payload=r,this.type=ww}},tg=class extends it{constructor(r){super(dn,r),this.payload=r,this.type=bw}},ng=class extends ot{constructor(r){super(dn),this.payload=r,this.type=Tw}},rg=class extends rt{constructor(r){super(dn),this.payload=r,this.type=Mm}},ig=class extends it{constructor(r){super(dn,r),this.payload=r,this.type=PP}},og=class extends ot{constructor(r){super(dn),this.payload=r,this.type=Rw}},au=class extends rt{constructor(r){super(dn),this.payload=r,this.type=Nm}},sg=class extends it{constructor(r){super(dn,r),this.payload=r,this.type=FP}},ag=class extends ot{constructor(r){super(dn),this.payload=r,this.type=Aw}},cg=class extends rt{constructor(r){super(dn),this.payload=r,this.type=Om}},ug=class extends it{constructor(r){super(dn,r),this.payload=r,this.type=LP}},lg=class extends ot{constructor(r){super(dn),this.payload=r,this.type=_w}},Mw="[User] Load User Consents",Nw="[User] Load User Consents Success",kP="[User] Load User Consents Fail",UP="[User] Reset Load User Consents",Ow="[User] Give User Consent",jP="[User] Give User Consent Fail",xw="[User] Give User Consent Success",$P="[User] Reset Give User Consent Process",dg="[User] Transfer Anonymous Consent",Pw="[User] Withdraw User Consent",BP="[User] Withdraw User Consent Fail",VP="[User] Withdraw User Consent Success",HP="[User] Reset Withdraw User Consent Process",fg=class extends rt{constructor(r){super(Ru),this.payload=r,this.type=Mw}},hg=class extends it{constructor(r){super(Ru,r),this.payload=r,this.type=kP}},pg=class extends ot{constructor(r){super(Ru),this.payload=r,this.type=Nw}},cu=class extends Jr{constructor(){super(Ru),this.type=UP}},uu=class extends xt{constructor(r){super(se,bo),this.payload=r,this.type=Ow}},gg=class extends Ct{constructor(r){super(se,bo,r),this.type=jP}},mg=class extends st{constructor(r){super(se,bo),this.consentTemplate=r,this.type=xw}},vg=class extends Kn{constructor(){super(se,bo),this.type=$P}},yg=class{constructor(r){this.payload=r,this.type=dg}},Eg=class extends xt{constructor(r){super(se,To),this.payload=r,this.type=Pw}},Sg=class extends Ct{constructor(r){super(se,To,r),this.type=BP}},Cg=class extends st{constructor(){super(se,To),this.type=VP}},Ig=class extends Kn{constructor(){super(se,To),this.type=HP}},Fw="[User] Load Active CostCenters",Lw="[User] Load Active CostCenters Fail",kw="[User] Load Active CostCenters Success",qI=class extends rt{constructor(r){super(_m),this.payload=r,this.type=Fw}},Dg=class extends it{constructor(r){super(_m,r),this.payload=r,this.type=Lw}},wg=class extends ot{constructor(r){super(_m),this.payload=r,this.type=kw}},Ou="[User] Clear User Misc Data",bg=class{constructor(){this.type=Ou}},Uw="[User] Register User Success",YI=class extends st{constructor(){super(se,Pq),this.type=Uw}},Nhe=Object.freeze({__proto__:null,ADD_PRODUCT_INTEREST:Sw,ADD_PRODUCT_INTEREST_FAIL:AP,ADD_PRODUCT_INTEREST_RESET:MP,ADD_PRODUCT_INTEREST_SUCCESS:_P,ADD_USER_ADDRESS:Mm,ADD_USER_ADDRESS_FAIL:PP,ADD_USER_ADDRESS_SUCCESS:Rw,AddProductInterest:zp,AddProductInterestFail:Wp,AddProductInterestSuccess:Gp,AddUserAddress:rg,AddUserAddressFail:ig,AddUserAddressSuccess:og,CLAIM_CUSTOMER_COUPON:nw,CLAIM_CUSTOMER_COUPON_FAIL:hP,CLAIM_CUSTOMER_COUPON_SUCCESS:pP,CLEAR_NOTIFICATION_PREFERENCES:CP,CLEAR_PRODUCT_INTERESTS:OP,CLEAR_REGIONS:Dw,CLEAR_USER_MISCS_DATA:Ou,ClaimCustomerCoupon:hp,ClaimCustomerCouponFail:yp,ClaimCustomerCouponSuccess:Ep,ClearNotificationPreferences:Mp,ClearProductInterests:Kp,ClearRegions:Jp,ClearUserMiscsData:bg,DELETE_USER_ADDRESS:Om,DELETE_USER_ADDRESS_FAIL:LP,DELETE_USER_ADDRESS_SUCCESS:_w,DELETE_USER_PAYMENT_METHOD:gw,DELETE_USER_PAYMENT_METHOD_FAIL:wP,DELETE_USER_PAYMENT_METHOD_SUCCESS:bP,DISCLAIM_CUSTOMER_COUPON:rw,DISCLAIM_CUSTOMER_COUPON_FAIL:gP,DISCLAIM_CUSTOMER_COUPON_SUCCESS:mP,DeleteUserAddress:cg,DeleteUserAddressFail:ug,DeleteUserAddressSuccess:lg,DeleteUserPaymentMethod:Lp,DeleteUserPaymentMethodFail:kp,DeleteUserPaymentMethodSuccess:Up,DisclaimCustomerCoupon:pp,DisclaimCustomerCouponFail:mp,DisclaimCustomerCouponSuccess:vp,GIVE_USER_CONSENT:Ow,GIVE_USER_CONSENT_FAIL:jP,GIVE_USER_CONSENT_SUCCESS:xw,GiveUserConsent:uu,GiveUserConsentFail:gg,GiveUserConsentSuccess:mg,LOAD_ACTIVE_COST_CENTERS:Fw,LOAD_ACTIVE_COST_CENTERS_FAIL:Lw,LOAD_ACTIVE_COST_CENTERS_SUCCESS:kw,LOAD_BILLING_COUNTRIES:YD,LOAD_BILLING_COUNTRIES_FAIL:oP,LOAD_BILLING_COUNTRIES_SUCCESS:KD,LOAD_CUSTOMER_COUPONS:ZD,LOAD_CUSTOMER_COUPONS_FAIL:aP,LOAD_CUSTOMER_COUPONS_SUCCESS:QD,LOAD_DELIVERY_COUNTRIES:iw,LOAD_DELIVERY_COUNTRIES_FAIL:yP,LOAD_DELIVERY_COUNTRIES_SUCCESS:ow,LOAD_NOTIFICATION_PREFERENCES:sw,LOAD_NOTIFICATION_PREFERENCES_FAIL:aw,LOAD_NOTIFICATION_PREFERENCES_SUCCESS:cw,LOAD_PRODUCT_INTERESTS:mw,LOAD_PRODUCT_INTERESTS_FAIL:vw,LOAD_PRODUCT_INTERESTS_SUCCESS:yw,LOAD_REGIONS:Cw,LOAD_REGIONS_FAIL:xP,LOAD_REGIONS_SUCCESS:Iw,LOAD_USER_ADDRESSES:ww,LOAD_USER_ADDRESSES_FAIL:bw,LOAD_USER_ADDRESSES_SUCCESS:Tw,LOAD_USER_CONSENTS:Mw,LOAD_USER_CONSENTS_FAIL:kP,LOAD_USER_CONSENTS_SUCCESS:Nw,LOAD_USER_PAYMENT_METHODS:dw,LOAD_USER_PAYMENT_METHODS_FAIL:fw,LOAD_USER_PAYMENT_METHODS_SUCCESS:hw,LoadActiveCostCenters:qI,LoadActiveCostCentersFail:Dg,LoadActiveCostCentersSuccess:wg,LoadBillingCountries:tp,LoadBillingCountriesFail:np,LoadBillingCountriesSuccess:rp,LoadCustomerCoupons:ip,LoadCustomerCouponsFail:op,LoadCustomerCouponsSuccess:sp,LoadDeliveryCountries:Sp,LoadDeliveryCountriesFail:Cp,LoadDeliveryCountriesSuccess:Ip,LoadNotificationPreferences:Dp,LoadNotificationPreferencesFail:wp,LoadNotificationPreferencesSuccess:bp,LoadProductInterests:ha,LoadProductInterestsFail:jp,LoadProductInterestsSuccess:$p,LoadRegions:Zp,LoadRegionsFail:Qp,LoadRegionsSuccess:Xp,LoadUserAddresses:eg,LoadUserAddressesFail:tg,LoadUserAddressesSuccess:ng,LoadUserConsents:fg,LoadUserConsentsFail:hg,LoadUserConsentsSuccess:pg,LoadUserPaymentMethods:fa,LoadUserPaymentMethodsFail:Np,LoadUserPaymentMethodsSuccess:Op,REGISTER_USER_SUCCESS:Uw,REMOVE_PRODUCT_INTEREST:Ew,REMOVE_PRODUCT_INTEREST_FAIL:RP,REMOVE_PRODUCT_INTEREST_RESET:NP,REMOVE_PRODUCT_INTEREST_SUCCESS:TP,RESET_DISCLAIM_CUSTOMER_COUPON:vP,RESET_GIVE_USER_CONSENT_PROCESS:$P,RESET_LOAD_CUSTOMER_COUPONS:cP,RESET_LOAD_USER_CONSENTS:UP,RESET_NOTIFICATION_PREFERENCES:SP,RESET_SUBSCRIBE_CUSTOMER_COUPON_PROCESS:lP,RESET_UNSUBSCRIBE_CUSTOMER_COUPON_PROCESS:fP,RESET_WITHDRAW_USER_CONSENT_PROCESS:HP,RegisterUserSuccess:YI,RemoveProductInterest:Bp,RemoveProductInterestFail:Hp,RemoveProductInterestSuccess:Vp,ResetAddInterestState:qp,ResetDisclaimCustomerCoupon:gp,ResetGiveUserConsentProcess:vg,ResetLoadCustomerCoupons:zI,ResetLoadUserConsents:cu,ResetNotificationPreferences:_p,ResetRemoveInterestState:Yp,ResetSubscribeCustomerCouponProcess:GI,ResetUnsubscribeCustomerCouponProcess:WI,ResetWithdrawUserConsentProcess:Ig,SET_DEFAULT_USER_PAYMENT_METHOD:pw,SET_DEFAULT_USER_PAYMENT_METHOD_FAIL:IP,SET_DEFAULT_USER_PAYMENT_METHOD_SUCCESS:DP,SUBSCRIBE_CUSTOMER_COUPON:XD,SUBSCRIBE_CUSTOMER_COUPON_FAIL:uP,SUBSCRIBE_CUSTOMER_COUPON_SUCCESS:JD,SetDefaultUserPaymentMethod:xp,SetDefaultUserPaymentMethodFail:Pp,SetDefaultUserPaymentMethodSuccess:Fp,SubscribeCustomerCoupon:ap,SubscribeCustomerCouponFail:cp,SubscribeCustomerCouponSuccess:up,TRANSFER_ANONYMOUS_CONSENT:dg,TransferAnonymousConsent:yg,UNSUBSCRIBE_CUSTOMER_COUPON:ew,UNSUBSCRIBE_CUSTOMER_COUPON_FAIL:dP,UNSUBSCRIBE_CUSTOMER_COUPON_SUCCESS:tw,UPDATE_NOTIFICATION_PREFERENCES:uw,UPDATE_NOTIFICATION_PREFERENCES_FAIL:EP,UPDATE_NOTIFICATION_PREFERENCES_SUCCESS:lw,UPDATE_USER_ADDRESS:Nm,UPDATE_USER_ADDRESS_FAIL:FP,UPDATE_USER_ADDRESS_SUCCESS:Aw,UnsubscribeCustomerCoupon:lp,UnsubscribeCustomerCouponFail:dp,UnsubscribeCustomerCouponSuccess:fp,UpdateNotificationPreferences:Tp,UpdateNotificationPreferencesFail:Rp,UpdateNotificationPreferencesSuccess:Ap,UpdateUserAddress:au,UpdateUserAddressFail:sg,UpdateUserAddressSuccess:ag,WITHDRAW_USER_CONSENT:Pw,WITHDRAW_USER_CONSENT_FAIL:BP,WITHDRAW_USER_CONSENT_SUCCESS:VP,WithdrawUserConsent:Eg,WithdrawUserConsentFail:Sg,WithdrawUserConsentSuccess:Cg}),Tg=class{},Fq=(()=>{class e{constructor(t){this.adapter=t}loadAnonymousConsentTemplates(){return this.adapter.loadAnonymousConsentTemplates()}loadAnonymousConsents(){return this.adapter.loadAnonymousConsents()}static{this.\u0275fac=function(n){return new(n||e)(d(Tg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Rg=class{},Ag=class{},KI=new C("CmsPageNormalizer"),Lq="JspIncludeComponent",kq="CMSFlexComponent";var Uq=function(e){return e.DEFER="DEFERRED-LOADING",e.INSTANT="INSTANT-LOADING",e}(Uq||{}),jw=(()=>{class e extends Ar{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=d(ht),i},providedIn:"root"})}}return e})(),Zr=function(e){return e.INDEX="INDEX",e.NOINDEX="NOINDEX",e.FOLLOW="FOLLOW",e.NOFOLLOW="NOFOLLOW",e}(Zr||{}),ea;(function(e){let r;(function(m){m.INDEX_FOLLOW="INDEX_FOLLOW",m.NOINDEX_FOLLOW="NOINDEX_FOLLOW",m.INDEX_NOFOLLOW="INDEX_NOFOLLOW",m.NOINDEX_NOFOLLOW="NOINDEX_NOFOLLOW"})(r=e.PageRobots||(e.PageRobots={}));let t;(function(m){m.Success="SUCCESS",m.Info="INFO",m.Warning="WARNING",m.Error="ERROR"})(t=e.OrderEntryStatus||(e.OrderEntryStatus={}));let n;(function(m){m.BUY="BUY",m.FROM="FROM"})(n=e.PriceType||(e.PriceType={}));let i;(function(m){m.PRIMARY="PRIMARY",m.GALLERY="GALLERY"})(i=e.ImageType||(e.ImageType={}));let o;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(o=e.Fields||(e.Fields={}));let s;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(s=e.Fields1||(e.Fields1={}));let a;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(a=e.Fields2||(e.Fields2={}));let c;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(c=e.Fields3||(e.Fields3={}));let u;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(u=e.Fields4||(e.Fields4={}));let l;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(l=e.Fields5||(e.Fields5={}));let f;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(f=e.Fields6||(e.Fields6={}));let h;(function(m){m.CONTENT_PAGE="ContentPage",m.PRODUCT_PAGE="ProductPage",m.CATEGORY_PAGE="CategoryPage",m.CATALOG_PAGE="CatalogPage"})(h=e.PageType||(e.PageType={}));let p;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(p=e.Fields7||(e.Fields7={}));let E;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(E=e.Fields8||(e.Fields8={}));let I;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(I=e.Fields9||(e.Fields9={}));let b;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(b=e.Fields10||(e.Fields10={}));let x;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(x=e.Fields11||(e.Fields11={}));let N;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(N=e.Fields12||(e.Fields12={}));let J;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(J=e.Fields13||(e.Fields13={}));let be;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(be=e.Fields14||(e.Fields14={}));let It;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(It=e.Fields15||(e.Fields15={}));let Ue;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(Ue=e.Fields16||(e.Fields16={}));let ze;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(ze=e.SortEnum||(e.SortEnum={}));let Dt;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(Dt=e.Fields17||(e.Fields17={}));let Gm;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(Gm=e.Fields18||(e.Fields18={}));let Wm;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(Wm=e.Fields19||(e.Fields19={}));let wt;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(wt=e.Fields20||(e.Fields20={}));let en;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(en=e.Fields21||(e.Fields21={}));let $u;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})($u=e.Fields22||(e.Fields22={}));let fn;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(fn=e.Fields23||(e.Fields23={}));let _n;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(_n=e.Fields24||(e.Fields24={}));let Oi;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(Oi=e.Fields25||(e.Fields25={}));let jo;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(jo=e.Fields26||(e.Fields26={}));let Bu;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(Bu=e.Fields27||(e.Fields27={}));let bt;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(bt=e.Fields28||(e.Fields28={}));let xr;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(xr=e.Fields29||(e.Fields29={}));let xi;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(xi=e.Fields30||(e.Fields30={}));let Vu;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(Vu=e.Fields31||(e.Fields31={}));let eL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(eL=e.Fields32||(e.Fields32={}));let tL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(tL=e.Fields33||(e.Fields33={}));let nL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(nL=e.Fields34||(e.Fields34={}));let rL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(rL=e.Fields35||(e.Fields35={}));let iL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(iL=e.Fields36||(e.Fields36={}));let oL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(oL=e.Fields37||(e.Fields37={}));let sL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(sL=e.Fields38||(e.Fields38={}));let aL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(aL=e.Fields39||(e.Fields39={}));let cL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(cL=e.Fields40||(e.Fields40={}));let uL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(uL=e.Fields41||(e.Fields41={}));let lL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(lL=e.Fields42||(e.Fields42={}));let dL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(dL=e.Fields43||(e.Fields43={}));let fL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(fL=e.Fields44||(e.Fields44={}));let hL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(hL=e.Fields45||(e.Fields45={}));let pL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(pL=e.Fields46||(e.Fields46={}));let gL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(gL=e.Fields47||(e.Fields47={}));let mL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(mL=e.Fields48||(e.Fields48={}));let vL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(vL=e.Fields49||(e.Fields49={}));let yL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(yL=e.Fields50||(e.Fields50={}));let EL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(EL=e.Fields51||(e.Fields51={}));let SL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(SL=e.Fields52||(e.Fields52={}));let CL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(CL=e.Fields53||(e.Fields53={}));let IL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(IL=e.Fields54||(e.Fields54={}));let DL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(DL=e.Fields55||(e.Fields55={}));let wL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(wL=e.Fields56||(e.Fields56={}));let bL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(bL=e.Fields57||(e.Fields57={}));let TL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(TL=e.Fields58||(e.Fields58={}));let RL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(RL=e.Fields59||(e.Fields59={}));let AL;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(AL=e.Fields60||(e.Fields60={}));let _L;(function(m){m.BASIC="BASIC",m.DEFAULT="DEFAULT",m.FULL="FULL"})(_L=e.Fields61||(e.Fields61={}));let ML;(function(m){m.All="all",m.Product="product",m.Order="order"})(ML=e.Type||(e.Type={}));let NL;(function(m){m.ANONYMOUS_CONSENT_GIVEN="GIVEN",m.ANONYMOUS_CONSENT_WITHDRAWN="WITHDRAWN"})(NL=e.CONSENT_STATUS||(e.CONSENT_STATUS={}));let OL;(function(m){m.BACK_IN_STOCK="BACK_IN_STOCK"})(OL=e.NotificationType||(e.NotificationType={}));let xL;(function(m){m.DAY="DAY",m.WEEK="WEEK",m.MONTH="MONTH",m.QUARTER="QUARTER",m.YEAR="YEAR"})(xL=e.Period||(e.Period={}));let PL;(function(m){m.MONDAY="MONDAY",m.TUESDAY="TUESDAY",m.WEDNESDAY="WEDNESDAY",m.THURSDAY="THURSDAY",m.FRIDAY="FRIDAY",m.SATURDAY="SATURDAY",m.SUNDAY="SUNDAY"})(PL=e.DaysOfWeek||(e.DaysOfWeek={}));let FL;(function(m){m.APPROVE="APPROVE",m.REJECT="REJECT"})(FL=e.OrderApprovalDecisionValue||(e.OrderApprovalDecisionValue={}))})(ea||(ea={}));var jq=(()=>{class e{convert(t,n={}){return this.normalizePageData(t,n),this.normalizePageSlotData(t,n),this.normalizePageComponentData(t,n),this.normalizeComponentData(t,n),n}normalizePageData(t,n){if(!t)return;let i={};t.name&&(i.name=t.name),t.typeCode&&(i.type=t.typeCode),t.label&&(i.label=t.label),t.template&&(i.template=t.template),t.uid&&(i.pageId=t.uid),t.title&&(i.title=t.title),t.description&&(i.description=t.description),t.properties&&(i.properties=t.properties),this.normalizeRobots(t,i),n.page=i}normalizePageSlotData(t,n){if(t?.contentSlots){t.contentSlots.contentSlot&&!Array.isArray(t.contentSlots.contentSlot)&&(t.contentSlots.contentSlot=[t.contentSlots.contentSlot]),n.page=n.page??{},n.page.slots={};for(let i of t.contentSlots.contentSlot??[])i.position&&(n.page.slots[i.position]={},i.properties&&(n.page.slots[i.position].properties=i.properties))}}normalizePageComponentData(t,n){if(t?.contentSlots?.contentSlot){for(let i of t.contentSlots.contentSlot)if(Array.isArray(i.components?.component))for(let o of i.components?.component??[]){let s={uid:o.uid,typeCode:o.typeCode,flexType:this.getFlexTypeFromComponent(o),properties:this.getComponentProperties(o.properties)};if(i.position){let a=n.page?.slots?.[i.position];a&&(a.components||(a.components=[]),a.components.push(s))}}}}getComponentProperties(t){return t||void 0}getFlexTypeFromComponent(t){return t.typeCode===kq?t.flexType:t.typeCode===Lq?t.uid:t.typeCode}normalizeComponentData(t,n){if(t?.contentSlots?.contentSlot)for(let i of t.contentSlots.contentSlot)for(let o of i.components?.component??[])o.modifiedtime&&(o.modifiedTime=o.modifiedtime,delete o.modifiedtime),o.properties&&(o.properties=void 0),n.components||(n.components=[]),n.components.push(o)}normalizeRobots(t,n){let i=[];if(t.robotTag)switch(t.robotTag){case ea.PageRobots.INDEX_FOLLOW:i.push(Zr.INDEX),i.push(Zr.FOLLOW);break;case ea.PageRobots.NOINDEX_FOLLOW:i.push(Zr.NOINDEX),i.push(Zr.FOLLOW);break;case ea.PageRobots.INDEX_NOFOLLOW:i.push(Zr.INDEX),i.push(Zr.NOFOLLOW);break;case ea.PageRobots.NOINDEX_NOFOLLOW:i.push(Zr.NOINDEX),i.push(Zr.NOFOLLOW);break}n.robots=i}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Dh=new C("CmsComponentNormalizer"),$q=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=d(ht),i},providedIn:"root"})}}return e})();function zP(e){return typeof e=="object"&&!!e.features}function OO(e,r){if(e==="*")return!0;let t=e.split("."),n=r.split(".");for(let i=0;i<n.length;i++){let o=Number(n[i]),s=Number(t[i])||0;if(o!==s)return s>o}return!0}function GP(e,r){return zP(e)&&e.features.level?r.startsWith("!")?!OO(e.features.level,r.substring(1)):OO(e.features.level,r):!1}function WP(e,r){if(zP(e)){let t=r[0]==="!"?e.features[r.substring(1)]:e.features[r],n=typeof t=="string"?GP(e,t):t;return r.startsWith("!")?!n:!!n}return!1}var oi=(()=>{class e{constructor(t){this.config=t}isLevel(t){return GP(this.config,t)}isEnabled(t){return WP(this.config,t)}static{this.\u0275fac=function(n){return new(n||e)(d($q))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ohe=(()=>{class e{constructor(t,n,i){this.templateRef=t,this.viewContainer=n,this.featureConfig=i,this.hasView=!1}set cxFeature(t){this.featureConfig.isEnabled(t)&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!this.featureConfig.isEnabled(t)&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)}static{this.\u0275fac=function(n){return new(n||e)(Y(Fn),Y(qt),Y(oi))}}static{this.\u0275dir=Et({type:e,selectors:[["","cxFeature",""]],inputs:{cxFeature:"cxFeature"},standalone:!1})}}return e})(),xhe=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:()=>Object.assign({},y(qP),y(YP)),providedIn:"root"})}}return e})(),qP=new C("DefaultFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...y(ZP,{optional:!0})??[])}),YP=new C("RootFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...y(KP,{optional:!0})??[])}),KP=new C("FeatureTogglesChunk",{providedIn:"root",factory:()=>[]}),ZP=new C("DefaultFeatureTogglesChunk",{providedIn:"root",factory:()=>[]});function Phe(e={}){return{provide:KP,useValue:e,multi:!0}}function Bq(e={}){return{provide:ZP,useValue:e,multi:!0}}var Vq={showDeliveryOptionsTranslation:!0,formErrorsDescriptiveMessages:!0,showSearchingCustomerByOrderInASM:!0,showStyleChangesInASM:!0,shouldHideAddToCartForUnpurchasableProducts:!0,useExtractedBillingAddressComponent:!0,showBillingAddressInDigitalPayments:!0,searchBoxV2:!0,trendingSearches:!0,useProductCarouselBatchApi:!0,propagateErrorsToServer:!0,ssrStrictErrorHandlingForHttpAndNgrx:!0,productConfiguratorDeltaRendering:!0,a11yUseProperTextColorForFutureStockAccordion:!1,a11yNavMenuExpandStateReadout:!0,a11yPreventHorizontalScroll:!0,a11yPopoverHighContrast:!1,a11yTabsManualActivation:!1,a11yCartImportConfirmationMessage:!0,a11yAnonymousConsentMessageInDialog:!1,a11yMobileFocusOnFirstNavigationItem:!0,a11yQuickOrderSearchListKeyboardNavigation:!1,a11yStyleExternalLinksAsLinks:!0,a11ySearchboxLabel:!0,a11ySelectLabelWithContextForSelectedAddrOrPayment:!0,a11yUseTrapTabInsteadOfTrapInDialogs:!0,a11yKeyboardAccessibleZoom:!1,a11yOrganizationLinkableCells:!0,a11yTruncatedTextStoreFinder:!0,a11yTruncatedTextUnitLevelOrderHistory:!1,a11ySemanticPaginationLabel:!0,a11yPreventCartItemsFormRedundantRecreation:!1,a11yPreventSRFocusOnHiddenElements:!0,a11yNotificationPreferenceFieldset:!0,a11yImproveContrast:!0,a11yScreenReaderBloatFix:!0,a11yTabComponent:!0,a11yCarouselArrowKeysNavigation:!0,a11yPickupOptionsTabs:!0,a11yNotificationsOnConsentChange:!0,a11yDisabledCouponAndQuickOrderActionButtonsInsteadOfRequiredFields:!0,a11yResetFocusAfterNavigating:!1,headerLayoutForSmallerViewports:!0,a11yStoreFinderAlerts:!0,a11yStoreFinderLabel:!1,a11yFormErrorMuteIcon:!0,a11yImprovedErrorMessage:!1,a11yCxMessageFocus:!0,a11yLinkBtnsToTertiaryBtns:!1,a11yRepeatedPageTitleFix:!0,a11yDeliveryModeRadiogroup:!0,a11yNgSelectOptionsCount:!0,a11yNgSelectCloseDropdownOnEscape:!0,a11ySelectImprovementsCustomerTicketingCreateSelectbox:!1,a11yNgSelectAriaLabelDropdownCustomized:!1,a11yRepeatedCancelOrderError:!0,a11yAddedToCartActiveDialog:!0,a11yNgSelectMobileReadout:!0,a11yDeliveryMethodFieldset:!0,a11yShowMoreReviewsBtnFocus:!0,a11yQuickOrderAriaControls:!0,a11yRemoveStatusLoadedRole:!0,a11yDialogsHeading:!0,a11yDialogTriggerRefocus:!0,a11yAddToWishlistFocus:!0,a11ySearchBoxFocusOnEscape:!0,a11yUpdatingCartNoNarration:!0,a11yPasswordVisibliltyBtnValueOverflow:!0,a11yItemCounterFocus:!0,a11yScrollToReviewByShowReview:!0,a11yViewHoursButtonIconContrast:!0,a11yStoreInStockIconContrast:!0,a11yCheckoutStepsLandmarks:!0,a11yQTY2Quantity:!0,a11yImproveButtonsInCardComponent:!0,a11yMiniCartFocusOnMobile:!1,a11yWrapReviewOrderInSection:!0,a11yApprovalProcessWithNoClearable:!0,a11yPostRegisterSuccessMessage:!0,a11yDeleteButton2First:!0,a11yShowLabelOfSelect:!0,a11yShowDownArrowOnFocusedSelectMenu:!0,a11yCroppedFocusRing:!0,a11yTextSpacingAdjustments:!0,a11yTableHeaderReadout:!0,a11ySearchboxAssistiveMessage:!0,updateConsentGivenInOnChanges:!1,a11yDifferentiateFocusedAndSelected:!0,a11yQuickOrderSearchBoxRefocusOnClose:!1,a11yKeyboardFocusInSearchBox:!1,a11yAddPaddingToCarouselPanel:!1,a11yNavigationButtonsAriaFixes:!1,a11yFocusOnCardAfterSelecting:!1,a11ySearchableDropdownFirstElementFocus:!1,a11yHideConsentButtonWhenBannerVisible:!1,a11yRepeatingButtonsUniqueLabels:!1,a11yHighContrastBorders:!1,a11yRegionAssociatedHeaders:!1,occCartNameAndDescriptionInHttpRequestBody:!0,cmsBottomHeaderSlotUsingFlexStyles:!0,useSiteThemeService:!0,enableConsecutiveCharactersPasswordRequirement:!0,enablePasswordsCannotMatchInPasswordUpdateForm:!0,allPageMetaResolversEnabledInCsr:!0,a11yPdpGridArrangement:!0,a11yHamburgerMenuTrapFocus:!1,useExtendedMediaComponentConfiguration:!0,showRealTimeStockInPDP:!0,a11yScrollToTopPositioning:!1,a11yWideScreenImprovements:!1,a11yOptimizedMenuSpacing:!1,a11yNgSelectLayering:!1,a11yNgSelectAriaControls:!1,enableSecurePasswordValidation:!0,enableCarouselCategoryProducts:!1,enableClaimCustomerCouponWithCodeInRequestBody:!1,enableReadDomainValuesOnDemand:!1,opfEnablePreventingFromCheckoutWithoutEmail:!1};function Hq(e,r){return()=>e.initialize(r)}var zq=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:Zx,useValue:!0},{provide:Nt,multi:!0,useFactory:Hq,deps:[Tn,[new mr,Rm]]},{provide:qD,useFactory:()=>{let t=y(Tn);return()=>cr(t.getStable())},multi:!0}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})();function Gq(e,r){let t=y(W);return()=>{le()&&e.getStable().subscribe(n=>pq(n,r||[],t))}}var Wq=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:Nt,multi:!0,useFactory:Gq,deps:[Tn,[new mr,Qx]]}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})(),qq=(()=>{class e{constructor(t,n,i,o){this.rootConfig=t,this.defaultConfig=n,this.unifiedInjector=i,this.ambientDefaultConfig={},this.ambientConfig={},this.config=o,this.unifiedConfig$=new me(o),this.subscription=this.feedUnifiedConfig().subscribe()}feedUnifiedConfig(){let t=this.unifiedInjector.get(pu,[]),n=this.unifiedInjector.get(ga,[]);return ji(t,n).pipe(iv(1),F(([i,o])=>this.processConfig(i,o)))}processConfig(t,n){n?.length&&ft(this.ambientDefaultConfig,...n),t.length&&ft(this.ambientConfig,...t),(t.length||n.length)&&this.emitUnifiedConfig()}emitUnifiedConfig(){let t=ft({},this.defaultConfig,this.ambientDefaultConfig,this.ambientConfig,this.rootConfig);this.unifiedConfig$.next(t),WP(this.config,"disableConfigUpdates")||ft(this.config,t)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.unifiedConfig$.complete()}static{this.\u0275fac=function(n){return new(n||e)(d(hD),d(qO),d(Du),d(ht))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),QP=(()=>{class e{constructor(t){}static withConfig(t){return{ngModule:e,providers:[SO(t)]}}static withConfigFactory(t,n){return{ngModule:e,providers:[Rh(t,n)]}}static forRoot(t={}){return{ngModule:e,providers:[SO(t)]}}static{this.\u0275fac=function(n){return new(n||e)(d(qq))}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})();function Yq(e,r){let n=new RegExp("(?:^|;\\s*)"+r+"=([^;]*)","g").exec(e);return n&&decodeURIComponent(n[1])||""}var Kq=new C("TEST_CONFIG_COOKIE_NAME"),Fhe=new C("TEST_CONFIG",{providedIn:"root",factory:()=>{let e=y(Kq),r=y(tt),t=y(ye);if(Bn(r)&&e){let n=Yq(t.cookie,e);return Zq(n)}return{}}});function Zq(e){try{return JSON.parse(decodeURIComponent(e))}catch{return{}}}var Qq=[Rh(()=>{let e=y(YP);return{features:v({},e)}}),No(()=>{let e=y(qP);return{features:v({},e)}})],XP=(()=>{class e{constructor(){this.rendererFactory=y(mi),this.featureConfig=y(oi),this.logger=y(W),this.CSS_FEATURE_FLAG_PREFIX="cxFeat_",this.renderer=this.rendererFactory.createRenderer(null,null),this.usagesCounter=new Map}init(t){this.rootElement=t.location.nativeElement;for(let[n,i]of this.usagesCounter.entries())i>0&&this.addClass(n)}registerUsage(t){let n=this.usagesCounter.get(t)??0;this.isEnabled(t)&&n===0&&this.addClass(t),this.usagesCounter.set(t,n+1)}unregisterUsage(t){let n=this.usagesCounter.get(t)??0;n===0&&le()&&this.logger.warn(`Feature flag CSS: "${t}" is already not used, so it cannot be unregistered.`),this.isEnabled(t)&&n===1&&this.removeClass(t),this.usagesCounter.set(t,Math.max(n-1,0))}isEnabled(t){return this.featureConfig.isEnabled(t)}addClass(t){let n=this.getCssClass(t);!this.rootElement||!n||this.renderer.addClass(this.rootElement,n)}removeClass(t){let n=this.getCssClass(t);!this.rootElement||!n||this.renderer.removeClass(this.rootElement,n)}getCssClass(t){return this.featureConfig.isEnabled(t)?`${this.CSS_FEATURE_FLAG_PREFIX}${t}`:void 0}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Xq=(()=>{class e{static forRoot(t="3.0"){return{ngModule:e,providers:[Bq(Vq),...Qq,An({features:{level:t||"*"}}),{provide:cc,multi:!0,useFactory:()=>{let n=y(XP);return i=>n.init(i)}}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})();function Jq(e){oo(Jq);let r=y(XP),t=y(Mt);r.registerUsage(e),t.onDestroy(()=>r.unregisterUsage(e))}var e4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.userIdService=y(Xn),this.featureConfigService=y(oi),this.headers=new ae().set("Content-Type","application/json")}load(t,n){return this.featureConfigService.isEnabled(Js)?this.userIdService.getUserId().pipe(_(i=>this.http.get(this.getComponentEndPoint(t,n,i),{headers:this.headers})),this.converter.pipeable(Dh),q(1)):this.http.get(this.getComponentEndPoint(t,n),{headers:this.headers}).pipe(this.converter.pipeable(Dh))}findComponentsByIds(t,n,i="DEFAULT",o=0,s=t.length,a){let c=v(v({},this.getContextParams(n)),this.getPaginationParams(o,s,a));return c.componentIds=t.toString(),this.featureConfigService.isEnabled(Js)?this.userIdService.getUserId().pipe(_(u=>this.http.get(this.getComponentsEndpoint(c,i,u),{headers:this.headers})),S(u=>u.component??[]),this.converter.pipeableMany(Dh),q(1)):this.http.get(this.getComponentsEndpoint(c,i),{headers:this.headers}).pipe(S(u=>u.component??[]),this.converter.pipeableMany(Dh))}getComponentEndPoint(t,n,i){if(this.featureConfigService.isEnabled(Js)){let o=this.getContextParams(n),s=i?{urlParams:{id:t,userId:i},queryParams:o}:{urlParams:{id:t},queryParams:o};return this.occEndpoints.buildUrl("component",s)}return this.occEndpoints.buildUrl("component",{urlParams:{id:t},queryParams:this.getContextParams(n)})}getComponentsEndpoint(t,n,i){if(this.featureConfigService.isEnabled(Js)){let o=v({fields:n},t),s=i?{urlParams:{userId:i},queryParams:o}:{queryParams:o};return this.occEndpoints.buildUrl("components",s)}return this.occEndpoints.buildUrl("components",{queryParams:v({fields:n},t)})}getPaginationParams(t,n,i){let o={};return t!==void 0&&(o.currentPage=t.toString()),n!==void 0&&(o.pageSize=n.toString()),i!==void 0&&(o.sort=i),o}getContextParams(t){let n={};switch(t.type){case ge.PRODUCT_PAGE:{n={productCode:t.id};break}case ge.CATEGORY_PAGE:{n={categoryCode:t.id};break}case ge.CATALOG_PAGE:{n={catalogCode:t.id};break}}return n}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(Fe),d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),JP="__HOMEPAGE__",eF="smartedit-preview";var t4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.userIdService=y(Xn),this.featureConfigService=y(oi),this.headers=new ae().set("Content-Type","application/json")}load(t){let n=this.getPagesRequestParams(t);if(this.featureConfigService.isEnabled(Js))return this.userIdService.getUserId().pipe(_(o=>{let s=t.type?this.occEndpoints.buildUrl("pages",{urlParams:{userId:o},queryParams:n}):this.occEndpoints.buildUrl("page",{urlParams:{id:t.id,userId:o}});return this.http.get(s,{headers:this.headers})}),this.converter.pipeable(KI),q(1));let i=t.type?this.occEndpoints.buildUrl("pages",{queryParams:n}):this.occEndpoints.buildUrl("page",{urlParams:{id:t.id}});return this.http.get(i,{headers:this.headers}).pipe(this.converter.pipeable(KI))}getPagesRequestParams(t){if(t.id===JP||t.id===eF)return{};let n={};return t.type&&(n.pageType=t.type),t.type===ge.CONTENT_PAGE?n.pageLabelOrId=t.id:n.code=t.id,n}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(Fe),d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),n4=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[{provide:Ag,useExisting:t4},{provide:KI,useExisting:jq,multi:!0},{provide:Rg,useExisting:e4}],imports:[Pe]})}}return e})();var r4=(()=>{class e{convert(t,n){return n===void 0&&(n=v({},t)),n.active=this.normalizeBoolean(t.active),n}normalizeBoolean(t){return t===void 0?!1:typeof t=="string"?t==="true":t}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),i4=(()=>{class e{convert(t,n){return n===void 0&&(n=v({},t)),n.activeFlag=t.active,delete n.active,n}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tF=new C("CostCenterNormalizer"),nF=new C("CostCentersListNormalizer"),o4=new C("CostCenterSerializer"),s4=(()=>{class e{constructor(t){this.converter=t}convert(t,n){return n===void 0&&(n=v({},t)),n.values=t.costCenters.map(i=>v({},this.converter.convert(i,tF))),n}static{this.\u0275fac=function(n){return new(n||e)(d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),a4={backend:{occ:{endpoints:{getActiveCostCenters:"/costcenters?fields=DEFAULT,unit(BASIC,addresses(DEFAULT))"}}}},Lhe=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[{provide:nF,useExisting:s4,multi:!0},{provide:tF,useExisting:r4,multi:!0},{provide:o4,useExisting:i4,multi:!0}],imports:[Pe,QP.withConfig(a4)]})}}return e})(),c4=(()=>{class e{constructor(t){this.config=t}convert(t,n){return n===void 0&&(n=v({},t)),t.images&&(n.images=this.normalize(t.images)),n}normalize(t){let n={};if(t)for(let i of t){let o=this.hasGalleryIndex(i);if(i.imageType){n.hasOwnProperty(i.imageType)||(n[i.imageType]=o?[]:{});let s=this.getImageContainer(o,n,i),a=v({},i);a.url=this.normalizeImageUrl(a.url??""),i.format&&(s[i.format]=a)}}return n}getImageContainer(t,n,i){return t?this.getImageGroups(n,i)[i.galleryIndex]:n[i.imageType]}getImageGroups(t,n){let i=t[n.imageType];return i[n.galleryIndex]||(i[n.galleryIndex]={}),i}normalizeImageUrl(t){return new RegExp(/^(http|data:image|\/\/)/i).test(t)?t:(this.config.backend?.media?.baseUrl||this.config.backend?.occ?.baseUrl||"")+t}hasGalleryIndex(t){return(t.galleryIndex??!1)!==!1}static{this.\u0275fac=function(n){return new(n||e)(d(Ar))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var _o=new C("ProductNormalizer"),u4=(()=>{class e{constructor(t){this.converterService=t,this.DEFAULT_TOP_VALUES=6}convert(t,n={}){return n=v(v({},n),t),this.normalizeFacets(n),t.products&&(n.products=t.products.map(i=>this.converterService.convert(i,_o))),n}normalizeFacets(t){this.normalizeFacetValues(t),this.normalizeUselessFacets(t)}normalizeUselessFacets(t){t.facets&&(t.facets=t.facets.filter(n=>!t.pagination||!t.pagination.totalResults||(!n.hasOwnProperty("visible")||n.visible)&&n.values&&n.values.find(i=>i.selected||(i.count??0)<(t.pagination?.totalResults??0))))}normalizeFacetValues(t){t.facets&&(t.facets=t.facets.map(n=>{let s=n,{topValues:i}=s,o=qm(s,["topValues"]);return o.topValueCount=i&&i.length>0?i.length:this.DEFAULT_TOP_VALUES,o}))}static{this.\u0275fac=function(n){return new(n||e)(d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),l4=(()=>{class e{constructor(t){this.converter=t}convert(t,n=[]){return n===void 0&&(n=v({},t)),t&&t.references?(n=t.references.map(i=>w(v({},i),{target:this.converter.convert(i.target,_o)})),n):[]}static{this.\u0275fac=function(n){return new(n||e)(d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),d4=(()=>{class e{constructor(t){this.config=t,this.reservedSlugCharacters=" !*'();:@&=+$,/?%#[]",this.slugChar="-",this.slugRegex=new RegExp(`[${this.reservedSlugCharacters.split("").join("\\")}]`,"g"),this.sanitizeMultipleSlugChars=new RegExp(`${this.slugChar}+`,"g")}convert(t,n){return n=n??v({},t),t.name&&(n.name=this.normalize(t.name),n.slug=this.normalizeSlug(t.name),n.nameHtml=t.name),n}normalize(t){return t.replace(/<[^>]*>/g,"")}normalizeSlug(t){return this.normalize(t).trim().toLowerCase().replace(this.slugRegex,this.slugChar).replace(this.sanitizeMultipleSlugChars,this.slugChar)}static{this.\u0275fac=function(n){return new(n||e)(d(Ar))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rF=new C("ProductReferencesListNormalizer"),f4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i}load(t,n,i){return this.http.get(this.getEndpoint(t,n,i)).pipe(this.converter.pipeable(rF))}getEndpoint(t,n,i){return this.occEndpoints.buildUrl("productReferences",{urlParams:{productCode:t},queryParams:{referenceType:n,pageSize:i}})}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(Fe),d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),h4=new C("ProductReviewNormalizer"),p4=new C("ProductReviewSerializer"),g4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i}load(t,n){return this.http.get(this.getEndpoint(t,n)).pipe(S(i=>i.reviews),S(i=>i??[]),this.converter.pipeableMany(h4))}post(t,n){n=this.converter.convert(n,p4);let i=new ae({"Content-Type":"application/x-www-form-urlencoded"}),o=new URLSearchParams;return o.append("headline",n.headline),o.append("comment",n.comment),o.append("rating",n.rating.toString()),o.append("alias",n.alias),this.http.post(this.getEndpoint(t),o.toString(),{headers:i})}getEndpoint(t,n){return this.occEndpoints.buildUrl("productReviews",{urlParams:{productCode:t},queryParams:{maxCount:n}})}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(Fe),d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),ZI=new C("ProductSearchPageNormalizer"),m4=new C("ProductSuggestionNormalizer"),iF=new Ms(()=>({}));function v4(e){let r=e.map(n=>typeof n=="string"?xm(n):n),t=oF(ft({},...r));return sF(t)}function oF(e={}){let r=Object.keys(e);return r.includes("FULL")?(delete e.DEFAULT,delete e.BASIC):r.includes("DEFAULT")&&delete e.BASIC,Object.keys(e).forEach(t=>{e[t]=oF(e[t])}),e}function xm(e,r=0){let t={},n=r;for(;n<e.length;){if(e[n]===",")n>r&&(t[e.substring(r,n)]={}),r=n+1;else if(e[n]==="("){let i=xm(e,n+1);if(!Array.isArray(i))return t;t[e.substring(r,n)]=i[0],r=i[1],n=r-1}else if(e[n]===")")return n>r&&(t[e.substring(r,n)]={}),[t,n+1];n++}return r<e.length&&(t[e.substring(r,n)]={}),t}function sF(e){return Object.keys(e).map(r=>{let t=sF(e[r]);return t?`${r}(${t})`:r}).join(",")}function y4(e,r){let t=typeof r=="string"?xm(r):r;return aF(e,t)}function aF(e,r){if(!Th(e))return e;let t=Object.keys(r);if(t.length===0||t.find(i=>i==="BASIC"||i==="DEFAULT"||i==="FULL"))return e;let n={};return t.forEach(i=>{e.hasOwnProperty(i)&&(n[i]=aF(e[i],r[i]))}),n}var khe=new C("List of OCC constants that pass for user IDs.",{providedIn:"root",factory:()=>p3}),E4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.router=y(Ce,{optional:!0}),this.winRef=y(Jn),this.DEFAULT_SEARCH_CONFIG={pageSize:20}}search(t,n=this.DEFAULT_SEARCH_CONFIG,i){let o=new fo().set(iF,{sendUserIdAsHeader:!0});return this.http.get(this.getSearchEndpoint(t,n,i),{context:o}).pipe(this.converter.pipeable(ZI),F(s=>{if(s.keywordRedirectUrl){let a=this.parseUrlForNavigation(s.keywordRedirectUrl);if(a){let[c,u]=a;this.router?.navigate(c,u)}}}))}searchByCodes(t,n){if(t.length===0)return D({products:[]});let i=100,o=[];for(let a=0;a<t.length;a+=i)o.push(t.slice(a,a+i));let s=o.map(a=>{let c={filters:`code:${a.join(",")}`,pageSize:i};return this.search("",c,n).pipe(S(u=>({products:u?.products??[]})))});return Ko(s).pipe(S(a=>({products:a.flatMap(c=>c.products)})))}searchByCategory(t,n){return this.http.get(this.getSearchByCategoryEndpoint(t,n)).pipe(this.converter.pipeable(ZI),S(i=>({products:i.products??[]})))}loadSuggestions(t,n=3){return this.http.get(this.getSuggestionEndpoint(t,n.toString())).pipe(S(i=>i.suggestions??[]),this.converter.pipeableMany(m4))}getSearchByCategoryEndpoint(t,n){return this.occEndpoints.buildUrl("productSearchByCategory",{urlParams:{categoryCode:t},scope:n})}getSearchEndpoint(t,n,i){return this.occEndpoints.buildUrl("productSearch",{queryParams:v({query:t},n),scope:i})}getSuggestionEndpoint(t,n){return this.occEndpoints.buildUrl("productSuggestions",{queryParams:{term:t,max:n}})}parseUrlForNavigation(t){let n,i=/^https?:\/\//i;try{n=i.test(t)?new URL(t):new URL(t,this.winRef.location.origin)}catch{return null}let{queryParams:o,fragment:s}=this.router?.parseUrl(n.pathname+n.search+n.hash)??{},a=n.pathname.split("/").filter(Boolean),c={};return o&&(c.queryParams=o),s&&(c.fragment=s),[a,c]}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(Fe),d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),S4=(()=>{class e{constructor(t){this.http=t,this.FIELDS_PARAM="fields"}getOptimalUrlGroups(t){let n={};for(let o of t){let[s,a]=this.splitFields(o.url??"");n[s]||(n[s]={}),o.fields=a?xm(a):{},o.scopedData.scope!==void 0&&(n[s][o.scopedData.scope]=o)}let i={};for(let[o,s]of Object.entries(n)){let a=this.getUrlWithFields(o,Object.values(s).map(c=>c.fields));i[a]=s}return i}splitFields(t){let[n,i]=t.split("?"),o={};i&&i.split("&").forEach(c=>{let u=c.split("=");o[u[0]]=u[1]});let a=Object.keys(o).sort().reduce((c,u)=>(u!==this.FIELDS_PARAM&&c.push(o[u]?`${u}=${o[u]}`:u),c),[]).join("&");return[a?`${n}?${a}`:n,o[this.FIELDS_PARAM]]}getUrlWithFields(t,n){let i=v4(n);return i&&(t+=t.includes("?")?"&":"?",t+=`${this.FIELDS_PARAM}=${i}`),t}static{this.\u0275fac=function(n){return new(n||e)(d(we))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),C4=(()=>{class e{constructor(t,n){this.http=t,this.occFields=n}scopedDataLoad(t,n){let i=[];n||(n=s=>this.http.get(s));let o=this.occFields.getOptimalUrlGroups(t);return Object.entries(o).forEach(([s,a])=>{let c=Object.values(a);if(c.length===1)i.push(w(v({},c[0].scopedData),{data$:n?.(s)}));else{let u=n?.(s).pipe(Qe(1));c.forEach(l=>{i.push(w(v({},l.scopedData),{data$:u?.pipe(S(f=>y4(f,l.fields)))}))})}}),i}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(S4))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),I4=(()=>{class e{constructor(t,n,i,o){this.http=t,this.occEndpoints=n,this.converter=i,this.requestsOptimizer=o}load(t,n){return this.http.get(this.getEndpoint(t,n)).pipe(this.converter.pipeable(_o))}loadMany(t){let n=t.map(i=>({scopedData:i,url:this.getEndpoint(i.code,i.scope)}));return this.requestsOptimizer.scopedDataLoad(n).map(i=>w(v({},i),{data$:i.data$?.pipe(this.converter.pipeable(_o))}))}getEndpoint(t,n){return this.occEndpoints.buildUrl("product",{urlParams:{productCode:t},scope:n})}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(Fe),d(He),d(C4))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),_g=class{},Mg=class{},Ng=class{},Og=class{},xg=class{},pa=function(e){return e.LIST="list",e.DETAILS="details",e.ATTRIBUTES="attributes",e.VARIANTS="variants",e.CODE="code",e.PRICE="price",e.STOCK="stock",e.UNIT="unit",e.PROMOTIONS="promotions",e.LIST_ITEM="list_item",e.MULTI_DIMENSIONAL="multi_dimensional",e.MULTI_DIMENSIONAL_AVAILABILITY="multi_dimensional_availability",e}(pa||{}),D4={backend:{occ:{endpoints:{product:{default:"products/${productCode}?fields=DEFAULT,averageRating,images(FULL),classifications,manufacturer,numberOfReviews,categories(FULL),baseOptions,baseProduct,variantOptions,variantType",list:"products/${productCode}?fields=code,purchasable,name,summary,price(formattedValue),images(DEFAULT,galleryIndex),baseProduct",details:"products/${productCode}?fields=averageRating,stock(DEFAULT),description,availableForPickup,code,url,price(DEFAULT),numberOfReviews,manufacturer,categories(FULL),priceRange,multidimensional,tags,images(FULL)",promotions:"products/${productCode}?fields=potentialPromotions(description)",attributes:"products/${productCode}?fields=classifications",price:"products/${productCode}?fields=price(formattedValue)",stock:"products/${productCode}?fields=stock(DEFAULT)",unit:"products/${productCode}?fields=sapUnit",list_item:"products/${productCode}?fields=code,name,price(formattedValue),images(DEFAULT),baseProduct"},productAvailabilities:"productAvailabilities?filters=${productCode}:${unitSapCode}",productReviews:"products/${productCode}/reviews",productReferences:"products/${productCode}/references?fields=DEFAULT,references(target(images(FULL)))",productSearch:{default:"products/search?fields=products(code,name,summary,configurable,configuratorType,multidimensional,price(FULL),images(DEFAULT),stock(FULL),averageRating,variantOptions,baseProduct,priceRange(maxPrice(formattedValue),minPrice(formattedValue))),facets,breadcrumbs,pagination(DEFAULT),sorts(DEFAULT),freeTextSearch,currentQuery,keywordRedirectUrl",carousel:"products/search?fields=products(code,purchasable,name,summary,price(formattedValue),stock(DEFAULT),images(DEFAULT,galleryIndex),baseProduct)",carouselMinimal:"products/search?fields=products(code,name,price(formattedValue),images(DEFAULT),baseProduct)"},productSearchByCategory:{default:"categories/${categoryCode}/products?fields=DEFAULT",code:"categories/${categoryCode}/products?fields=products(code)"},productSuggestions:"products/suggestions"}},loadingScopes:{product:{details:{include:[pa.LIST,pa.VARIANTS]}}}}},w4=(()=>{class e{constructor(){this.http=y(we),this.occEndpoints=y(Fe)}loadRealTimeStock(t,n){let i=this.occEndpoints.buildUrl("productAvailabilities",{urlParams:{productCode:t,unitSapCode:n}});return this.http.get(i).pipe(q(1),S(o=>o?.availabilityItems?.[0]?.unitAvailabilities?.[0]||{}),M(()=>D({})))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Uhe=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[An(D4),{provide:_g,useClass:I4},{provide:Mg,useClass:w4},{provide:_o,useExisting:c4,multi:!0},{provide:_o,useExisting:d4,multi:!0},{provide:Ng,useClass:f4},{provide:rF,useExisting:l4,multi:!0},{provide:xg,useClass:E4},{provide:ZI,useExisting:u4,multi:!0},{provide:Og,useClass:g4}],imports:[Pe]})}}return e})(),b4=(()=>{class e{constructor(){}convert(t,n){return n===void 0&&(n=v({},t)),n.baseStore=t.stores?.[0],delete n.stores,n}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),T4=new C("LanguageNormalizer"),R4=new C("CurrencyNormalizer"),A4=new C("CountryNormalizer"),_4=new C("RegionNormalizer"),cF=new C("BaseSiteNormalizer"),M4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpointsService=n,this.converterService=i}loadLanguages(){return this.http.get(this.occEndpointsService.buildUrl("languages")).pipe(S(t=>t.languages??[]),this.converterService.pipeableMany(T4))}loadCurrencies(){return this.http.get(this.occEndpointsService.buildUrl("currencies")).pipe(S(t=>t.currencies??[]),this.converterService.pipeableMany(R4))}loadCountries(t){return this.http.get(this.occEndpointsService.buildUrl("countries",{queryParams:t?{type:t}:void 0})).pipe(S(n=>n.countries??[]),this.converterService.pipeableMany(A4))}loadRegions(t){return this.http.get(this.occEndpointsService.buildUrl("regions",{urlParams:{isoCode:t}})).pipe(S(n=>n.regions??[]),this.converterService.pipeableMany(_4))}loadBaseSite(t){return t||(t=this.occEndpointsService.getBaseUrl().split("/").pop()),this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(S(n=>n.baseSites.find(i=>i.uid===t)))}loadBaseSites(){return this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(S(t=>t.baseSites),this.converterService.pipeableMany(cF))}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(Fe),d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Pg=class{},N4={backend:{occ:{endpoints:{languages:"languages",currencies:"currencies",countries:"countries",regions:"countries/${isoCode}/regions?fields=regions(name,isocode,isocodeShort)",baseSites:"basesites?fields=FULL"}}}},Ni=(()=>{class e{constructor(t,n){this.store=t,this.config=n}getAll(){return this.store.pipe(A(F3),F(t=>{t||this.store.dispatch(new Wh)}),R(ca))}getActive(){return this.store.pipe(A(OI),R(ca))}setActive(t){this.store.pipe(A(OI),q(1)).subscribe(n=>{n!==t&&this.isValid(t)&&this.store.dispatch(new Kh(t))})}isInitialized(){let t=!1;return this.getActive().subscribe(()=>t=!0).unsubscribe(),t}isValid(t){return!!t&&Su(this.config,Oo).includes(t)}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(ri))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),xu=(()=>{class e{constructor(t,n){this.store=t,this.config=n}getAll(){return this.store.pipe(A(N3),F(t=>{t||this.store.dispatch(new Bh)}),R(ca))}getActive(){return this.store.pipe(A(NI),R(ca))}setActive(t){this.store.pipe(A(NI),q(1)).subscribe(n=>{n!==t&&this.isValid(t)&&this.store.dispatch(new zh(t))})}isInitialized(){let t=!1;return this.getActive().subscribe(()=>t=!0).unsubscribe(),t}isValid(t){return!!t&&Su(this.config,xo).includes(t)}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(ri))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),O4=(()=>{class e{constructor(t,n,i,o){this.languageService=t,this.currencyService=n,this.occEndpoints=i,this.config=o,this.activeLang=ei(this.config,Oo),this.activeCurr=ei(this.config,xo),this.languageService.getActive().subscribe(s=>this.activeLang=s),this.currencyService.getActive().subscribe(s=>{this.activeCurr=s})}intercept(t,n){return t.url.includes(this.occEndpoints.getBaseUrl())&&(t=t.clone({setParams:{lang:this.activeLang??"",curr:this.activeCurr??""}})),n.handle(t)}static{this.\u0275fac=function(n){return new(n||e)(d(Ni),d(xu),d(Fe),d(ri))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),x4=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[An(N4),{provide:Pg,useClass:M4},{provide:Zt,useExisting:O4,multi:!0},{provide:cF,useExisting:b4,multi:!0}],imports:[Pe]})}}return e})(),P4=(()=>{class e{constructor(t){this.anonymousConsentsService=t}convert(t){return this.anonymousConsentsService.decodeAndDeserialize(t)}static{this.\u0275fac=function(n){return new(n||e)(d(Iu))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),F4=(()=>{class e{constructor(t){this.converter=t}convert(t,n){return n===void 0&&(n=v({},t)),t&&t.results&&(n.results=t.results.map(i=>w(v({},i),{product:this.converter.convert(i.product,_o)}))),n}static{this.\u0275fac=function(n){return new(n||e)(d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),uF=new C("AnonymousConsentNormalizer"),QI=new C("ConsentTemplateNormalizer"),L4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.logger=y(W)}loadAnonymousConsentTemplates(){let t=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.get(t).pipe(M(n=>{throw Ke(n,this.logger)}),S(n=>n.consentTemplates??[]),this.converter.pipeableMany(QI))}loadAnonymousConsents(){let t=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.head(t,{observe:"response"}).pipe(M(n=>{throw Ke(n,this.logger)}),S(n=>n.headers.get(lI)??""),this.converter.pipeable(uF))}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(Fe),d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),k4=new C("CustomerCouponSearchResultNormalizer"),U4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i}getCustomerCoupons(t,n,i,o){if(t===na)return D({});let s=this.occEndpoints.buildUrl("customerCoupons",{urlParams:{userId:t}}),a=new Oe().set("sort",o||"startDate:asc");n&&(a=a.set("pageSize",n.toString())),i&&(a=a.set("currentPage",i.toString()));let c=this.newHttpHeader();return this.http.get(s,{headers:c,params:a}).pipe(this.converter.pipeable(k4))}turnOffNotification(t,n){let i=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:t,couponCode:n}}),o=this.newHttpHeader();return this.http.delete(i,{headers:o})}turnOnNotification(t,n){let i=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:t,couponCode:n}}),o=this.newHttpHeader();return this.http.post(i,{headers:o})}claimCustomerCouponWithCodeInBody(t,n){let i=this.occEndpoints.buildUrl("claimCustomerCoupon",{urlParams:{userId:t}}),o={couponCode:n},s=this.newHttpHeader();return this.http.post(i,o,{headers:s})}claimCustomerCoupon(t,n){let i=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:t,couponCode:n}}),o=this.newHttpHeader();return this.http.post(i,{headers:o})}disclaimCustomerCoupon(t,n){let i=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:t,couponCode:n}}),o=this.newHttpHeader();return this.http.delete(i,{headers:o})}newHttpHeader(){return new ae({"Content-Type":"application/json"})}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(Fe),d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),lF=new C("AddressNormalizer"),j4=new C("AddressesNormalizer"),tI=new C("AddressSerializer"),$4=new C("AddressValidationNormalizer"),eu={"Content-Type":"application/json"},B4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.logger=y(W)}loadAll(t){let n=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:t}}),i=new ae(v({},eu));return this.http.get(n,{headers:i}).pipe(M(o=>{throw Ke(o,this.logger)}),S(o=>o.addresses??[]),this.converter.pipeableMany(lF))}add(t,n){let i=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:t}}),o=new ae(v({},eu));return n=this.converter.convert(n,tI),this.http.post(i,n,{headers:o}).pipe(M(s=>{throw Ke(s,this.logger)}))}update(t,n,i){let o=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:t,addressId:n}}),s=new ae(v({},eu));return i=this.converter.convert(i,tI),this.http.patch(o,i,{headers:s}).pipe(M(a=>{throw Ke(a,this.logger)}))}verify(t,n){let i=this.occEndpoints.buildUrl("addressVerification",{urlParams:{userId:t}}),o=new ae(v({},eu));return t===na&&(o=iu.createHeader(xI,!0,o)),n=this.converter.convert(n,tI),this.http.post(i,n,{headers:o}).pipe(M(s=>{throw Ke(s,this.logger)}),this.converter.pipeable($4))}delete(t,n){let i=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:t,addressId:n}}),o=new ae(v({},eu));return this.http.delete(i,{headers:o}).pipe(M(s=>{throw Ke(s,this.logger)}))}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(Fe),d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),V4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.logger=y(W)}loadConsents(t){let n=this.occEndpoints.buildUrl("consentTemplates",{urlParams:{userId:t}}),i=new ae({"Cache-Control":"no-cache"});return this.http.get(n,{headers:i}).pipe(M(o=>{throw Ke(o,this.logger)}),S(o=>o.consentTemplates??[]),this.converter.pipeableMany(QI))}giveConsent(t,n,i){let o=this.occEndpoints.buildUrl("consents",{urlParams:{userId:t}}),s=new Oe().set("consentTemplateId",n).set("consentTemplateVersion",i.toString()),a=new ae({"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"});return this.http.post(o,s,{headers:a}).pipe(M(c=>{throw Ke(c,this.logger)}),this.converter.pipeable(QI))}withdrawConsent(t,n){let i=new ae({"Cache-Control":"no-cache"}),o=this.occEndpoints.buildUrl("consentDetail",{urlParams:{userId:t,consentId:n}});return this.http.delete(o,{headers:i})}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(Fe),d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),dF=new C("ProductInterestsNormalizer"),xO=new ae({"Content-Type":"application/json"}),H4=(()=>{class e{constructor(t,n,i,o){this.http=t,this.occEndpoints=n,this.config=i,this.converter=o,this.logger=y(W)}getInterests(t,n,i,o,s,a){let c=new Oe().set("sort",o||"name:asc");return n&&(c=c.set("pageSize",n.toString())),i&&(c=c.set("currentPage",i.toString())),s&&(c=c.set("productCode",s)),a&&(c=c.set("notificationType",a.toString())),this.http.get(this.occEndpoints.buildUrl("getProductInterests",{urlParams:{userId:t}}),{headers:xO,params:c}).pipe(this.converter.pipeable(dF),M(u=>{throw Ke(u,this.logger)}))}removeInterest(t,n){let i=[];return n.productInterestEntry?.forEach(o=>{let s=new Oe().set("productCode",n.product?.code??"").set("notificationType",o.interestType);i.push(this.http.delete(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:t}}),{params:s}).pipe(M(a=>{throw Ke(a,this.logger)})))}),Ko(i)}addInterest(t,n,i){let o=new Oe().set("productCode",n).set("notificationType",i.toString());return this.http.post(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:t}}),{},{headers:xO,params:o}).pipe(M(s=>{throw Ke(s,this.logger)}))}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(Fe),d(Ar),d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),z4=new C("NotificationPreferenceSerializer"),G4=new C("NotificationPreferenceNormalizer"),Fg=class{},W4=(()=>{class e{constructor(t){this.adapter=t}loadAll(t){return this.adapter.loadAll(t)}update(t,n){return this.adapter.update(t,n)}static{this.\u0275fac=function(n){return new(n||e)(d(Fg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),PO=new ae({"Content-Type":"application/json"}),q4=(()=>{class e{constructor(t,n,i){this.http=t,this.converter=n,this.occEndpoints=i,this.logger=y(W)}loadAll(t){return this.http.get(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:t}}),{headers:PO}).pipe(S(n=>n.preferences??[]),this.converter.pipeableMany(G4),M(n=>{throw Ke(n,this.logger)}))}update(t,n){return n=this.converter.convert(n,z4),this.http.patch(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:t}}),{preferences:n},{headers:PO}).pipe(M(i=>{throw Ke(i,this.logger)}))}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(He),d(Fe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Y4=new C("PaymentDetailsNormalizer"),nI={"Content-Type":"application/json"},K4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.logger=y(W)}loadAll(t){let n=this.occEndpoints.buildUrl("paymentDetailsAll",{urlParams:{userId:t}})+"?saved=true",i=new ae(v({},nI));return this.http.get(n,{headers:i}).pipe(M(o=>{throw Ke(o,this.logger)}),S(o=>o.payments??[]),this.converter.pipeableMany(Y4))}delete(t,n){let i=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:t,paymentDetailId:n}}),o=new ae(v({},nI));return this.http.delete(i,{headers:o}).pipe(M(s=>{throw Ke(s,this.logger)}))}setDefault(t,n){let i=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:t,paymentDetailId:n}}),o=new ae(v({},nI));return this.http.patch(i,{billingAddress:{titleCode:"mr"},defaultPayment:!0},{headers:o}).pipe(M(s=>{throw Ke(s,this.logger)}))}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(Fe),d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Lg=class{},kg=class{},Ug=class{},jg=class{},$g=class{},Bg=class{},Z4=(()=>{class e{constructor(t){this.converter=t}convert(t,n){return n===void 0&&(n=v({},t)),n.values=t.addresses?.map(i=>v({},this.converter.convert(i,lF)))??[],n}static{this.\u0275fac=function(n){return new(n||e)(d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Q4={backend:{occ:{endpoints:{paymentDetailsAll:"users/${userId}/paymentdetails",paymentDetail:"users/${userId}/paymentdetails/${paymentDetailId}",anonymousConsentTemplates:"users/anonymous/consenttemplates",consentTemplates:"users/${userId}/consenttemplates",consents:"users/${userId}/consents",consentDetail:"users/${userId}/consents/${consentId}",addresses:"users/${userId}/addresses",addressDetail:"users/${userId}/addresses/${addressId}",addressVerification:"users/${userId}/addresses/verification",customerCoupons:"users/${userId}/customercoupons",claimCoupon:"users/${userId}/customercoupons/${couponCode}/claim",claimCustomerCoupon:"users/${userId}/customercoupons/claim",couponNotification:"users/${userId}/customercoupons/${couponCode}/notification",notificationPreference:"users/${userId}/notificationpreferences",productInterests:"users/${userId}/productinterests",getProductInterests:"users/${userId}/productinterests?fields=sorts,pagination,results(productInterestEntry,product(code))"}}}},X4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i}loadActiveList(t){let n=new fo().set(iF,{sendUserIdAsHeader:!0});return this.http.get(this.getCostCentersEndpoint(t),{context:n}).pipe(this.converter.pipeable(nF))}getCostCentersEndpoint(t,n){return this.occEndpoints.buildUrl("getActiveCostCenters",{urlParams:{userId:t},queryParams:n})}static{this.\u0275fac=function(n){return new(n||e)(d(we),d(Fe),d(He))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),jhe=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[An(Q4),{provide:Lg,useClass:B4},{provide:kg,useClass:V4},{provide:Tg,useClass:L4},{provide:Bg,useClass:K4},{provide:jg,useClass:U4},{provide:Fg,useClass:q4},{provide:$g,useClass:H4},{provide:Ug,useClass:X4},{provide:dF,useExisting:F4,multi:!0},{provide:uF,useExisting:P4,multi:!0},{provide:j4,useExisting:Z4,multi:!0}],imports:[Pe]})}}return e})(),J4={backend:{occ:{prefix:"/occ/v2/"},media:{}}};function e6(e){if(e.backend===void 0||e.backend.occ===void 0||e.backend.occ.baseUrl===void 0)return"Please configure backend.occ.baseUrl before using storefront library!"}var t6=(()=>{class e{constructor(t){this.config=t}intercept(t,n){return this.requiresWithCredentials(t)&&(t=t.clone({withCredentials:!0})),n.handle(t)}requiresWithCredentials(t){return this.occConfig?.useWithCredentials!==void 0&&t.url.indexOf(this.occConfig?.prefix??"")>-1}get occConfig(){return this.config.backend?.occ}static{this.\u0275fac=function(n){return new(n||e)(d(Ar))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),n6=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:Zt,useExisting:t6,multi:!0},An(J4),WD(e6)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[n4,x4]})}}return e})(),r6="occ-backend-base-url",i6="OCC_BACKEND_BASE_URL_VALUE",o6="media-backend-base-url",s6="MEDIA_BACKEND_BASE_URL_VALUE";function a6(e){let r=fF(r6,e);return r&&r!==i6?{backend:{occ:{baseUrl:r}}}:{}}function c6(e){let r=fF(o6,e);return r&&r!==s6?{backend:{media:{baseUrl:r}}}:{}}function fF(e,r){let t=r.getTag(`name="${e}"`);return t&&t.content}function u6(){return[Rh(a6,[BS]),Rh(c6,[BS])]}var l6=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...u6()]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})(),d6=(()=>{class e{constructor(t){this.config=t}expand(t,n){let i=this.config?.backend?.loadingScopes?.[t];if(i){let o=[...n],s=o.length;for(;s>0;){s--;let a=i[o[s]]?.include;if(a)for(let c of a)o.includes(c)||(o.splice(s,0,c),s++)}return o}return n}getMaxAge(t,n){return(this.config.backend?.loadingScopes?.[t]?.[n]?.maxAge??0)*1e3}getReloadTriggers(t,n){return this.config.backend?.loadingScopes?.[t]?.[n]?.reloadOn??[]}static{this.\u0275fac=function(n){return new(n||e)(d(Ar))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Nr=wn(sP),f6=T(Nr,e=>e.billingCountries),h6=T(f6,e=>e.entities),p6=T(h6,e=>Object.keys(e).map(r=>e[r])),Pm=T(Nr,e=>e.customerCoupons),g6=T(Pm,e=>Qn(e)),m6=T(Pm,e=>Ft(e)),$he=T(Pm,e=>Ze(e)),v6=T(Nr,e=>e.countries),hF=T(v6,e=>e.entities),y6=T(hF,e=>Object.keys(e).map(r=>e[r])),E6=e=>T(hF,r=>Object.keys(r).length!==0?r[e]:null),$w=T(Nr,e=>e.notificationPreferences),S6=T($w,e=>Ze(e)),C6=T($w,e=>Ze(e).filter(r=>r.enabled)),I6=T($w,e=>Ft(e)),Bw=T(Nr,e=>e.payments),D6=T(Bw,e=>Ze(e)),w6=T(Bw,e=>Ft(e)),b6=T(Bw,e=>Qn(e)&&!Ft(e)),Vw=T(Nr,e=>e.productInterests),T6=T(Vw,e=>Ze(e)),R6=T(Vw,e=>Ft(e)),Pu=T(Nr,e=>e.regions),Bhe=T(Pu,e=>Ze(e).entities),A6=T(Pu,e=>({loaded:Qn(e),loading:Ft(e),regions:Ze(e).entities,country:Ze(e).country})),Vhe=T(Pu,e=>Ze(e).country),Hhe=T(Pu,e=>Ft(e)),zhe=T(Pu,e=>Qn(e)),Hw=T(Nr,e=>e.addresses),_6=T(Hw,e=>Ze(e)),M6=T(Hw,e=>Ft(e)),N6=T(Hw,e=>Qn(e)&&!Ft(e)),Fm=T(Nr,e=>e.consents),XI=T(Fm,e=>Ze(e)),O6=e=>T(XI,r=>r.find(t=>t.id===e)),x6=T(Fm,Ft),P6=T(Fm,Qn),F6=T(Fm,ma),L6=T(Nr,e=>e.costCenters),Ghe=T(L6,e=>Ze(e));var k6=(()=>{class e{constructor(t,n,i){this.store=t,this.authService=n,this.userIdService=i}loadConsents(){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new fg(t))})}getConsents(t=!1){return Ra(()=>t,this.store.pipe(A(XI),Xe(this.getConsentsResultLoading(),this.getConsentsResultSuccess()),R(([n,i,o])=>!i),F(([n,i,o])=>{(!n||n.length===0)&&(o||this.loadConsents())}),R(([n,i])=>!!n),S(([n,i])=>n)),this.store.pipe(A(XI)))}getConsentsResultLoading(){return this.store.pipe(A(x6))}getConsentsResultSuccess(){return this.store.pipe(A(P6))}getConsentsResultError(){return this.store.pipe(A(F6))}resetConsentsProcessState(){this.store.dispatch(new cu)}getConsent(t){return Ae([this.authService.isUserLoggedIn(),this.userIdService.getUserId()]).pipe(R(([n,i])=>n&&i===ta),_(()=>this.getConsents(!0)),q(1),_(()=>this.store.pipe(A(O6(t)))),R(un),S(n=>n.currentConsent))}isConsentGiven(t){return!!t&&!!t.consentGivenDate&&!t.consentWithdrawnDate}isConsentWithdrawn(t){return t?!!t?.consentWithdrawnDate:!0}giveConsent(t,n){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new uu({userId:i,consentTemplateId:t,consentTemplateVersion:n}))})}getGiveConsentResultLoading(){return this.store.pipe(A(Ri(bo)))}getGiveConsentResultSuccess(){return this.store.pipe(A(Qr(bo)))}getGiveConsentResultError(){return this.store.pipe(A(Ti(bo)))}resetGiveConsentProcessState(){return this.store.dispatch(new vg)}withdrawConsent(t,n){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new Eg({userId:i,consentCode:t,consentId:n}))})}getWithdrawConsentResultLoading(){return this.store.pipe(A(Ri(To)))}getWithdrawConsentResultSuccess(){return this.store.pipe(A(Qr(To)))}getWithdrawConsentResultError(){return this.store.pipe(A(Ti(To)))}resetWithdrawConsentProcessState(){return this.store.dispatch(new Ig)}filterConsentTemplates(t,n=[]){if(n.length===0)return t;let i=[];for(let o of t)o.id&&!n.includes(o.id)&&i.push(o);return i}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(er),d(Xn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),U6=(()=>{class e{isRequiredConsent(t){return!!(t&&this.anonymousConsentsConfig.anonymousConsents?.requiredConsents?.includes(t))}constructor(t,n,i,o,s,a,c){this.actions$=t,this.anonymousConsentTemplatesConnector=n,this.authService=i,this.anonymousConsentsConfig=o,this.anonymousConsentService=s,this.userConsentService=a,this.userIdService=c,this.logger=y(W),this.checkConsentVersions$=B(()=>this.actions$.pipe(j(wx),Xe(this.anonymousConsentService.getConsents()),Te(([u,l])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsents().pipe(S(f=>{if(!f)return le()&&this.logger.warn("No consents were loaded. Please check the Spartacus documentation as this could be a back-end configuration issue."),!1;let h=l.map(E=>E.templateVersion),p=f.map(E=>E.templateVersion);return this.detectUpdatedVersion(h,p)}),_(f=>f?D(new Mh):ce),M(f=>D(new Oh(te(f,this.logger)))))))),this.loadAnonymousConsentTemplates$=B(()=>this.actions$.pipe(j(yx),Xe(this.anonymousConsentService.getTemplates()),Te(([u,l])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsentTemplates().pipe($(f=>{let h=!1;return l&&l.length!==0&&(h=this.anonymousConsentService.detectUpdatedTemplates(l,f)),[new Nh(f),new xh(h)]}),M(f=>D(new Oh(te(f,this.logger)))))))),this.transferAnonymousConsentsToUser$=B(()=>this.actions$.pipe(j(Zn),R(()=>!!this.anonymousConsentsConfig.anonymousConsents),Xe(this.actions$.pipe(j(Uw))),R(([,u])=>!!u),_(()=>this.anonymousConsentService.getConsents().pipe(Xe(this.userIdService.getUserId(),this.anonymousConsentService.getTemplates(),this.authService.isUserLoggedIn()),R(([,,,u])=>u),Te(([u,l,f,h])=>{let p=[];for(let E of u)if(this.anonymousConsentService.isConsentGiven(E)&&!this.isRequiredConsent(E.templateCode)){for(let I of f)if(I.id===E.templateCode){p.push(new yg({userId:l,consentTemplateId:I.id,consentTemplateVersion:I.version}));break}}return p.length>0?p:ce}))))),this.giveRequiredConsentsToUser$=B(()=>this.actions$.pipe(j(Zn),R(u=>!!(this.anonymousConsentsConfig.anonymousConsents&&this.anonymousConsentsConfig.anonymousConsents.requiredConsents&&u)),Te(()=>this.userConsentService.getConsentsResultSuccess().pipe(q(1),Xe(this.userIdService.getUserId(),this.userConsentService.getConsents(),this.authService.isUserLoggedIn()),R(([,,,u])=>u),F(([u,l,f,h])=>{u||this.userConsentService.loadConsents()}),S(([u,l,f,h])=>({userId:l,templates:f})),Te(({userId:u,templates:l})=>{let f=[];for(let h of l)this.userConsentService.isConsentWithdrawn(h.currentConsent)&&this.isRequiredConsent(h.id)&&f.push(new uu({userId:u,consentTemplateId:h.id,consentTemplateVersion:h.version}));return f.length>0?f:ce})))))}detectUpdatedVersion(t,n){if(t.length!==n.length)return!0;for(let i=0;i<n.length;i++)if(t[i]!==n[i])return!0;return!1}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(Fq),d(er),d(iP),d(Iu),d(k6),d(Xn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),j6=[U6],$6=(()=>{class e{constructor(t,n,i){this.baseSiteService=t,this.javaRegExpConverter=n,this.winRef=i,this.scopes=["context"],this.configFactory=()=>cr(this.resolveConfig())}get currentUrl(){return this.winRef.location.href}resolveConfig(){return this.baseSiteService.getAll().pipe(S(t=>t?.find(n=>this.isCurrentBaseSite(n))),R(t=>{if(!t)throw new Error(`Error: Cannot get base site config! Current url (${this.currentUrl}) doesn't match any of url patterns of any base sites.`);return!!t}),S(t=>this.getConfig(t)),q(1))}getConfig(t){return{context:{urlParameters:this.getUrlParams(t.urlEncodingAttributes),[ti]:[t.uid],[Oo]:this.getIsoCodes(t.baseStore?.languages,t.defaultLanguage||t.baseStore?.defaultLanguage),[xo]:this.getIsoCodes(t.baseStore?.currencies,t.baseStore?.defaultCurrency),[Ox]:[t.theme]}}}isCurrentBaseSite(t){return(t.urlPatterns||[]).findIndex(i=>{let o=this.javaRegExpConverter.toJsRegExp(i);if(o)return o.test(this.currentUrl)})!==-1}getUrlParams(t){let n="storefront";return(t||[]).map(i=>i===n?ti:i)}getIsoCodes(t,n){if(t&&n)return this.moveToFirst(t,o=>o.isocode===n.isocode).map(o=>o.isocode)}moveToFirst(t,n){t=[...t];let i=t.findIndex(n);if(i!==-1){let[o]=t.splice(i,1);t.unshift(o)}return t}static{this.\u0275fac=function(n){return new(n||e)(d(Fo),d(X3),d(Jn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),va=(()=>{class e{constructor(t){this.adapter=t}getLanguages(){return this.adapter.loadLanguages()}getCurrencies(){return this.adapter.loadCurrencies()}getCountries(t){return this.adapter.loadCountries(t)}getRegions(t){return this.adapter.loadRegions(t)}getBaseSite(t){return this.adapter.loadBaseSite(t)}getBaseSites(){return this.adapter.loadBaseSites()}static{this.\u0275fac=function(n){return new(n||e)(d(Pg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),FO=(()=>{class e extends ni{static{this.type="LanguageSetEvent"}}return e})(),LO=(()=>{class e extends ni{static{this.type="CurrencySetEvent"}}return e})(),B6=(()=>{class e{constructor(t,n){this.actionsSubject=t,this.eventService=n,this.register()}register(){this.registerSetLanguage(),this.registerSetCurrency()}registerSetLanguage(){let t=this.actionsSubject.pipe(j(bm),S(n=>Ai(FO,{activeLanguage:n.payload})));this.eventService.register(FO,t)}registerSetCurrency(){let t=this.actionsSubject.pipe(j(wm),S(n=>Ai(LO,{activeCurrency:n.payload})));this.eventService.register(LO,t)}static{this.\u0275fac=function(n){return new(n||e)(d(Dn),d(ko))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),V6=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(d(B6))}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})(),Vg=class{};function H6(){return{[Oo]:Ni,[xo]:xu,[ti]:Fo}}var z6={provide:Vg,useFactory:H6},G6=(()=>{class e{constructor(t,n){this.baseSiteService=t,this.configInit=n}initialize(){this.subscription=this.configInit.getStable("context").pipe(_(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(F(t=>this.setDefaultFromConfig(t)))}setDefaultFromConfig(t){let n=ei(t,ti);!this.baseSiteService.isInitialized()&&n&&this.baseSiteService.setActive(n)}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(d(Fo),d(Tn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),W6=(()=>{class e{constructor(t,n,i){this.statePersistenceService=t,this.currencyService=n,this.config=i,this.initialized$=new Lt(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:xo,state$:this.currencyService.getActive(),onRead:t=>this.onRead(t)}),this.initialized$}onRead(t){!this.currencyService.isInitialized()&&t&&this.currencyService.setActive(t),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}static{this.\u0275fac=function(n){return new(n||e)(d(bu),d(xu),d(ri))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),q6=(()=>{class e{constructor(t,n,i){this.currencyService=t,this.currencyStatePersistenceService=n,this.configInit=i}initialize(){this.subscription=this.configInit.getStable("context").pipe(_(()=>this.currencyStatePersistenceService.initSync()),_(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(F(t=>this.setDefaultFromConfig(t)))}setDefaultFromConfig(t){let n=ei(t,xo);!this.currencyService.isInitialized()&&n&&this.currencyService.setActive(n)}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(d(xu),d(W6),d(Tn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Y6=(()=>{class e{constructor(t,n,i){this.statePersistenceService=t,this.languageService=n,this.config=i,this.initialized$=new Lt(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:Oo,state$:this.languageService.getActive(),onRead:t=>this.onRead(t)}),this.initialized$}onRead(t){!this.languageService.isInitialized()&&t&&this.languageService.setActive(t),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}static{this.\u0275fac=function(n){return new(n||e)(d(bu),d(Ni),d(ri))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),K6=(()=>{class e{constructor(t,n,i){this.languageService=t,this.languageStatePersistenceService=n,this.configInit=i}initialize(){this.subscription=this.configInit.getStable("context").pipe(_(()=>this.languageStatePersistenceService.initSync()),_(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(F(t=>this.setDefaultFromConfig(t)))}setDefaultFromConfig(t){let n=ei(t,Oo);!this.languageService.isInitialized()&&n&&this.languageService.setActive(n)}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(d(Ni),d(Y6),d(Tn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),zw=(()=>{class e{constructor(t,n,i){this.config=t,this.injector=n,this.serviceMap=i,this.logger=y(W)}getContextParameters(){return this.config.context?Object.keys(this.config.context).filter(t=>t!=="urlParameters"):[]}getUrlEncodingParameters(){return this.config.context&&this.config.context.urlParameters||[]}getParamValues(t){return Su(this.config,t)}getParamDefaultValue(t){return ei(this.config,t)}getSiteContextService(t){if(this.serviceMap[t])try{return this.injector.get(this.serviceMap[t])}catch{le()&&this.logger.warn(`Couldn't find site context service for '${t}'.`);return}}getValue(t){let n,i=this.getSiteContextService(t);return i&&i.getActive().subscribe(o=>n=o).unsubscribe(),n!==void 0?n:this.getParamDefaultValue(t)}setValue(t,n){let i=this.getSiteContextService(t);i&&i.setActive(n)}getValues(t){return t.length===0?D([]):Ae(t.map(n=>{let i=this.getSiteContextService(n);return i?i.getActive().pipe(gn()):D("")})).pipe(R(n=>n.every(i=>!!i)))}static{this.\u0275fac=function(n){return new(n||e)(d(ri),d(ve),d(Vg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),JI=(()=>{class e extends Ir{get urlEncodingParameters(){return this.siteContextParams.getUrlEncodingParameters()}get hasContextInRoutes(){return this.urlEncodingParameters.length>0}constructor(t){super(),this.siteContextParams=t,this.URL_SPLIT=/(^[^#?]*)(.*)/}parse(t){if(this.hasContextInRoutes){let n=this.urlExtractContextParameters(t),i=super.parse(n.url);return this.urlTreeIncludeContextParameters(i,n.params),i}else return super.parse(t)}urlExtractContextParameters(t){let[,n,i]=t.match(this.URL_SPLIT)??[,"",""],o=n?.split("/")??[];o[0]===""&&o.shift();let s={},a=0,c=0;for(;a<this.urlEncodingParameters.length&&c<o.length;){let u=this.urlEncodingParameters[a];this.siteContextParams.getParamValues(u).includes(o[c])&&(s[u]=o[c],c++),a++}return t=o.slice(c).join("/")+i,{url:t,params:s}}urlTreeIncludeContextParameters(t,n){t.siteContext=n}serialize(t){let n=this.urlTreeExtractContextParameters(t),i=super.serialize(t);return this.urlIncludeContextParameters(i,n)}urlTreeExtractContextParameters(t){return t.siteContext?t.siteContext:{}}urlIncludeContextParameters(t,n){return this.urlEncodingParameters.map(o=>n[o]?n[o]:this.siteContextParams.getValue(o)).join("/")+t}static{this.\u0275fac=function(n){return new(n||e)(d(zw))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function Z6(e){if(ei(e,ti)===void 0)return"Please configure context.parameters.baseSite before using storefront library!"}function Q6(){return{context:{[Oo]:["en","de","ja","zh","ru","fr","tr","it","es","uk","pl","nl","hi","ar","pt","bn","pa"],[xo]:["USD","EUR","JPY","GBP","AUD","CAD","CHF","CNY","SEK","NZD","MXN","SGD","HKD","NOK","KRW","TRY","RUB","INR","BRL","ZAR"]}}}function X6(e){return()=>{e.initialize()}}function J6(e){return()=>{e.initialize()}}function e5(e){return()=>{e.initialize()}}var t5=[{provide:Nt,useFactory:J6,deps:[K6],multi:!0},{provide:Nt,useFactory:X6,deps:[q6],multi:!0},{provide:Nt,useFactory:e5,deps:[G6],multi:!0}],n5=(()=>{class e{constructor(t,n,i){this.siteContextParams=t,this.serializer=n,this.injector=i,this.subscription=new de,this.contextValues={},this.isNavigating=!1}init(){this.router=this.injector.get(Ce),this.location=this.injector.get(Cn);let t=this.siteContextParams.getUrlEncodingParameters();t.length&&(this.setContextParamsFromRoute(this.location.path(!0)),this.subscribeChanges(t),this.subscribeRouting())}subscribeChanges(t){t.forEach(n=>{let i=this.siteContextParams.getSiteContextService(n);i&&this.subscription.add(i.getActive().subscribe(o=>{if(!this.isNavigating&&this.contextValues[n]&&this.contextValues[n]!==o){let s=this.router.parseUrl(this.router.url),a=this.router.serializeUrl(s);this.location.replaceState(a)}this.contextValues[n]=o}))})}subscribeRouting(){this.subscription.add(this.router.events.pipe(R(t=>t instanceof Jt||t instanceof Ve||t instanceof Wn||t instanceof Xt)).subscribe(t=>{this.isNavigating=t instanceof Jt,this.isNavigating&&this.setContextParamsFromRoute(t.url)}))}setContextParamsFromRoute(t){let{params:n}=this.serializer.urlExtractContextParameters(t);Object.keys(n).forEach(i=>this.siteContextParams.setValue(i,n[i]))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(d(zw),d(JI),d(ve))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function r5(e,r){return()=>cr(e.getStable("context").pipe(F(()=>{r.init()})))}var i5=[Fo,Ni,xu,{provide:Nt,useFactory:r5,deps:[Tn,n5],multi:!0}],o5=[zw,JI,{provide:Kr,useExisting:JI}],s5=(()=>{class e{constructor(t,n){this.actions$=t,this.siteConnector=n,this.logger=y(W),this.loadBaseSite$=B(()=>this.actions$.pipe(j(PD),ur(()=>this.siteConnector.getBaseSite().pipe(S(i=>{if(i)return new Lh(i);throw new Error("BaseSite is not found")}),M(i=>D(new Fh(te(i,this.logger)))))))),this.loadBaseSites$=B(()=>this.actions$.pipe(j(LD),ur(()=>this.siteConnector.getBaseSites().pipe(S(i=>new jh(i)),M(i=>D(new Uh(te(i,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(va))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),a5=(()=>{class e{constructor(t,n,i){this.actions$=t,this.siteConnector=n,this.state=i,this.logger=y(W),this.loadCurrencies$=B(()=>this.actions$.pipe(j(jD),ur(()=>this.siteConnector.getCurrencies().pipe(S(o=>new Hh(o)),M(o=>D(new Vh(te(o,this.logger)))))))),this.activateCurrency$=B(()=>this.state.select(NI).pipe(_a(2,1),R(([o])=>!!o),S(([o,s])=>new Gh({previous:o,current:s}))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(va),d(ie))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),c5=(()=>{class e{constructor(t,n,i){this.actions$=t,this.siteConnector=n,this.state=i,this.logger=y(W),this.loadLanguages$=B(()=>this.actions$.pipe(j(BD),ur(()=>this.siteConnector.getLanguages().pipe(S(o=>new Yh(o)),M(o=>D(new qh(te(o,this.logger)))))))),this.activateLanguage$=B(()=>this.state.select(OI).pipe(_a(2,1),R(([o])=>!!o),S(([o,s])=>new Zh({previous:o,current:s}))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(va),d(ie))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),u5=[c5,a5,s5],l5={entities:null,details:{},activeSite:""};function d5(e=l5,r){switch(r.type){case FD:return w(v({},e),{details:r.payload});case UD:{let t={};return e.entities&&(t=e.entities[r.payload]),w(v({},e),{details:t,activeSite:r.payload})}case kD:{let n=r.payload.reduce((o,s)=>w(v({},o),{[s.uid??""]:s}),v({},e.entities)),i=n[e.activeSite];return w(v({},e),{details:i,entities:n})}}return e}var f5={entities:null,activeCurrency:null};function h5(e=f5,r){switch(r.type){case $D:{let n=r.payload.reduce((i,o)=>w(v({},i),{[o.isocode??""]:o}),v({},e.entities));return w(v({},e),{entities:n})}case wm:{let t=r.payload;return w(v({},e),{activeCurrency:t})}}return e}var p5={entities:null,activeLanguage:null};function g5(e=p5,r){switch(r.type){case VD:{let n=r.payload.reduce((i,o)=>w(v({},i),{[o.isocode??""]:o}),v({},e.entities));return w(v({},e),{entities:n})}case bm:{let t=r.payload;return w(v({},e),{activeLanguage:t})}}return e}function m5(){return{languages:g5,currencies:h5,baseSite:d5}}var pF=new C("SiteContextReducers"),v5={provide:pF,useFactory:m5};function y5(){return{state:{ssrTransfer:{keys:{[HD]:Lo.TRANSFER_STATE}}}}}var E5=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[No(y5),v5],imports:[Pe,Hn.forFeature(HD,pF),zn.forFeature(u5)]})}}return e})();function S5(e,r){return r.context?.[ti]?null:e}var C5=(()=>{class e{static forRoot(){return{ngModule:e,providers:[No(Q6),z6,...i5,...o5,WD(Z6),{provide:Rm,useFactory:S5,deps:[$6,ri],multi:!0},...t5]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[ii,E5,V6]})}}return e})(),I5=!1;function D5(e=I5,r){switch(r.type){case Ix:return r.dismissed}return e}var w5=!1;function b5(e=w5,r){switch(r.type){case Dx:return r.updated}return e}var T5=[];function kO(e,r,t){return e?e.map(n=>(n.templateCode===r&&(n=w(v({},n),{consentState:t})),n)):[]}function R5(e=T5,r){switch(r.type){case Sx:return kO(e,r.templateCode,aa.GIVEN);case Cx:return kO(e,r.templateCode,aa.WITHDRAWN);case Ex:return r.payload}return e}function A5(){return{templates:nt(mu),consents:R5,ui:po({bannerDismissed:D5,updated:b5})}}var gF=new C("AnonymousConsentsReducers"),_5={provide:gF,useFactory:A5};function M5(e){return function(r,t){return r!==void 0&&(t.type===Rr||t.type===ln)&&(r=w(v({},r),{templates:{}})),e(r,t)}}var N5=[M5],O5=(()=>{class e{constructor(t,n,i){this.statePersistenceService=t,this.store=n,this.anonymousConsentsService=i,this.subscription=new de,this.key="anonymous-consents"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:t=>this.onRead(t)}))}getAuthState(){return this.store.select(vu)}onRead(t){let n=t?.templates,i=t?.consents,o=t?.ui;n?.success&&this.store.dispatch(new Nh(n.value??[])),i&&this.anonymousConsentsService.setConsents(i),o&&(this.anonymousConsentsService.toggleBannerDismissed(o?.bannerDismissed),this.anonymousConsentsService.toggleTemplatesUpdated(o?.updated))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(d(bu),d(ie),d(Iu))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function x5(e){return()=>e.initSync()}var P5=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[_5,{provide:Nt,useFactory:x5,deps:[O5],multi:!0}],imports:[Pe,ii,Hn.forFeature(vx,gF,{metaReducers:N5}),zn.forFeature(j6)]})}}return e})(),Whe=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...Oq,Iu,An(PW)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[P5]})}}return e})(),mF={backend:{occ:{endpoints:{component:"cms/components/${id}",components:"cms/components",pages:"cms/pages",page:"cms/pages/${id}"}}},cmsComponents:{},componentsLoading:{pageSize:50}},F5=w(v({},mF),{backend:{occ:{endpoints:{component:"users/${userId}/cms/components/${id}",components:"users/${userId}/cms/components",pages:"users/${userId}/cms/pages",page:"users/${userId}/cms/pages/${id}"}}}}),Gw="cms",Lm="[Cms] Navigation Entity",Fu="[Cms] Component Entity",Ww="[Cms] Load Component",qw="[Cms] Load Component Fail",Yw="[Cms] Load Component Success",Kw="[Cms] Get Component from Page",Hg=class extends xt{constructor(r){super(Fu,r.uid),this.payload=r,this.type=Ww}},zg=class extends Ct{constructor(r){super(Fu,r.uid,r.error),this.payload=r,this.type=qw}},eD=class extends st{constructor(r){super(Fu,r.uid||r.component.uid||""),this.payload=r,this.type=Yw}},tD=class extends st{constructor(r){super(Fu,[].concat(r).map(t=>t.component.uid)),this.payload=r,this.type=Kw}},vF="[Cms] Load NavigationEntry items",L5="[Cms] Load NavigationEntry items Fail",yF="[Cms] Load NavigationEntry items Success",nD=class extends xt{constructor(r){super(Lm,r.nodeId),this.payload=r,this.type=vF}},Gg=class extends Ct{constructor(r,t){super(Lm,r,t),this.payload=t,this.type=L5}},rD=class extends st{constructor(r){super(Lm,r.nodeId),this.payload=r,this.type=yF}},EF="[Cms] Load Page Data",SF="[Cms] Load Page Data Fail",Zw="[Cms] Load Page Data Success",CF="[Cms] Set Page Success Index",IF="[Cms] Set Page Fail Index",sa=class extends xt{constructor(r){super(r.type??"",r.id),this.payload=r,this.type=EF}},iD=class extends Ct{constructor(r,t){super(r.type??"",r.id,t),this.type=SF}},oD=class extends st{constructor(r,t){super(r.type??"",r.id,t),this.type=Zw}},sD=class extends st{constructor(r,t){super(r.type??"",r.id,t),this.type=CF}},aD=class extends Ct{constructor(r,t){super(r.type??"",r.id,new Error("Failed to set cms page index")),this.payload=t,this.type=IF}};var Qw=wn(Gw),k5=T(Qw,e=>e.components),DF=e=>T(k5,r=>px(r,e)),wF=(e,r)=>T(DF(e),t=>t&&t.pageContext&&t.pageContext[r]||bn),U5=(e,r)=>T(wF(e,r),t=>Ze(t)),j5=e=>T(DF(e),r=>r?r.component:void 0),$5=(e,r)=>T(j5(e),U5(e,r),(t,n)=>{switch(n){case!0:return t;case!1:return null;case void 0:return}}),B5=T(Qw,e=>e.navigation),V5=e=>T(B5,r=>Pt(r,e)),H5=e=>T(V5(e),r=>Ze(r)),z5=e=>e.pageData.entities,G5=(e,r)=>{switch(r){case ge.CONTENT_PAGE:return e.content;case ge.PRODUCT_PAGE:return e.product;case ge.CATEGORY_PAGE:return e.category;case ge.CATALOG_PAGE:return e.catalog;default:return{entities:{}}}},W5=e=>{let r=new Set;if(e&&e.slots)for(let t of Object.keys(e.slots))for(let n of e.slots[t].components||[])r.add(n.flexType??"");return Array.from(r)},bF=T(Qw,e=>e.page),q5=T(bF,e=>e.index),Y5=e=>T(q5,r=>G5(r,e.type)),TF=e=>T(Y5(e),r=>Pt(r,e.id)),RF=e=>T(TF(e),r=>Ze(r)),K5=T(bF,z5),Wg=e=>T(K5,RF(e),(r,t)=>r[t]),Z5=e=>T(Wg(e),r=>W5(r)),Q5=(e,r)=>T(Wg(e),t=>{if(t)return t.slots?.[r]||{components:[]}});var X5="current";function Xr(e,r){return e?r&&e.type===ge.CONTENT_PAGE?`${e.type}`:`${e.type}-${e.id}`:X5}var km=(()=>{class e{constructor(t,n){this.store=t,this.routingService=n,this.components={}}getCurrentPage(){return this.routingService.getPageContext().pipe(_(t=>this.store.select(Wg(t))))}getComponentData(t,n){if(t==="")return D(null);let i=Xr(n,!0);this.components[t]||(this.components[t]={});let o=this.components[t];return o[i]||(o[i]=this.createComponentData(t,n)),o[i]}createComponentData(t,n){if(!n)return this.routingService.getPageContext().pipe(R(a=>!!a),_(a=>this.getComponentData(t,a)));let i=Xr(n,!0),o=Ae([this.routingService.getNextPageContext(),this.store.pipe(A(wF(t,i)))]).pipe(hn(ui),F(([a,c])=>{let u=c.loading||c.success||c.error,l=a?Xr(a,!0)===i:!1;!u&&!l&&this.store.dispatch(new Hg({uid:t,pageContext:n}))})),s=this.store.pipe(A($5(t,i)),R(un));return di(()=>o.subscribe(),()=>s).pipe(Qe({bufferSize:1,refCount:!0}))}getContentSlot(t){return this.routingService.getPageContext().pipe(_(n=>this.store.pipe(A(Q5(n,t)),R(un))))}getNavigationEntryItems(t){return this.store.pipe(A(H5(t)))}loadNavigationItems(t,n){this.store.dispatch(new nD({nodeId:t,items:n}))}refreshLatestPage(){this.routingService.getPageContext().pipe(q(1)).subscribe(t=>this.store.dispatch(new sa(t)))}refreshPageById(t){let n={id:t};this.store.dispatch(new sa(n))}refreshComponent(t,n){this.store.dispatch(new Hg({uid:t,pageContext:n}))}getPageState(t){return this.store.pipe(A(Wg(t)))}getPageComponentTypes(t){return this.store.pipe(A(Z5(t)))}hasPage(t,n=!1){return this.store.pipe(A(TF(t)),F(i=>{let o=i.loading||i.success||i.error,s=n&&!i.loading;(!o||s)&&(this.store.dispatch(new sa(t)),n=!1)}),R(i=>i.hasOwnProperty("value")?!!(i.success||i.error&&!i.loading):!1),S(i=>!!i.success),M(()=>D(!1)))}getPage(t,n=!1){return this.hasPage(t,n).pipe(_(i=>i?this.getPageState(t):D(null)))}getPageIndex(t){return this.store.pipe(A(RF(t)))}setPageFailIndex(t,n){this.store.dispatch(new aD(t,n))}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(Mi))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),J5={pageMeta:{resolvers:[{property:"title",method:"resolveTitle"},{property:"heading",method:"resolveHeading"},{property:"breadcrumbs",method:"resolveBreadcrumbs"},{property:"description",method:"resolveDescription",disabledInCsr:!0},{property:"image",method:"resolveImage",disabledInCsr:!0},{property:"robots",method:"resolveRobots",disabledInCsr:!0},{property:"canonicalUrl",method:"resolveCanonicalUrl",disabledInCsr:!0}],canonicalUrl:{forceHttps:!0,forceWww:!1,removeQueryParams:!0,forceTrailingSlash:!0}}},cn=class{getScore(r){let t=0;return this.pageType&&(t+=r.type===this.pageType?1:-1),this.pageTemplate&&(t+=r.template===this.pageTemplate?1:-1),this.pageUid&&(t+=r.pageId===this.pageUid?10:-10),t}hasMatch(r){return this.getScore(r)>0}getPriority(r){return this.getScore(r)}},Tr=class{},eY=(()=>{class e{constructor(t){this.translation=t}resolveBreadcrumbs({url:t,pageMetaConfig:n}){let i=n?.breadcrumb;return i?typeof i!="string"&&i.raw?D([{link:t,label:i.raw}]):this.translateBreadcrumbLabel(i).pipe(S(o=>[{label:o,link:t}])):D([])}translateBreadcrumbLabel(t){let n=typeof t=="string"?t:t.i18n;return this.getParams().pipe(_(i=>this.translation.translate(n??"",i??{})))}getParams(){return D({})}static{this.\u0275fac=function(n){return new(n||e)(d(Tr))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tY=(()=>{class e{constructor(t,n){this.activatedRoutesService=t,this.injector=n,this.routes$=this.activatedRoutesService.routes$.pipe(S(i=>i=i.slice(1,i.length))),this.routesWithExtras$=this.routes$.pipe(S(i=>i.reduce((o,s)=>{let a=o.length?o[o.length-1]:{route:null,resolver:this.injector.get(eY),url:""},c=this.getResolver(s)??a.resolver,u=this.getUrlPart(s),l=a.url+(u?`/${u}`:"");return o.concat({route:s,resolver:c,url:l})},[])),Qe({bufferSize:1,refCount:!0}))}resolveBreadcrumbs(t){return this.routesWithExtras$.pipe(S(n=>t?.includeCurrentRoute?n:this.trimCurrentRoute(n)),_(n=>n.length?Ae(n.map(i=>this.resolveRouteBreadcrumb(i))):D([])),S(n=>n.flat()))}getResolver(t){let n=this.getPageMetaConfig(t);return typeof n!="string"&&n?.resolver?this.injector.get(n.resolver,null):null}resolveRouteBreadcrumb({route:t,resolver:n,url:i}){let o=n;return typeof o.resolveBreadcrumbs=="function"?o.resolveBreadcrumbs({route:t,url:i,pageMetaConfig:this.getPageMetaConfig(t)}):D([])}trimCurrentRoute(t){let n=t.length-1;for(;t[n]?.route?.url.length===0&&n>=0;)n--;return t.slice(0,n)}getUrlPart(t){return t.url.map(n=>n.path).join("/")}getPageMetaConfig(t){return t?.routeConfig?.data?.cxPageMeta}static{this.\u0275fac=function(n){return new(n||e)(d(Mx),d(ve))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),AF=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=d(ht),i},providedIn:"root"})}}return e})(),_F=(()=>{class e{constructor(t,n){this.pageMetaConfig=t,this.winRef=n}getCanonicalUrl(t,n){let i=v(v({},this.pageMetaConfig?.pageMeta?.canonicalUrl),t);return this.buildCanonicalUrl(n??this.winRef.location.href??"",i)}buildCanonicalUrl(t,n){return n.forceHttps&&(t=t.replace(/^http(?!s):/i,"https:")),n.forceWww&&(t=t.replace(/^(https?:\/\/)(?!www\.)(.*)/i,"$1www.$2")),n.removeQueryParams&&(t=this.removeQueryParams(t,n)),n.forceTrailingSlash&&(t=t.replace(/^([^\?]+[^\/\?]$)$/i,"$1/")),t}removeQueryParams(t,n){let i=t.indexOf("?");if(i>-1){let o=t.substring(0,i),s=new URLSearchParams(t.substring(i));t=o,Array.isArray(n.removeQueryParams)&&(n.removeQueryParams.forEach(a=>{s.delete(a)}),s.toString().length>0&&(t=`${o}?${s.toString()}`))}return t}static{this.\u0275fac=function(n){return new(n||e)(d(AF),d(Jn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Um=(()=>{class e{constructor(t,n,i,o,s){this.cmsService=t,this.translation=n,this.routingPageMetaResolver=i,this.router=o,this.pageLinkService=s,this.page$=je(()=>this.cmsService.getCurrentPage()).pipe(R(a=>!!a)),this.title$=this.page$.pipe(S(a=>a.title)),this.description$=this.page$.pipe(S(a=>a.description)),this.robots$=this.page$.pipe(S(a=>a.robots||[])),this.homeBreadcrumb$=this.translation.translate("common.home").pipe(S(a=>[{label:a,link:"/"}])),this.breadcrumb$=Ae([this.homeBreadcrumb$,je(()=>this.routingPageMetaResolver?.resolveBreadcrumbs())]).pipe(S(a=>a.flat()),Qe({bufferSize:1,refCount:!0}))}resolveTitle(){return this.title$}resolveDescription(){return this.description$}resolveBreadcrumbs(){return this.breadcrumb$}resolveRobots(){return this.robots$}resolveCanonicalUrl(t){return this.router.events.pipe(R(n=>n instanceof Ve),ar(null),S(()=>this.pageLinkService.getCanonicalUrl(t)))}static{this.\u0275fac=function(n){return new(n||e)(d(km),d(Tr),d(tY),d(Ce),d(_F))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),nY=(()=>{class e extends cn{constructor(t){super(),this.basePageMetaResolver=t,this.pageType=ge.CONTENT_PAGE}resolveTitle(){return this.basePageMetaResolver.resolveTitle()}resolveDescription(){return this.basePageMetaResolver.resolveDescription()}resolveBreadcrumbs(){return this.basePageMetaResolver.resolveBreadcrumbs()}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}static{this.\u0275fac=function(n){return new(n||e)(d(Um))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rY=(()=>{class e{static forRoot(){return{ngModule:e,providers:[An(J5)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[{provide:cn,useExisting:nY,multi:!0}]})}}return e})();function jm(e=0,r){return t=>{let n=[];return t.pipe(F(i=>n.push(i)),$i(e,r),S(()=>n),F(()=>n=[]))}}var iY=(()=>{class e extends jw{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=d(ht),i},providedIn:"root"})}}return e})(),MF=(()=>{class e{constructor(t){this.cmsDataConfig=t}mergePageStructure(t,n){return this.mergePage(t,n).pipe(_(i=>this.mergeSlots(i)))}shouldIgnoreBackend(t){return this.getPageFromConfig(t).pipe(S(n=>!!n&&!!n.ignoreBackend))}getComponentFromConfig(t){return D(this.getComponentById(t))}getComponentsFromConfig(t){return D(t.map(n=>this.getComponentById(n)))}getPageFromConfig(t){return D(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.pages?this.cmsDataConfig.cmsStructure.pages.find(n=>n.pageId===t):void 0)}mergePage(t,n){return this.getPageFromConfig(t).pipe(_(i=>i?(n.page||(n.page=v({},i),n.page.slots={}),n.page.slots||(n.page.slots={}),this.mergeSlots(n,i.slots)):D(n)))}mergeSlots(t,n){if(!n&&this.cmsDataConfig.cmsStructure?.slots&&(n=this.cmsDataConfig.cmsStructure.slots),!n)return D(t);for(let i of Object.keys(n))if(t.page?.slots&&!Object.keys(t.page.slots).includes(i)){t.page.slots[i]={};for(let o of this.getComponentsByPosition(n,i))t.page.slots[i].components=t.page.slots[i].components??[],t.page.slots[i].components?.push({uid:o.uid,flexType:o.flexType,typeCode:o.typeCode}),t.components=t.components??[],t.components.push(o)}return D(t)}getComponentsByPosition(t,n){let i=[];if(t[n]&&t[n].componentIds){for(let o of t[n].componentIds??[])if(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components){let s=this.cmsDataConfig.cmsStructure.components[o];s&&i.push(v({uid:o},s))}}return i}getComponentById(t){return this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components?this.cmsDataConfig.cmsStructure.components[t]:void 0}static{this.\u0275fac=function(n){return new(n||e)(d(iY))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),NF=(()=>{class e{constructor(t,n,i){this.cmsStructureConfigService=t,this.cmsComponentAdapter=n,this.config=i}get(t,n){return this.cmsStructureConfigService.getComponentFromConfig(t).pipe(_(i=>i?D(i):this.cmsComponentAdapter.load(t,n)))}getList(t,n){return this.cmsStructureConfigService.getComponentsFromConfig(t).pipe(_(i=>{let o=i.reduce((s,a,c)=>(a===void 0&&s.push(t[c]),s),[]);if(o.length>0){let s=this.config.componentsLoading?.pageSize||o.length,a=Math.ceil(o.length/s),c=[],u=0;for(;u<a;)c.push(this.cmsComponentAdapter.findComponentsByIds(o.slice(u*s,(u+1)*s),n)),u++;return ji(...c).pipe(S(l=>[...i.filter(Boolean)].concat(...l)))}else return D(i)}))}static{this.\u0275fac=function(n){return new(n||e)(d(MF),d(Rg),d(jw))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),oY=(()=>{class e{constructor(t,n){this.actions$=t,this.cmsComponentConnector=n,this.logger=y(W),this.contextChange$=this.actions$.pipe(j(ln,Rr,Zn)),this.loadComponent$=B(()=>({scheduler:i,debounce:o=0}={})=>this.actions$.pipe(j(Ww),lr(s=>Xr(s.payload.pageContext)),$(s=>s.pipe(jm(o,i),$(a=>this.loadComponentsEffect(a.map(c=>c.payload.uid),a[0].payload.pageContext??{id:""})))),wu(this.contextChange$)))}loadComponentsEffect(t,n){return this.cmsComponentConnector.getList(t,n).pipe(_(i=>{let o=[],s=new Set(t);for(let a of i)o.push(new eD({component:a,uid:a.uid,pageContext:n})),s.delete(a.uid??"");return s.forEach(a=>{o.push(new zg({uid:a,pageContext:n,error:new Error(`Failed to load CmsComponent ${n.type} uid: ${a}`)}))}),ue(o)}),M(i=>ue(t.map(o=>new zg({uid:o,error:te(i,this.logger),pageContext:n})))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(NF))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Xw=(()=>{class e{constructor(t){this.globService=t}getFalsy(){return function(){return null}}getFromPaths(t){let n=t.map(o=>this.getFromPath(o)),i=this.getCombined(n);return le()&&(i._paths=t),i}getCombined(t){let n=function(o,s,a){for(let c=0;c<t.length;c++){let u=t[c](o,s,a);if(u)return u}return null};return le()&&(n._matchers=t),n}getFromPath(t=""){let n=function(c,u,l){if(t==="")return i(c,u,l);let f=t.split("/");if(o(f.length>c.length,s(l.pathMatch==="full",o(u.hasChildren(),f.length<c.length))))return null;let h={};for(let p=0;p<f.length;p++){let E=f[p],I=c[p];if(E.startsWith(":"))h[E.substring(1)]=I;else if(E!==I.path)return null}return{consumed:c.slice(0,f.length),posParams:h}};return le()&&(n._path=t),n;function i(a,c,u){return s(u.pathMatch==="full",o(c.hasChildren(),a.length>0))?null:{consumed:[],posParams:{}}}function o(a,c){return a||c}function s(a,c){return a&&c}}getOpposite(t){let n=function(o,s,a){return t(o,s,a)?null:{consumed:o,posParams:{}}};return le()&&(n._originalMatcher=t),n}getFromGlob(t){let n=this.globService.getValidator(t),i=function(s){let a=`/${s.map(c=>c.path).join("/")}`;return n(a)?{consumed:s,posParams:{}}:null};return le()&&(i._globPatterns=t),i}static{this.\u0275fac=function(n){return new(n||e)(d(Q3))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),sY=(()=>{class e{constructor(t,n,i){this.injector=t,this.routingConfigService=n,this.urlMatcherService=i,this.logger=y(W),this.initCalled=!1}init(){this.initCalled||(this.initCalled=!0,this.configure())}configure(){let t=this.injector.get(Ce);t.resetConfig(this.configureRoutes(t.config))}configureRoutes(t){return t.map(n=>{let i=this.configureRoute(n);return n.children&&n.children.length&&(i.children=this.configureRoutes(n.children)),i})}configureRoute(t){let n=this.getRouteName(t);if(n){let i=this.routingConfigService.getRouteConfig(n);return this.validateRouteConfig(i,n,t),i?.disabled?(delete t.path,w(v({},t),{matcher:this.urlMatcherService.getFalsy()})):i?.matchers?(delete t.path,w(v({},t),{matcher:this.resolveUrlMatchers(t,i?.matchers)})):i?.paths?.length===1?(delete t.matcher,w(v({},t),{path:i?.paths[0]})):(delete t.path,w(v({},t),{matcher:this.urlMatcherService.getFromPaths(i?.paths||[])}))}return t}resolveUrlMatchers(t,n){let i=n?.map(o=>typeof o=="function"?o:this.resolveUrlMatcherFactory(t,o))??[];return this.urlMatcherService.getCombined(i)}resolveUrlMatcherFactory(t,n){return this.injector.get(n)(t)}getRouteName(t){return t.data&&t.data.cxRoute}validateRouteConfig(t,n,i){if(le()){if(t===null||t?.paths===null||t?.matchers)return;if(!t?.paths){this.warn(`Could not configure the named route '${n}'`,i,"due to undefined config or undefined 'paths' property for this route");return}}}warn(...t){le()&&this.logger.warn(...t)}static{this.\u0275fac=function(n){return new(n||e)(d(ve),d(Dm),d(Xw))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var qhe=(()=>{class e{constructor(t){this.urlService=t}transform(t){return this.urlService.transform(t)}static{this.\u0275fac=function(n){return new(n||e)(Y(Eu,16))}}static{this.\u0275pipe=rn({name:"cxUrl",type:e,pure:!0,standalone:!1})}}return e})(),Yhe=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[Pe]})}}return e})(),aY=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=d(ht),i},providedIn:"root"})}}return e})(),cY=(()=>{class e{constructor(t,n){this.winRef=t,this.platformId=n}canActivate(t,n){return Bn(this.platformId)&&this.redirect(t,n),!1}redirect(t,n){let i=this.winRef.nativeWindow;i&&i.location&&(i.location.href=n.url)}static{this.\u0275fac=function(n){return new(n||e)(d(Jn),d(tt))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function uY(e){return()=>{e.addRoutes()}}var lY=(()=>{class e{constructor(t,n,i){this.config=t,this.urlMatcherService=n,this.injector=i}get internalUrlPatterns(){return this.config&&this.config.routing&&this.config.routing.internal||[]}addRoutes(){let t=this.injector.get(Ce),n=this.getRoutes();n.length&&t.resetConfig([...n,...t.config])}getRoutes(){if(!this.internalUrlPatterns.length)return[];let t=[];return t.push({pathMatch:"full",matcher:this.getUrlMatcher(),canActivate:[cY],component:{}}),t}getUrlMatcher(){let t=this.urlMatcherService.getFromGlob(this.internalUrlPatterns);return this.urlMatcherService.getOpposite(t)}static{this.\u0275fac=function(n){return new(n||e)(d(aY),d(Xw),d(ve))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Khe=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:Nt,multi:!0,useFactory:uY,deps:[lY]}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})(),dY=(()=>{class e{get routingConfig(){return this.config&&this.config.routing}get shouldProtect(){return!!this.routingConfig?.protected}constructor(t,n){this.config=t,this.urlParsingService=n,this.nonProtectedPaths=[],this.shouldProtect&&(this.nonProtectedPaths=this.getNonProtectedPaths().map(i=>this.getSegments(i)))}isUrlProtected(t){return this.shouldProtect&&!this.matchAnyPath(t,this.nonProtectedPaths)}matchAnyPath(t,n){return n.some(i=>this.matchPath(t,i))}matchPath(t,n){return this.urlParsingService.matchPath(t,n)}getNonProtectedPaths(){return Object.values(this.routingConfig?.routes??{}).reduce((t,n)=>n.protected===!1&&n.paths&&n.paths.length?t.concat(n?.paths??[]):t,[])}getSegments(t){return(t||"").split("/")}static{this.\u0275fac=function(n){return new(n||e)(d(Im),d(OD))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Zhe=(()=>{class e{constructor(t,n){this.service=t,this.authGuard=n}canActivate(t){let n=t.url.map(i=>i.path);return n=n.length?n:[""],this.service.isUrlProtected(n)?this.authGuard.canActivate():D(!0)}static{this.\u0275fac=function(n){return new(n||e)(d(dY),d(Mq))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),fY=(()=>{class e{constructor(t,n){this.baseSiteService=t,this.configInit=n,this.scopes=["routing"],this.configFactory=()=>cr(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context").pipe(_(t=>{let n=t?.context?.[ti]?.[0];return this.baseSiteService.get(n).pipe(F(i=>{if(!i)throw new Error(`Error: Cannot get base site config for ${n}.`)}),S(i=>this.getRoutingConfig(i)),q(1))}))}getRoutingConfig(t){return{routing:{protected:t?.requiresAuthentication}}}static{this.\u0275fac=function(n){return new(n||e)(d(Fo),d(Tn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hY=(()=>{class e{constructor(t,n){this.actions$=t,this.router=n,this.clearCmsRoutes$=B(()=>this.actions$.pipe(j(ln,Rr,Zn),F(()=>{let i=this.router.config.filter(o=>!(o.data&&o.data.cxCmsRouteContext));i.length!==this.router.config.length&&this.router.resetConfig(i)})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(Ce))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),pY=[hY],gY={navigationId:0,state:{url:"",queryParams:{},params:{},context:{id:""},cmsRequired:!1,semanticRoute:void 0},nextState:void 0};function mY(){return{router:vY}}function vY(e=gY,r){switch(r.type){case lh:return w(v({},e),{nextState:r.payload.routerState,navigationId:r.payload.event.id});case fh:case dh:return w(v({},e),{nextState:void 0});case Rx:return e.nextState?w(v({},e),{nextState:w(v({},e.nextState),{context:r.payload})}):e;case hh:return{state:w(v({},r.payload.routerState),{context:e.nextState?.context??r.payload.routerState.context}),navigationId:r.payload.event.id,nextState:void 0};default:return e}}var OF=new C("RouterReducers"),yY={provide:OF,useFactory:mY},EY=(()=>{class e{serialize(t){let n=t.root,i=!1,o,s,a="";for(;n.firstChild;)n=n.firstChild,a+="/"+n.url.map(u=>u.path).join("/"),n.data?.cxRoute&&(s=n.data?.cxRoute),n.data?.cxCmsRouteContext&&(o=n.data?.cxCmsRouteContext),!i&&(o||n.routeConfig?.canActivate?.find(u=>u&&u.guardName==="CmsPageGuard"))&&(i=!0);s=s||this.lookupSemanticRoute(a);let{params:c}=n;return o=this.getPageContext(o,n),{url:t.url,queryParams:t.root.queryParams,params:c,context:o,cmsRequired:i,semanticRoute:s}}getPageContext(t,n){let i=t;if(n.url.length>0&&n.url[0].path==="cx-preview"&&n.queryParams.cmsTicketId!==void 0)i={id:eF,type:ge.CONTENT_PAGE};else{let{params:o}=n;o.productCode?i={id:o.productCode,type:ge.PRODUCT_PAGE}:o.categoryCode?i={id:o.categoryCode,type:ge.CATEGORY_PAGE}:o.brandCode?i={id:o.brandCode,type:ge.CATEGORY_PAGE}:n.data.pageLabel!==void 0&&(i={id:n.data.pageLabel,type:ge.CONTENT_PAGE})}return i||(n.url.length>0?i={id:"/"+n.url.map(s=>s.path).join("/"),type:ge.CONTENT_PAGE}:i={id:JP,type:ge.CONTENT_PAGE}),i}lookupSemanticRoute(t){return this.routingConfig.getRouteName(t.substr(1))}constructor(t){this.routingConfig=t}static{this.\u0275fac=function(n){return new(n||e)(d(Dm))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function SY(e){return()=>e.init()}function CY(e,r){return r.routing?.protected===void 0?e:null}function IY(){let r=(y(qD,{optional:!0})??[]).map(t=>t());return Promise.all(r)}var Qhe=(()=>{class e{static forRoot(){return{ngModule:e,providers:[yY,{provide:Ys,useClass:EY},{provide:Nt,useFactory:SY,deps:[sY],multi:!0},{provide:Rm,useFactory:CY,deps:[fY,Im],multi:!0},{provide:hc,useFactory:IY}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[Hn.forFeature(RI,OF),zn.forFeature(pY),WN.forRoot({routerState:Zc.Minimal,stateKey:RI})]})}}return e})();function DY(e,r){return n=>{let i=n.data&&n.data.cxRoute,o=e.getRouteConfig(i),s=o&&o.paths||[];return r.getFromPaths(s)}}var Xhe=new C("DEFAULT_URL_MATCHER",{providedIn:"root",factory:()=>DY(y(Dm),y(Xw))}),wY=(()=>{class e{getIdListByItemType(t){let n=[],i=[],o=[];return t.forEach(s=>{s.superType==="AbstractCMSComponent"?i.push(s.id):s.superType==="AbstractPage"?n.push(s.id):s.superType==="AbstractMedia"&&o.push(s.id)}),{pageIds:n,componentIds:i,mediaIds:o}}constructor(t,n,i){this.actions$=t,this.cmsComponentConnector=n,this.routingService=i,this.logger=y(W),this.loadNavigationItems$=B(()=>this.actions$.pipe(j(vF),S(o=>o.payload),S(o=>({ids:this.getIdListByItemType(o.items),nodeId:o.nodeId})),$(o=>o.ids.componentIds.length>0?this.routingService.getRouterState().pipe(R(un),S(s=>s.state.context),q(1),$(s=>this.cmsComponentConnector.getList(o.ids.componentIds,s).pipe(S(a=>new rD({nodeId:o.nodeId,components:a})),M(a=>D(new Gg(o.nodeId,te(a,this.logger))))))):D(new Gg(o.nodeId,new Error("navigation nodes are empty"))))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(NF),d(Mi))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),bY=(()=>{class e{constructor(t,n){this.cmsPageAdapter=t,this.cmsStructureConfigService=n}get(t){return this.cmsStructureConfigService.shouldIgnoreBackend(t.id).pipe(_(n=>n?D({}):this.cmsPageAdapter.load(t).pipe(M(i=>{if(i instanceof ut&&i.status===400)return D({});throw i}))),_(n=>this.mergeDefaultPageStructure(t,n)))}mergeDefaultPageStructure(t,n){return this.cmsStructureConfigService.mergePageStructure(t.id,n)}static{this.\u0275fac=function(n){return new(n||e)(d(Ag),d(MF))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),TY=(()=>{class e{constructor(t,n,i){this.actions$=t,this.cmsPageConnector=n,this.routingService=i,this.logger=y(W),this.refreshPage$=B(()=>this.actions$.pipe(j(ln,Rr,Zn),_(()=>this.routingService.getRouterState().pipe(R(o=>o&&o.state&&o.state.cmsRequired&&!o.nextState),q(1),S(o=>o.state.context),$(o=>D(new sa(o))))))),this.loadPageData$=B(()=>this.actions$.pipe(j(EF),S(o=>o.payload),lr(o=>Xr(o)),$(o=>o.pipe(_(s=>this.cmsPageConnector.get(s).pipe($(a=>{let c=[new tD((a.components??[]).map(l=>({component:l,pageContext:s}))),new oD(s,a.page??{})],u=a.page?.label;return u&&u!==s.id&&c.unshift(new sD({id:u,type:s.type},a.page??{})),c}),M(a=>D(new iD(s,te(a,this.logger))))))))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(bY),d(Mi))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),RY=[TY,oY,wY],AY={component:void 0,pageContext:{}};function wh(e,r){switch(r.type){case qw:return!1;case Kw:case Yw:return!0}return e}function _Y(e=AY,r){switch(r.type){case Ww:{let t=nt(r.meta.entityType,wh),n=Xr(r.payload.pageContext,!0);return w(v({},e),{pageContext:w(v({},e.pageContext),{[n]:t(e.pageContext[n],r)})})}case qw:{let t=nt(r.meta.entityType,wh),n=Xr(r.payload.pageContext,!0);return w(v({},e),{pageContext:w(v({},e.pageContext),{[n]:t(e.pageContext[n],r)})})}case Yw:{let t=nt(r.meta.entityType,wh),n=Xr(r.payload.pageContext,!0);return w(v({},e),{component:r.payload.component,pageContext:w(v({},e.pageContext),{[n]:t(e.pageContext[n],r)})})}case Kw:{let t=nt(r.meta.entityType,wh);if(!Array.isArray(r.payload)){let n=Xr(r.payload.pageContext,!0);return w(v({},e),{component:r.payload.component,pageContext:w(v({},e.pageContext),{[n]:t(e.pageContext[n],r)})})}}}return e}var MY=void 0;function NY(e=MY,r){switch(r.type){case yF:if(r.payload.components.length){let n=r.payload.components.reduce((i,o)=>w(v({},i),{[`${o.uid}_AbstractCMSComponent`]:o}),{});return v(v({},e),n)}}return e}var OY={entities:{}};function xY(e=OY,r){switch(r.type){case Zw:{let t=r.payload;return w(v({},e),{entities:w(v({},e.entities),{[t.pageId??""]:t})})}}return e}var UO=void 0;function bh(e){return(r=UO,t)=>{if(t.meta&&t.meta.entityType===e)switch(t.type){case Zw:return t.payload.pageId;case SF:return UO;case IF:return t.payload;case CF:return t.payload.pageId}return r}}function PY(){return{page:po({pageData:xY,index:po({content:Do(ge.CONTENT_PAGE,bh(ge.CONTENT_PAGE)),product:Do(ge.PRODUCT_PAGE,bh(ge.PRODUCT_PAGE)),category:Do(ge.CATEGORY_PAGE,bh(ge.CATEGORY_PAGE)),catalog:Do(ge.CATALOG_PAGE,bh(ge.CATALOG_PAGE))})}),components:gu(Fu,_Y),navigation:Do(Lm,NY)}}var xF=new C("CmsReducers"),FY={provide:xF,useFactory:PY};function LY(e){return function(r,t){return(t.type===ln||t.type===Rr||t.type===Zn)&&(r=void 0),e(r,t)}}var kY=[LY];function UY(){return{state:{ssrTransfer:{keys:{[Gw]:Lo.TRANSFER_STATE}}}}}var jY=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[No(UY),FY],imports:[Pe,ii,Hn.forFeature(Gw,xF,{metaReducers:kY}),zn.forFeature(RY)]})}}return e})();function $Y(e){let r=!1;return e.find(t=>{let n=t.features?.[Js];n&&(r=n)}),r?F5:mF}var BY=(()=>{class e{static forRoot(){return{ngModule:e,providers:[km,No($Y,[pu])]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[jY,rY.forRoot()]})}}return e})(),VY=(()=>{class e{constructor(){this.logger=y(W)}handleError(t){this.logger.error(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),PF=new C("MULTI_ERROR_HANDLER"),HY=(()=>{class e{constructor(){this.logger=y(W),this.errorHandlers=y(PF)}handleError(t){this.errorHandlers.forEach(n=>{n.handleError(t)})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),FF=(()=>{class e{constructor(){this.errorHandler=y(et),this.windowRef=y(Jn)}handle(t){let n=t.error;!(n instanceof ru)&&!(n instanceof ut)&&this.shouldHandleError(n)&&this.errorHandler.handleError(n)}isErrorAction(t){return"error"in t}shouldHandleError(t){return!this.windowRef.isBrowser()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),zY=(()=>{class e{constructor(){this.actions$=y(he),this.errorActionService=y(FF),this.featureConfigService=y(oi),this.error$=B(()=>this.actions$.pipe(R(this.errorActionService.isErrorAction),F(t=>{this.featureConfigService.isEnabled("ssrStrictErrorHandlingForHttpAndNgrx")&&this.errorActionService.handle(t)})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),GY=(()=>{class e{static forRoot(){return{ngModule:e,providers:[FF]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[zn.forFeature([zY])]})}}return e})(),WY=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=d(ht),i},providedIn:"root"})}}return e})(),Or=function(e){return e[e.UNKNOWN=-1]="UNKNOWN",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.CONFLICT=409]="CONFLICT",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e}(Or||{}),dt=(()=>{class e{constructor(t,n){this.globalMessageService=t,this.platformId=n}hasMatch(t){return t.status===this.responseStatus}getErrorTranslationKey(t){let n="httpHandlers.badRequest";return t?`${n}.${t.toLowerCase().replace(/ /g,"_")}`:`${n}PleaseLoginAgain`}isSsr(){return this.platformId?!Bn(this.platformId):!1}static{this.\u0275fac=function(n){return new(n||e)(d(Uo),d(tt))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qY=(()=>{class e extends dt{constructor(){super(...arguments),this.responseStatus=Or.BAD_GATEWAY}handleError(){this.globalMessageService.add({key:"httpHandlers.badGateway"},Re.MSG_TYPE_ERROR)}getPriority(){return _r.LOW}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),YY="/authorizationserver/oauth/token",KY=(()=>{class e extends dt{constructor(){super(...arguments),this.responseStatus=Or.BAD_REQUEST}handleError(t,n){this.handleBadPassword(t,n),this.handleBadLoginResponse(t,n),this.handleValidationError(t,n),this.handleGuestDuplicateEmail(t,n),this.handleUnknownIdentifierError(t,n)}handleBadPassword(t,n){n.url?.includes(YY)&&n.error?.error==="invalid_grant"&&t.body?.get("grant_type")==="password"&&(this.globalMessageService.add({key:this.getErrorTranslationKey(n.error?.error_description),params:{errorMessage:n.error.error_description||n.message||""}},Re.MSG_TYPE_ERROR),this.globalMessageService.remove(Re.MSG_TYPE_CONFIRMATION))}handleBadLoginResponse(t,n){this.getErrors(n).filter(i=>i.type==="PasswordMismatchError").forEach(()=>{let o=new URL(t.url).pathname.endsWith("/password")?"httpHandlers.badRequestOldPasswordIncorrect":"httpHandlers.validationErrors.invalid.password";this.globalMessageService.add({key:o},Re.MSG_TYPE_ERROR)})}handleValidationError(t,n){this.getErrors(n).filter(i=>i.type==="ValidationError").forEach(i=>{this.globalMessageService.add({key:`httpHandlers.validationErrors.${i.reason}.${i.subject}`},Re.MSG_TYPE_ERROR)})}handleGuestDuplicateEmail(t,n){this.getErrors(n).filter(i=>i.type==="DuplicateUidError").forEach(i=>{this.globalMessageService.add({key:"httpHandlers.badRequestGuestDuplicateEmail",params:{errorMessage:i.message||""}},Re.MSG_TYPE_ERROR)})}handleUnknownIdentifierError(t,n){this.getErrors(n).filter(i=>i.type==="UnknownIdentifierError").forEach(i=>{this.globalMessageService.add(i.message?i.message:{key:"httpHandlers.unknownIdentifier"},Re.MSG_TYPE_ERROR)})}getErrors(t){return(t.error?.errors||[]).filter(n=>n.type!=="JaloObjectNoLongerValidError")}getPriority(){return _r.LOW}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ZY=(()=>{class e extends dt{constructor(){super(...arguments),this.responseStatus=Or.CONFLICT}handleError(){this.globalMessageService.add({key:"httpHandlers.conflict"},Re.MSG_TYPE_ERROR)}getPriority(){return _r.LOW}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),QY=(()=>{class e extends dt{handleError(t){t.url.endsWith(this.occEndpoints.buildUrl("user",{urlParams:{userId:"current"}}))&&this.authService.logout(),this.globalMessageService.add({key:"httpHandlers.forbidden"},Re.MSG_TYPE_ERROR)}getPriority(){return _r.LOW}constructor(t,n,i){super(t),this.globalMessageService=t,this.authService=n,this.occEndpoints=i,this.responseStatus=Or.FORBIDDEN}static{this.\u0275fac=function(n){return new(n||e)(d(Uo),d(er),d(Fe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),XY=(()=>{class e extends dt{constructor(){super(...arguments),this.responseStatus=Or.GATEWAY_TIMEOUT}handleError(){this.globalMessageService.add({key:"httpHandlers.gatewayTimeout"},Re.MSG_TYPE_ERROR)}getPriority(){return _r.LOW}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),JY=(()=>{class e extends dt{constructor(){super(...arguments),this.responseStatus=Or.INTERNAL_SERVER_ERROR}handleError(){this.globalMessageService.add({key:"httpHandlers.internalServerError"},Re.MSG_TYPE_ERROR)}getPriority(){return _r.LOW}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),e9=(()=>{class e extends dt{constructor(){super(...arguments),this.responseStatus=Or.NOT_FOUND}handleError(){}getPriority(){return _r.LOW}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),t9=(()=>{class e extends dt{constructor(){super(...arguments),this.logger=y(W),this.featureConfigService=y(oi),this.responseStatus=Or.UNKNOWN}hasMatch(t){return!0}handleError(t,n){(this.featureConfigService.isEnabled("ssrStrictErrorHandlingForHttpAndNgrx")?le():le()||this.isSsr())&&this.logger.warn(`An unknown http error occurred
`,n.message)}getPriority(){return _r.FALLBACK}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),n9=(()=>{class e{constructor(t){this.unifiedInjector=t,this.handlers$=this.unifiedInjector.getMulti(dt).pipe(Qe(1))}intercept(t,n){return n.handle(t).pipe(F({error:i=>{i instanceof ut&&this.handleErrorResponse(t,i)}}))}handleErrorResponse(t,n){let i=this.getResponseHandler(n);i&&i.handleError(t,n)}getResponseHandler(t){return zD(Xh(this.handlers$)??[],[t])}static{this.\u0275fac=function(n){return new(n||e)(d(Du))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),r9=[{provide:dt,useExisting:t9,multi:!0},{provide:dt,useExisting:qY,multi:!0},{provide:dt,useExisting:KY,multi:!0},{provide:dt,useExisting:ZY,multi:!0},{provide:dt,useExisting:QY,multi:!0},{provide:dt,useExisting:XY,multi:!0},{provide:dt,useExisting:JY,multi:!0},{provide:dt,useExisting:e9,multi:!0}],i9=[{provide:Zt,useExisting:n9,multi:!0}],o9={entities:{}};function s9(e=o9,r){switch(r.type){case Jh:{let t=r.payload;if(e.entities[t.type]===void 0)return w(v({},e),{entities:w(v({},e.entities),{[t.type]:[t.text]})});{let n=e.entities[t.type];return w(v({},e),{entities:w(v({},e.entities),{[t.type]:[...n,t.text]})})}}case Jx:{let t=r.payload.type,n=r.payload.index;if(Object.keys(e.entities).length===0||!e.entities[t])return e;let i=[...e.entities[t]];return i.splice(n,1),w(v({},e),{entities:w(v({},e.entities),{[t]:i})})}case eP:{let t=w(v({},e.entities),{[r.payload]:[]});return w(v({},e),{entities:t})}}return e}function a9(){return s9}var LF=new C("GlobalMessageReducers"),c9={provide:LF,useFactory:a9},u9=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[c9],imports:[ii,Hn.forFeature(tP,LF)]})}}return e})(),l9=(()=>{class e{constructor(t,n,i,o){this.actions$=t,this.store=n,this.config=i,this.platformId=o,this.removeDuplicated$=B(()=>this.actions$.pipe(j(Jh),S(s=>s.payload),_(s=>D(s.text).pipe(Xe(this.store.pipe(A(rP(s.type)))),R(([a,c])=>ou.countOfDeepEqualObjects(a,c)>1),S(([a,c])=>{let u=ou.indexOfFirstOccurrence(a,c);if(u!==void 0)return new su({type:s.type,index:u})}),R(un))))),this.hideAfterDelay$=B(()=>Bn(this.platformId)?this.actions$.pipe(j(Jh),S(s=>s.payload),Te(s=>{let a=this.config.globalMessages?.[s.type];return this.store.pipe(A(Cq(s.type)),q(1),R(c=>(a&&a.timeout!==void 0||s.timeout!==void 0)&&c>0),sr(s.timeout||a?.timeout),_(()=>D(new su({type:s.type,index:0}))))})):()=>ce)}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(ie),d(WY),d(tt))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),d9={globalMessages:{[Re.MSG_TYPE_CONFIRMATION]:{timeout:3e3},[Re.MSG_TYPE_INFO]:{timeout:3e3},[Re.MSG_TYPE_ERROR]:{timeout:7e3},[Re.MSG_TYPE_WARNING]:{timeout:7e3},[Re.MSG_TYPE_ASSISTIVE]:{timeout:7e3}}},f9=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...r9,...i9]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[An(d9)],imports:[u9,zn.forFeature([l9])]})}}return e})(),qg=class extends Error{constructor(r){super("Outbound HTTP Error",{cause:r})}},cD=class extends qg{constructor(r){super(r),this.message="CMS Page Not Found"}},h9=(()=>{class e{constructor(){this.errorHandler=y(et),this.occEndpointsService=y(Fe),this.windowRef=y(Jn),this.featureService=y(oi)}intercept(t,n){return n.handle(t).pipe(F({error:i=>{this.featureService.isEnabled("ssrStrictErrorHandlingForHttpAndNgrx")&&this.shouldHandleError(i)&&this.handleError(i)}}))}shouldHandleError(t){return!this.windowRef.isBrowser()}handleError(t){t=this.isCmsPageNotFoundHttpError(t)?new cD(t):new qg(t),this.errorHandler.handleError(t)}isCmsPageNotFoundHttpError(t){let n=this.occEndpointsService.buildUrl("pages");return t instanceof ut&&t.status===Or.NOT_FOUND&&(t.url??"").startsWith(n)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),p9=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:Zt,useExisting:h9,multi:!0}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})();function g9(){return[{provide:PF,useExisting:VY,multi:!0}]}var m9=(()=>{class e{static forRoot(){return{ngModule:e,providers:[g9(),{provide:et,useClass:HY}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[GY.forRoot(),p9.forRoot()]})}}return e})(),v9={backend:{timeout:{server:2e4}}},y9=new Ms(()=>{});var E9=(()=>{class e{constructor(t,n){this.windowRef=t,this.config=n,this.logger=y(W)}intercept(t,n){let i=this.getTimeoutValue(t);return typeof i>"u"?n.handle(t):n.handle(t).pipe(_(o=>o.type===Vn.Sent?uv.pipe(ar(o),ba(i)):D(o)),M(o=>{throw this.convertTimeoutToHttpErrorResponse({error:o,request:t,timeoutValue:i})}))}getTimeoutValue(t){let n=t.context.get(y9),i=this.config?.backend?.timeout,o=n??i??{};return this.windowRef.isBrowser()?o?.browser:o?.server}convertTimeoutToHttpErrorResponse({error:t,request:n,timeoutValue:i}){if(t instanceof vl){let o=this.buildError(n,i);return new ut({url:n.url,error:o})}return t}buildError(t,n){let i=`Request to URL '${t.url}' exceeded expected time of ${n}ms and was aborted.`;return this.logger.warn(i),new Error(i)}static{this.\u0275fac=function(n){return new(n||e)(d(Jn),d(Ar))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),S9=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[{provide:Zt,useExisting:E9,multi:!0},An(v9)]})}}return e})(),C9=(()=>{class e{static forRoot(){return{ngModule:e}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[S9]})}}return e})(),I9={i18n:{fallbackLang:void 0,debug:!1}},ya=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=d(ht),i},providedIn:"root"})}}return e})(),D9=(()=>{class e{constructor(t){this.configInit=t,this.scopes=["i18n.fallbackLang"],this.configFactory=()=>cr(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context.language").pipe(S(t=>({i18n:{fallbackLang:t?.context?.language?.[0]}})))}static{this.\u0275fac=function(n){return new(n||e)(d(Tn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Jhe=(()=>{class e extends wS{constructor(t){super(""),this.language=t,this.logger=y(W)}transform(t,n,i){return super.transform(t,n,i,this.getLang())}getLang(){let t=this.getActiveLang();try{return yc(t),t}catch{return this.reportMissingLocaleData(t),"en"}}getActiveLang(){let t="";return this.language.getActive().subscribe(n=>t=n).unsubscribe(),t}reportMissingLocaleData(t){le()&&this.logger.warn(`cxDate pipe: No locale data registered for '${t}' (see https://angular.io/api/common/registerLocaleData).`)}static{this.\u0275fac=function(n){return new(n||e)(Y(Ni,16))}}static{this.\u0275pipe=rn({name:"cxDate",type:e,pure:!0,standalone:!1})}}return e})(),uD=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),$m=new C("I18NEXT_INSTANCE",{providedIn:"root",factory:()=>lt.createInstance()}),w9=new C("I18NEXT_HTTP_BACKEND_CLIENT",{providedIn:"root",factory:()=>{let e=y(we);return(r,t,n,i)=>{e.get(t,{responseType:"text"}).subscribe({next:o=>i(null,{status:200,data:o}),error:o=>i(o,{data:null,status:o.status})})}}}),b9=(()=>{class e{constructor(t,n,i,o){this.i18next=t,this.i18nextHttpClient=n,this.config=i,this.windowRef=o}hasMatch(){return!!this.config.i18n?.backend?.loadPath}initialize(){return this.i18next.use(oO),{backend:this.getBackendConfig()}}getBackendConfig(){if(!this.config.i18n?.backend?.loadPath)throw new Error("Missing config `i18n.backend.loadPath`.");return{loadPath:this.getLoadPath(this.config.i18n.backend.loadPath),request:this.i18nextHttpClient,reloadInterval:!1}}getLoadPath(t){return!this.windowRef.isBrowser()&&!t.match(/^http(s)?:\/\//)?(t.startsWith("/")&&(t=t.slice(1)),t.startsWith("./")&&(t=t.slice(2)),`${this.windowRef.location.origin}/${t}`):t}static{this.\u0275fac=function(n){return new(n||e)(d($m),d(w9),d(ya),d(Jn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),T9=(()=>{class e{constructor(t,n){this.config=t,this.i18next=n}hasMatch(){return!!this.config.i18n?.backend?.loader}initialize(){let t=this.config.i18n?.backend?.loader;if(!t)throw new Error("Missing config `i18n.backend.loader`.");return this.i18next.use(EO(t)),{backend:{}}}static{this.\u0275fac=function(n){return new(n||e)(d(ya),d($m))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),R9=[{provide:uD,useExisting:b9,multi:!0},{provide:uD,useExisting:T9,multi:!0}],A9=new C("I18NEXT_LOGGER_PLUGIN",{providedIn:"root",factory:()=>{let e=y(W);return{type:"logger",log:r=>e.log(...r),warn:r=>e.warn(...r),error:r=>e.error(...r)}}}),_9=(()=>{class e{constructor(t){this.backendInitializers=t}initialize(){return zD(this.backendInitializers??[])?.initialize()??{}}static{this.\u0275fac=function(n){return new(n||e)(d(uD,8))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),M9=(()=>{class e{constructor(t,n,i,o){this.i18next=t,this.config=n,this.languageService=i,this.i18nextBackendService=o,this.loggerPlugin=y(A9)}initialize(){let t=this.getI18nextConfig();return this.i18next.use(this.loggerPlugin).init(t,()=>{this.addTranslationResources(),this.synchronizeLanguage()})}getI18nextConfig(){let t={ns:[],fallbackLng:this.config.i18n?.fallbackLang,debug:this.config.i18n?.debug,interpolation:{escapeValue:!1,skipOnVariables:!1}};return this.config.i18n?.backend&&(t=v(v({},t),this.i18nextBackendService.initialize())),t}addTranslationResources(){let t=this.config.i18n?.resources??{};Object.keys(t).forEach(n=>{Object.keys(t[n]).forEach(i=>{this.i18next.addResourceBundle(n,i,t[n][i],!0,!0)})})}synchronizeLanguage(){this.subscription=this.subscription??this.languageService.getActive().subscribe(t=>this.i18next.changeLanguage(t))}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(d($m),d(ya),d(Ni),d(_9))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),N9=[{provide:Nt,useFactory:()=>{let e=y(Tn),r=y(M9);return()=>cr(e.getStable("i18n")).then(()=>r.initialize())},multi:!0},...R9],O9=(()=>{class e{constructor(t){this.config=t,this.duplicates={},this.chunks={},this.logger=y(W),this.KEY_SEPARATOR=".";let n=t.i18n&&t.i18n.chunks||{};Object.keys(n).forEach(i=>{n[i].forEach(o=>{this.chunks.hasOwnProperty(o)?(this.duplicates[o]||(this.duplicates[o]=[this.chunks[o]]),this.duplicates[o].push(i)):this.chunks[o]=i})}),Object.keys(this.duplicates).length>0&&le()&&this.warnDuplicates(this.duplicates)}getChunkNameForKey(t){let n=(t||"").split(this.KEY_SEPARATOR)[0],i=this.chunks&&this.chunks[n];return i||n}warnDuplicates(t){let n=[];Object.keys(t).forEach(i=>{n.push(`* '${i}' found in chunks: ${t[i].join(", ")}. Used '${this.chunks[i]}.${i}'.`)}),this.logger.warn(`Duplicated keys has been found in the config of i18n chunks:
${n.join(`
`)}`)}static{this.\u0275fac=function(n){return new(n||e)(d(ya))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),x9=(()=>{class e{constructor(t,n,i){this.config=t,this.translationChunk=n,this.i18next=i,this.NON_BREAKING_SPACE="\xA0",this.NAMESPACE_SEPARATOR=":",this.logger=y(W)}translate(t,n={},i=!1){let o=Array.isArray(t)?t:[t],s=new Map,a=[];return o.forEach(c=>{let u=this.translationChunk.getChunkNameForKey(c),l=this.getNamespacedKey(c,u);a.push(l),s.set(c,u)}),new V(c=>{let u=()=>{if(!this.i18next.isInitialized)return;let l=!1;this.i18next.loadNamespaces(Array.from(s.values()),()=>{l=!0,this.i18next.exists(a,n)?c.next(this.i18next.t(a,n)):(this.reportMissingKey(s),c.next(this.getFallbackValue(a)))}),!l&&i&&c.next(this.NON_BREAKING_SPACE)};return u(),this.i18next.on("languageChanged",u),()=>this.i18next.off("languageChanged",u)})}loadChunks(t){return this.i18next.loadNamespaces(t)}getFallbackValue(t){let n=Array.isArray(t)?t.join(", "):t;return le()?`[${n}]`:this.NON_BREAKING_SPACE}reportMissingKey(t){let n=[...t.keys()];le()&&this.logger.warn(`Translation keys missing [${n.join(", ")}]. Attempted to load ${[...t].map(([i,o])=>`'${i}' from chunk '${o}'`).join(", ")}.`)}getNamespacedKey(t,n){return n+this.NAMESPACE_SEPARATOR+t}static{this.\u0275fac=function(n){return new(n||e)(d(ya),d(O9),d($m))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),epe=(()=>{class e extends bS{constructor(t){super(""),this.language=t,this.logger=y(W)}transform(t,n){return super.transform(t,n,this.getLang())}getLang(){let t=this.getActiveLang();try{return yc(t),t}catch{return this.reportMissingLocaleData(t),"en"}}getActiveLang(){let t="";return this.language.getActive().subscribe(n=>t=n).unsubscribe(),t}reportMissingLocaleData(t){le()&&this.logger.warn(`cxNumeric pipe: No locale data registered for '${t}' (see https://angular.io/api/common/registerLocaleData).`)}static{this.\u0275fac=function(n){return new(n||e)(Y(Ni,16))}}static{this.\u0275pipe=rn({name:"cxNumeric",type:e,pure:!0,standalone:!1})}}return e})();function rI(e){return e!==null&&typeof e=="object"&&("key"in e||"raw"in e)}var tpe=(()=>{class e{constructor(t,n){this.service=t,this.cd=n,this.logger=y(W)}transform(t,n={}){if(!t)return le()&&this.logger.error(`The given input for the cxTranslate pipe (${t}) is invalid and cannot be translated`),"";if(rI(t)&&t.raw)return t.raw;rI(t)&&t.params&&(n=v(v({},n),t.params));let i=rI(t)?t.key:t;return this.translate(i,n),this.translatedValue}translate(t,n){(t!==this.lastKey||!ou.shallowEqualObjects(n,this.lastOptions))&&(this.lastKey=t,this.lastOptions=n,this.sub&&this.sub.unsubscribe(),this.sub=this.service.translate(t,n,!0).subscribe(i=>this.markForCheck(i)))}markForCheck(t){this.translatedValue=t,this.cd.markForCheck()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(Y(Tr,16),Y(qr,16))}}static{this.\u0275pipe=rn({name:"cxTranslate",type:e,pure:!1,standalone:!1})}}return e})();function P9(e,r){return r?.i18n?.fallbackLang!==void 0?null:e}var F9=(()=>{class e{static forRoot(){return{ngModule:e,providers:[An(I9),{provide:Tr,useExisting:x9},...N9,{provide:Rm,useFactory:P9,deps:[D9,ya],multi:!0}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})();function L9(e,r){let t=y(W);return()=>Promise.all(e.runModuleInitializerFunctions(r)).catch(n=>{throw t.error("MODULE_INITIALIZER promise was rejected during app initialization.",n),n})}var k9=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:Nt,useFactory:L9,deps:[GD,[new mr,zx]],multi:!0}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})();function U9(){return Do(se)}var kF=new C("ProcessReducers"),j9={provide:kF,useFactory:U9},$9=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[j9],imports:[ii,Hn.forFeature(se,kF)]})}}return e})(),B9=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[$9]})}}return e})(),V9={siteTheme:{optionalThemes:[{i18nNameKey:"siteThemeSwitcher.themes.highContrastDark",className:"cx-theme-high-contrast-dark"},{i18nNameKey:"siteThemeSwitcher.themes.highContrastLight",className:"cx-theme-high-contrast-light"}]}},UF="[Site-theme] Set Active Site Theme",H9="[Site-theme] Site Theme Change",lD=class{constructor(r){this.payload=r,this.type=UF}},dD=class{constructor(r){this.payload=r,this.type=H9}};var Jw="siteTheme",z9=wn(Jw),G9=e=>e.activeSiteTheme,W9=T(z9,e=>e.themes),fD=T(W9,G9);var eb=(()=>{class e{constructor(){this.store=y(ie),this.config=y(ht),this.FALLBACK_DEFAULT_THEME_ID=""}getDefault(){return{className:ei(this.config,Ox)??this.FALLBACK_DEFAULT_THEME_ID,i18nNameKey:"siteThemeSwitcher.themes.default"}}get themes(){let t=this.config.siteTheme?.optionalThemes||[];return[this.getDefault(),...t]}getAll(){return D(this.themes)}getActive(){return this.store.pipe(A(fD),R(ca))}setActive(t){this.store.pipe(A(fD),q(1)).subscribe(n=>{n!==t&&this.isValid(t)&&this.store.dispatch(new lD(t))})}isInitialized(){let t=!1;return this.getActive().subscribe(()=>t=!0).unsubscribe(),t}isValid(t){return this.themes.map(n=>n.className).includes(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),q9=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=d(ht),i},providedIn:"root"})}}return e})(),Y9="siteTheme",K9=(()=>{class e{constructor(){this.statePersistenceService=y(bu),this.siteThemeService=y(eb),this.config=y(q9),this.initialized$=new Lt(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:Y9,state$:this.siteThemeService.getActive(),onRead:t=>this.onRead(t)}),this.initialized$}onRead(t){!this.siteThemeService.isInitialized()&&t&&this.siteThemeService.setActive(t),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Z9=(()=>{class e{constructor(){this.siteThemeService=y(eb),this.siteThemePersistenceService=y(K9),this.configInit=y(Tn)}initialize(){this.subscription=this.configInit.getStable("context").pipe(_(()=>this.siteThemePersistenceService.initSync()),_(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(F(()=>this.setDefaultFromConfig()))}setDefaultFromConfig(){if(!this.siteThemeService.isInitialized()){let t=this.siteThemeService.getDefault();this.siteThemeService.setActive(t.className)}}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Q9(){let e=y(Z9);return()=>{e.initialize()}}var X9=[{provide:Nt,useFactory:Q9,multi:!0}],J9=(()=>{class e{constructor(){this.actions$=y(he),this.state=y(ie),this.activateSiteTheme$=B(()=>this.state.select(fD).pipe(_a(2,1),R(([t])=>!!t),S(([t,n])=>new dD({previous:t,current:n}))))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),eK=[J9],tK={activeSiteTheme:null};function nK(e=tK,r){if(r.type===UF){let t=r.payload;return w(v({},e),{activeSiteTheme:t})}return e}function rK(){return{themes:nK}}var jF=new C("SiteThemeReducers"),iK={provide:jF,useFactory:rK};function oK(){return{state:{ssrTransfer:{keys:{[Jw]:Lo.TRANSFER_STATE}}}}}var sK=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[No(oK),iK],imports:[Pe,Hn.forFeature(Jw,jF),zn.forFeature(eK)]})}}return e})(),aK=(()=>{class e{static forRoot(){return{ngModule:e,providers:[eb,An(V9),...X9]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[ii,sK]})}}return e})(),npe=(()=>{class e{static forRoot(){return{ngModule:e}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[m9.forRoot(),ii.forRoot(),QP.forRoot(),zq.forRoot(),Wq.forRoot(),F9.forRoot(),BY.forRoot(),f9.forRoot(),B9.forRoot(),Xq.forRoot(),C5.forRoot(),l6.forRoot(),n6.forRoot(),k9.forRoot(),C9.forRoot(),aK.forRoot()]})}}return e})(),rpe=new C("PointOfServiceNormalizer"),cK=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),uK=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),ipe=(()=>{class e{constructor(t,n,i,o){this.cms=t,this.unifiedInjector=n,this.pageMetaConfig=i,this.platformId=o,this.featureConfigService=y(oi),this.resolvers$=this.unifiedInjector.getMulti(cn).pipe(Qe({bufferSize:1,refCount:!0})),this.meta$=je(()=>this.cms.getCurrentPage()).pipe(R(s=>!!s),_(s=>this.getMetaResolver(s)),_(s=>s?this.resolve(s):D(null)),Qe({bufferSize:1,refCount:!0}))}getMeta(){return this.meta$}resolve(t){let n=this.getResolverMethods(),i=Object.keys(n).filter(o=>t[n[o]]).map(o=>t[n[o]]().pipe(S(s=>({[o]:s}))));return i.length===0?D({}):Wx(i).pipe(S(o=>Object.assign({},...o)))}getResolverMethods(){let t={};return this.pageMetaConfig?.pageMeta?.resolvers?.filter(n=>{let i=this.featureConfigService.isEnabled("allPageMetaResolversEnabledInCsr")?!1:n.disabledInCsr;return!Bn(this.platformId??"")||!i||le()&&this.pageMetaConfig?.pageMeta?.enableInDevMode}).forEach(n=>t[n.property]=n.method),t}getMetaResolver(t){return this.resolvers$.pipe(S(n=>zD(n,[t],[t])))}static{this.\u0275fac=function(n){return new(n||e)(d(km),d(Du),d(AF),d(tt))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ope=(()=>{class e{constructor(t){this.unifiedInjector=t,this.componentDecorators$=this.unifiedInjector.getMulti(cK).pipe(Qe(1)),this.slotDecorators$=this.unifiedInjector.getMulti(uK).pipe(Qe(1))}addAttributesToComponent(t,n,i){(Xh(this.componentDecorators$)||[]).forEach(o=>o.decorate(t,n,i))}addAttributesToSlot(t,n,i){(Xh(this.slotDecorators$)||[]).forEach(o=>o.decorate(t,n,i))}static{this.\u0275fac=function(n){return new(n||e)(d(Du))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var lK=(()=>{class e{constructor(t,n){this.cmsConfig=t,this.lazyModules=n,this.features=new Map}isConfigured(t){return!!this.getFeatureConfig(t)?.module}resolveFeature(t){return t=this.resolveFeatureAlias(t),je(()=>{if(!this.features.has(t)){if(!this.isConfigured(t))return Rt(()=>new Error("No module defined for Feature Module "+t));let n=this.getFeatureConfig(t);this.features.set(t,this.resolveDependencies(n?.dependencies).pipe(_(i=>this.lazyModules.resolveModuleInstance(n?.module,t,i)),Qe()))}return this.features.get(t)??ce})}getFeatureConfig(t){return this.cmsConfig.featureModules?.[this.resolveFeatureAlias(t)]}resolveFeatureAlias(t){for(;typeof this.cmsConfig.featureModules?.[t]=="string";)t=this.cmsConfig.featureModules?.[t];return t}resolveDependencies(t=[]){return t?.length?Ko(t.map(n=>typeof n=="string"?this.resolveFeature(n):this.lazyModules.resolveDependencyModuleInstance(n))):D(void 0)}static{this.\u0275fac=function(n){return new(n||e)(d(jw),d(GD))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),jO="proxyFacadeInstance",dK=(()=>{class e{constructor(t,n){this.featureModules=t,this.injector=n}getResolver(t,n,i=!1){if(!this.featureModules.isConfigured(t))return Rt(()=>new Error(`Feature ${t} is not configured properly`));let o=this.featureModules.resolveFeature(t).pipe(S(s=>s.injector),S(s=>s.get(n)));return i&&(o=o.pipe(sr(0))),o.pipe(Qe())}call(t,n,i){let o=yl(t.pipe(S(s=>s[n](...i))),{connector:()=>new Lt,resetOnDisconnect:!1});return o.connect(),o.pipe(_(s=>Ui(s)?s:ce))}get(t,n){return t.pipe(_(i=>i[n]))}create({facade:t,feature:n,methods:i,properties:o,async:s}){let a=this.getResolver(n,t,s),c=new class extends t{};return(i??[]).forEach(u=>{c[u]=(...l)=>this.call(a,u,l)}),(o??[]).forEach(u=>{c[u]=this.get(a,u)}),c[jO]=!0,c}isProxyFacadeInstance(t){return!!t?.[jO]}static{this.\u0275fac=function(n){return new(n||e)(d(lK),d(ve))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function spe(e){return y(dK).create(e)}var fK=(()=>{class e{constructor(t){this.adapter=t}get(t,n=""){return this.adapter.load(t,n)}getMany(t){return this.adapter.loadMany?this.adapter.loadMany(t):t.map(n=>w(v({},n),{data$:this.adapter.load(n.code,n.scope)}))}static{this.\u0275fac=function(n){return new(n||e)(d(_g))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hK=(()=>{class e{constructor(t){this.adapter=t}getRealTimeStock(t,n){return this.adapter.loadRealTimeStock(t,n)}static{this.\u0275fac=function(n){return new(n||e)(d(Mg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),pK=(()=>{class e{constructor(t){this.adapter=t}get(t,n,i){return this.adapter.load(t,n,i)}static{this.\u0275fac=function(n){return new(n||e)(d(Ng))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gK=(()=>{class e{constructor(t){this.adapter=t}get(t,n){return this.adapter.load(t,n)}add(t,n){return this.adapter.post(t,n)}static{this.\u0275fac=function(n){return new(n||e)(d(Og))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tb=(()=>{class e{constructor(t){this.adapter=t}search(t,n,i){return this.adapter.search(t,n,i)}searchByCodes(t,n){return this.adapter.searchByCodes(t,n)}searchByCategory(t,n){return this.adapter.searchByCategory(t,n)}getSuggestions(t,n){return this.adapter.loadSuggestions(t,n)}static{this.\u0275fac=function(n){return new(n||e)(d(xg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$O=(()=>{class e extends ni{static{this.type="FacetChangedEvent"}}return e})(),nb="[Product] Load Product References Data",$F="[Product] Load Product References Data Fail",rb="[Product] Load Product References Data Success",ib="[Product] Clean Product References",Yg=class{constructor(r){this.payload=r,this.type=nb}},Kg=class{constructor(r){this.payload=r,this.type=$F,this.error=r}},Zg=class{constructor(r){this.payload=r,this.type=rb}},Qg=class{constructor(){this.type=ib}},ob="[Product] Load Product Reviews Data",BF="[Product] Load Product Reviews Data Fail",sb="[Product] Load Product Reviews Data Success",ab="[Product] Post Product Review",cb="[Product] Post Product Review Fail",ub="[Product] Post Product Review Success",Xg=class{constructor(r){this.payload=r,this.type=ob}},Jg=class{constructor(r){this.payload=r,this.type=BF,this.error=r}},em=class{constructor(r){this.payload=r,this.type=sb}},tm=class{constructor(r){this.payload=r,this.type=ab}},nm=class{constructor(r){this.payload=r,this.type=cb,this.error=r}},rm=class{constructor(r){this.payload=r,this.type=ub}},lb="[Product] Search Products",db="[Product] Search Products Fail",Bm="[Product] Search Products Success",fb="[Product] Get Product Suggestions",Vm="[Product] Get Product Suggestions Success",hb="[Product] Get Product Suggestions Fail",pb="[Product] Clear Product Search Result",lu=class{constructor(r,t){this.payload=r,this.auxiliary=t,this.type=lb}},im=class{constructor(r,t){this.payload=r,this.auxiliary=t,this.type=db,this.error=r}},om=class{constructor(r,t){this.payload=r,this.auxiliary=t,this.type=Bm}},sm=class{constructor(r){this.payload=r,this.type=fb}},du=class{constructor(r){this.payload=r,this.type=Vm}},am=class{constructor(r){this.payload=r,this.type=hb,this.error=r}},fu=class{constructor(r={clearPageResults:!1,clearSearchboxResults:!1}){this.payload=r,this.type=pb}},Rn;(function(e){function r(u,l,f){return w(v({},ID(u,l)),{scope:f})}e.entityScopedLoadMeta=r;function t(u,l,f,h){return w(v({},DD(u,l,h)),{scope:f})}e.entityScopedFailMeta=t;function n(u,l,f){return w(v({},wD(u,l)),{scope:f})}e.entityScopedSuccessMeta=n;function i(u,l,f){return w(v({},bD(u,l)),{scope:f})}e.entityScopedResetMeta=i;class o{constructor(l,f,h){this.type=yD,this.meta=r(l,f,h)}}e.EntityScopedLoadAction=o;class s{constructor(l,f,h,p){this.type=ED,this.meta=t(l,f,h,p),this.error=p}}e.EntityScopedFailAction=s;class a{constructor(l,f,h,p){this.payload=p,this.type=SD,this.meta=n(l,f,h)}}e.EntityScopedSuccessAction=a;class c{constructor(l,f,h){this.type=CD,this.meta=i(l,f,h)}}e.EntityScopedResetAction=c})(Rn||(Rn={}));var gb="product",Lu="[Product] Detail Entity",ku="[Product] Search Results By Codes Entity",Hm="[Product] Search Results By Category Entity",mb="[Product] Product Search Load By Code",VF="[Product] Product Search Load By Code Success",HF="[Product] Product Search Load By Code Fail",zF="[Product] Clear Product Search By Code State",cm=class extends Rn.EntityScopedLoadAction{constructor(r){super(ku,r.code,r.scope),this.payload=r,this.type=mb}},um=class extends Rn.EntityScopedSuccessAction{constructor(r){super(ku,r.code,r.scope,r.product),this.type=VF}},lm=class extends Rn.EntityScopedFailAction{constructor(r){super(ku,r.code,r.scope,r.error),this.type=HF}},dm=class extends Ah{constructor(){super(ku),this.type=zF}},vb="[Product] Product Search Load By Category",GF="[Product] Product Search Load By Category Success",WF="[Product] Product Search Load By Category Fail",fm=class extends Rn.EntityScopedLoadAction{constructor(r){super(Hm,r.categoryCode,r.scope),this.payload=r,this.type=vb}},hm=class extends Rn.EntityScopedSuccessAction{constructor(r){super(Hm,r.categoryCode,r.scope,r.products),this.type=GF}},pm=class extends Rn.EntityScopedFailAction{constructor(r){super(Hm,r.categoryCode,r.scope,r.error),this.type=WF}},zm="[Product] Load Product Data",yb="[Product] Load Product Data Fail",Eb="[Product] Load Product Data Success",qF="[Product] Clear Product PRICE",gm=class extends Rn.EntityScopedLoadAction{constructor(r,t=""){super(Lu,r,t),this.payload=r,this.type=zm}},hu=class extends Rn.EntityScopedFailAction{constructor(r,t,n=""){super(Lu,r,n,t),this.payload=t,this.type=yb}},mm=class extends Rn.EntityScopedSuccessAction{constructor(r,t=""){super(Lu,r.code??"",t),this.payload=r,this.type=Eb}},vm=class extends Rn.EntityScopedResetAction{constructor(){super(Lu,void 0,pa.PRICE),this.type=qF}},ape=Object.freeze({__proto__:null,CLEAN_PRODUCT_REFERENCES:ib,CLEAR_PRODUCT_PRICE:qF,CLEAR_PRODUCT_SEARCH_BY_CODE_STATE:zF,CLEAR_PRODUCT_SEARCH_RESULT:pb,CleanProductReferences:Qg,ClearProductPrice:vm,ClearProductSearchByCodeState:dm,ClearProductSearchResult:fu,GET_PRODUCT_SUGGESTIONS:fb,GET_PRODUCT_SUGGESTIONS_FAIL:hb,GET_PRODUCT_SUGGESTIONS_SUCCESS:Vm,GetProductSuggestions:sm,GetProductSuggestionsFail:am,GetProductSuggestionsSuccess:du,LOAD_PRODUCT:zm,LOAD_PRODUCT_FAIL:yb,LOAD_PRODUCT_REFERENCES:nb,LOAD_PRODUCT_REFERENCES_FAIL:$F,LOAD_PRODUCT_REFERENCES_SUCCESS:rb,LOAD_PRODUCT_REVIEWS:ob,LOAD_PRODUCT_REVIEWS_FAIL:BF,LOAD_PRODUCT_REVIEWS_SUCCESS:sb,LOAD_PRODUCT_SUCCESS:Eb,LoadProduct:gm,LoadProductFail:hu,LoadProductReferences:Yg,LoadProductReferencesFail:Kg,LoadProductReferencesSuccess:Zg,LoadProductReviews:Xg,LoadProductReviewsFail:Jg,LoadProductReviewsSuccess:em,LoadProductSuccess:mm,POST_PRODUCT_REVIEW:ab,POST_PRODUCT_REVIEW_FAIL:cb,POST_PRODUCT_REVIEW_SUCCESS:ub,PRODUCT_SEARCH_LOAD_BY_CATEGORY:vb,PRODUCT_SEARCH_LOAD_BY_CATEGORY_FAIL:WF,PRODUCT_SEARCH_LOAD_BY_CATEGORY_SUCCESS:GF,PRODUCT_SEARCH_LOAD_BY_CODE:mb,PRODUCT_SEARCH_LOAD_BY_CODE_FAIL:HF,PRODUCT_SEARCH_LOAD_BY_CODE_SUCCESS:VF,PostProductReview:tm,PostProductReviewFail:nm,PostProductReviewSuccess:rm,ProductSearchLoadByCategory:fm,ProductSearchLoadByCategoryFail:pm,ProductSearchLoadByCategorySuccess:hm,ProductSearchLoadByCode:cm,ProductSearchLoadByCodeFail:lm,ProductSearchLoadByCodeSuccess:um,SEARCH_PRODUCTS:lb,SEARCH_PRODUCTS_FAIL:db,SEARCH_PRODUCTS_SUCCESS:Bm,SearchProducts:lu,SearchProductsFail:im,SearchProductsSuccess:om}),Ea=wn(gb),mK=T(Ea,e=>e.references),vK=(e,r)=>T(mK,t=>t.productCode===e&&t.list?r?t.list.filter(n=>n.referenceType===r):t.list:[]),yK=T(Ea,e=>e.reviews),EK=e=>T(yK,r=>{if(r.productCode===e)return r.list}),SK={results:{},suggestions:[],auxResults:{}};function CK(e=SK,r){switch(r.type){case Bm:{let t=r.payload,n=r.auxiliary?{auxResults:t}:{results:t};return v(v({},e),n)}case Vm:{let t=r.payload;return w(v({},e),{suggestions:t})}case pb:return w(v({},e),{results:r.payload.clearPageResults?{}:e.results,suggestions:r.payload.clearSearchboxResults?[]:e.suggestions,auxResults:r.payload.clearSearchboxResults?{}:e.auxResults})}return e}var IK=e=>e.results,DK=e=>e.auxResults,wK=e=>e.suggestions,Sb=T(Ea,e=>e.search),bK=T(Sb,IK),TK=T(Sb,DK),RK=T(Sb,wK),AK=T(Ea,e=>e.searchByCode),_K=e=>T(AK,r=>Pt(r,e.code)[e.scope]||bn),MK=T(Ea,e=>e.searchByCategory),NK=e=>T(MK,r=>Pt(r,e.categoryCode)[e.scope]||bn),YF=T(Ea,e=>e.details),Uu=(e,r="")=>T(YF,t=>Pt(t,e)[r]||bn),OK=(e,r="")=>T(Uu(e,r),t=>Ze(t)),KF=(e,r="")=>T(Uu(e,r),t=>Ft(t)),xK=(e,r="")=>T(Uu(e,r),t=>Qn(t)),PK=(e,r="")=>T(Uu(e,r),t=>ma(t)),cpe=T(YF,e=>Object.keys(e.entities));var ju=(()=>{class e{constructor(t){this.store=t}search(t,n){t&&this.store.dispatch(new lu({queryText:t,searchConfig:n}))}getResults(){return this.store.pipe(A(bK))}clearResults(){this.store.dispatch(new fu({clearPageResults:!0}))}static{this.\u0275fac=function(n){return new(n||e)(d(ie))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),FK=(()=>{class e{constructor(t,n){this.eventService=t,this.productSearchService=n,this.register()}register(){this.eventService.register($O,this.buildFacetChangedEvent())}buildFacetChangedEvent(){return this.productSearchService.getResults().pipe(Ma(),R(([t,n])=>this.compareSearchResults(t,n)),S(([t,n])=>{let i=this.getToggledBreadcrumb(n.breadcrumbs,t.breadcrumbs)||this.getToggledBreadcrumb(t.breadcrumbs,n.breadcrumbs);if(i)return Ai($O,{code:i.facetCode,name:i.facetName,valueCode:i.facetValueCode,valueName:i.facetValueName,selected:n.breadcrumbs&&t.breadcrumbs&&n.breadcrumbs.length>t.breadcrumbs.length})}))}compareSearchResults(t,n){if(t&&Object.keys(t).length!==0){let i=t.freeTextSearch!==""&&t.freeTextSearch===n.freeTextSearch,o=n.breadcrumbs?.[0]?.facetCode==="allCategories"&&t.breadcrumbs?.[0]?.facetCode===n.breadcrumbs[0]?.facetCode&&t.breadcrumbs[0].facetValueCode===n.breadcrumbs[0].facetValueCode;return i||o}return!1}getToggledBreadcrumb(t,n){if(t&&n&&t.length-n.length===1)return t.find(i=>!n.find(o=>o.facetCode===i.facetCode&&o.facetValueCode===i.facetValueCode))}static{this.\u0275fac=function(n){return new(n||e)(d(ko),d(ju))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),LK=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(d(FK))}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})(),kK=(()=>{class e{constructor(t,n){this.actions$=t,this.productReferencesConnector=n,this.logger=y(W),this.loadProductReferences$=B(()=>this.actions$.pipe(j(nb),S(i=>i.payload),$(i=>this.productReferencesConnector.get(i.productCode,i.referenceType,i.pageSize).pipe(S(o=>new Zg({productCode:i.productCode,list:o})),M(o=>D(new Kg(te(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(pK))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),UK=(()=>{class e{constructor(t,n,i){this.actions$=t,this.productReviewsConnector=n,this.globalMessageService=i,this.logger=y(W),this.loadProductReviews$=B(()=>this.actions$.pipe(j(ob),S(o=>o.payload),$(o=>this.productReviewsConnector.get(o).pipe(S(s=>new em({productCode:o,list:s})),M(s=>D(new Jg(te(s,this.logger)))))))),this.postProductReview=B(()=>this.actions$.pipe(j(ab),S(o=>o.payload),$(o=>this.productReviewsConnector.add(o.productCode,o.review).pipe(S(s=>new rm(s)),M(s=>D(new nm(te(s,this.logger)))))))),this.showGlobalMessageOnPostProductReviewSuccess$=B(()=>this.actions$.pipe(j(ub),F(()=>{this.globalMessageService.add({key:"productReview.thankYouForReview"},Re.MSG_TYPE_CONFIRMATION)})),{dispatch:!1}),this.showGlobalMessageOnPostProductReviewFail$=B(()=>this.actions$.pipe(j(cb),F(()=>{this.globalMessageService.add({key:"productReview.postReviewFail"},Re.MSG_TYPE_ERROR)})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(gK),d(Uo))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),jK=(()=>{class e{constructor(t,n){this.actions$=t,this.productSearchConnector=n,this.logger=y(W),this.globalMessageService=y(Uo),this.searchProducts$=B(()=>this.actions$.pipe(j(lb),lr(i=>i.auxiliary),$(i=>i.pipe(_(o=>this.productSearchConnector.search(o.payload.queryText,o.payload.searchConfig).pipe(S(s=>new om(s,o.auxiliary)),M(s=>{let a=te(s,this.logger);return a?.details?.[0].type==="ArrayIndexOutOfBoundsError"&&this.globalMessageService.add({key:"searchBox.queryError"},Re.MSG_TYPE_ERROR),D(new im(a,o.auxiliary))}))))))),this.getProductSuggestions$=B(()=>this.actions$.pipe(j(fb),S(i=>i.payload),_(i=>this.productSearchConnector.getSuggestions(i.term,i.searchConfig?.pageSize).pipe(S(o=>o===void 0?new du([]):new du(o)),M(o=>D(new am(te(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(tb))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),$K=(()=>{class e{productLoadEffect(t){return t.data$?.pipe(S(n=>new mm(v({code:t.code},n),t.scope)),M(n=>D(new hu(t.code,te(n,this.logger),t.scope))))??D(new hu(t.code,new Error("Scoped product data does not exist"),t.scope))}constructor(t,n){this.actions$=t,this.productConnector=n,this.logger=y(W),this.contextChange$=this.actions$.pipe(j(Po,ln)),this.loadProduct$=B(()=>({scheduler:i,debounce:o=0}={})=>this.actions$.pipe(j(zm),S(s=>({code:s.payload,scope:s.meta.scope})),jm(o,i),$(s=>pn(...this.productConnector.getMany(s).map(a=>this.productLoadEffect(a)))),wu(this.contextChange$))),this.clearProductPrice$=B(()=>this.actions$.pipe(j(Rr,Zn),S(()=>new vm)))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(fK))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),BK=(()=>{class e{constructor(){this.logger=y(W),this.actions$=y(he),this.productSearchConnector=y(tb),this.contextChange$=this.actions$.pipe(j(Po,ln)),this.searchByCodes$=B(()=>({scheduler:t,debounce:n=0}={})=>this.actions$.pipe(j(mb),lr(i=>i.payload.scope),$(i=>{let o=i.key;return i.pipe(S(s=>s.payload),jm(n,t),$(s=>{let a=s.map(c=>c.code);return this.productSearchConnector.searchByCodes(a,o).pipe(_(c=>c.products?.map((u,l)=>new um(w(v({},s[l]),{product:u})))),M(c=>s.map(u=>new lm(w(v({},u),{error:Ke(c,this.logger)})))))}))}),wu(this.contextChange$))),this.clearState$=B(()=>this.actions$.pipe(j(Rr,Zn),S(()=>new dm)))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),VK=(()=>{class e{constructor(){this.logger=y(W),this.actions$=y(he),this.productSearchConnector=y(tb),this.contextChange$=this.actions$.pipe(j(Po,ln)),this.searchByCategory$=B(()=>({scheduler:t,debounce:n=0}={})=>this.actions$.pipe(j(vb),lr(i=>i.payload.scope),$(i=>{let o=i.key;return i.pipe(S(s=>s.payload),jm(n,t),$(s=>{let a=s.map(c=>c.categoryCode);return Ko(a.map(c=>this.productSearchConnector.searchByCategory(c,o))).pipe($((c,u)=>a.map((l,f)=>{let h=c[f]?.products??[];return new hm({categoryCode:l,scope:o,products:h})})),M(c=>s.map(u=>new pm(w(v({},u),{error:te(c,this.logger)})))))}))}),wu(this.contextChange$)))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),HK=[jK,BK,VK,$K,UK,kK],zK={};function GK(e,r){let t=nt(e,r);return(n=zK,i)=>i&&i.meta&&i.meta.entityType===e?w(v({},n),{[i.meta.scope??""]:t(n[i.meta.scope??""],i)}):n}function iI(e,r){return gu(e,GK(e,r))}var BO={productCode:"",list:[]};function WK(e=BO,r){switch(r.type){case rb:{let t=r.payload.productCode,n=r.payload.list;return w(v({},e),{list:[...e.list,...n||[]].reduce((i,o)=>(i.some(s=>s.referenceType===o.referenceType&&s.target?.code===o.target?.code)||i.push(o),i),[]),productCode:t})}case ib:return BO}return e}var qK={productCode:"",list:[]};function YK(e=qK,r){switch(r.type){case sb:{let t=r.payload.productCode,n=r.payload.list;return w(v({},e),{productCode:t,list:n})}}return e}function KK(){return{search:CK,searchByCode:iI(ku),searchByCategory:iI(Hm),details:iI(Lu),reviews:YK,references:WK}}var ZF=new C("ProductReducers"),ZK={provide:ZF,useFactory:KK};function QK(e){return function(r,t){return(t.type===Po||t.type===ln)&&(r=void 0),e(r,t)}}var XK=[QK],upe=(()=>{class e{constructor(t){this.store=t}loadProductReferences(t,n,i){this.store.dispatch(new Yg({productCode:t,referenceType:n,pageSize:i}))}getProductReferences(t,n){return this.store.pipe(A(vK(t,n)))}cleanReferences(){this.store.dispatch(new Qg)}static{this.\u0275fac=function(n){return new(n||e)(d(ie))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),lpe=(()=>{class e{constructor(t){this.store=t}getByProductCode(t){return this.store.pipe(A(EK(t)),F(n=>{n===void 0&&t!==void 0&&this.store.dispatch(new Xg(t))}),S(n=>n??[]))}add(t,n){this.store.dispatch(new tm({productCode:t,review:n}))}static{this.\u0275fac=function(n){return new(n||e)(d(ie))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),dpe=(()=>{class e{constructor(){this.store=y(ie)}load({code:t,scope:n}){this.store.dispatch(new cm({code:t,scope:n??""}))}get({code:t,scope:n}){let i=this.store.pipe(A(_K({code:t,scope:n??""}))),o=i.pipe(Zo(0),F(a=>{a.loading||a.success||a.error||this.load({code:t,scope:n})})),s=i.pipe(S(a=>a.value));return di(()=>o.subscribe(),()=>s)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),fpe=(()=>{class e{constructor(){this.store=y(ie)}load({categoryCode:t,scope:n}){this.store.dispatch(new fm({categoryCode:t,scope:n??""}))}get({categoryCode:t,scope:n}){let i=this.store.pipe(A(NK({categoryCode:t,scope:n??""}))),o=i.pipe(Zo(0),F(a=>{a.loading||a.success||a.error||this.load({categoryCode:t,scope:n})})),s=i.pipe(S(a=>a.value));return di(()=>o.subscribe(),()=>s)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),JK=(()=>{class e{constructor(t,n,i,o,s){this.store=t,this.loadingScopes=n,this.actions$=i,this.platformId=o,this.eventService=s,this.products={}}get(t,n){return RO(t),n=this.loadingScopes.expand("product",n),this.initProductScopes(t,n),this.products[t][this.getScopesIndex(n)]}initProductScopes(t,n){RO(t),this.products[t]||(this.products[t]={});for(let i of n)this.products[t][i]||(this.products[t][i]=this.getProductForScope(t,i));n.length>1&&(this.products[t][this.getScopesIndex(n)]=Wx(n.map(i=>this.products[t][i])).pipe(S(i=>i.every(Boolean)?ft({},...i):void 0),gn()))}getScopesIndex(t){return t.join("\u0275")}getProductForScope(t,n){let i=this.store.pipe(A(Uu(t,n)),S(c=>!c.loading&&!c.success&&!c.error),gn(),R(c=>c)),o=this.store.pipe(A(KF(t,n))),s=pn(i,...this.getProductReloadTriggers(t,n)).pipe($i(0),Xe(o),F(([,c])=>{c||this.store.dispatch(new gm(t,n))})),a=this.store.pipe(A(OK(t,n)));return di(()=>s.subscribe(),()=>a).pipe(Qe({bufferSize:1,refCount:!0}))}getProductReloadTriggers(t,n){let i=[],o=this.loadingScopes.getMaxAge("product",n);if(o&&Bn(this.platformId)){let a=this.actions$.pipe(j(Eb,yb),R(u=>u.meta.entityId===t&&u.meta.scope===n)),c=this.actions$.pipe(j(zm),R(u=>u.payload===t&&u.meta.scope===n));i.push(this.getMaxAgeTrigger(c,a,o))}let s=this.loadingScopes.getReloadTriggers("product",n).map(a=>this.eventService.get(a));return i.concat(s)}getMaxAgeTrigger(t,n,i,o){let s=0,a=()=>o?o.now():Date.now(),c=n.pipe(F(()=>s=a()));return je(()=>{let l=a()-s,f=c.pipe(sr(i,o),S(()=>!0),wu(t));return l>i?pn(D(!0),f):l===0?f:pn(D(!0).pipe(sr(i-l,o)),f)})}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(d6),d(he),d(tt),d(ko))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),eZ=(()=>{class e{constructor(t,n){this.store=t,this.productLoading=n}get(t,n=nu){return t?this.productLoading.get(t,[].concat(n)):D(void 0)}isLoading(t,n=""){return this.store.pipe(A(KF(t,n)))}isSuccess(t,n=""){return this.store.pipe(A(xK(t,n)))}hasError(t,n=""){return this.store.pipe(A(PK(t,n)))}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(JK))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hpe=(()=>{class e extends ju{constructor(){super(...arguments),this.actionsSubject=y(Dn)}search(t,n){this.store.dispatch(new lu({queryText:t,searchConfig:n},!0))}searchWithCompletion(t,n){return this.search(t,n),this.actionsSubject.pipe(R(i=>i.type===Bm||i.type===db),q(1))}getResults(){return this.store.pipe(A(TK))}clearResults(){this.store.dispatch(new fu({clearSearchboxResults:!0}))}getSuggestionResults(){return this.store.pipe(A(RK))}searchSuggestions(t,n){this.store.dispatch(new sm({term:t,searchConfig:n}))}searchSuggestionsWithCompletion(t,n){return this.searchSuggestions(t,n),this.actionsSubject.pipe(R(i=>i.type===Vm||i.type===hb),q(1))}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ke(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ppe=(()=>{class e{constructor(){this.connector=y(hK),this.command=y(Hx),this.getRealTimeStockCommand=this.command.create(t=>this.connector.getRealTimeStock(t.productCode,t.unitSapCode),{strategy:wo.CancelPrevious})}getRealTimeStock(t,n){return this.getRealTimeStockCommand.execute({productCode:t,unitSapCode:n})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tZ=(()=>{class e extends cn{constructor(t,n,i,o){super(),this.productSearchService=t,this.cms=n,this.translation=i,this.basePageMetaResolver=o,this.searchPage$=this.cms.getCurrentPage().pipe(R(s=>!!s),_(s=>this.hasProductListComponent(s)?this.productSearchService.getResults().pipe(R(a=>!!a)):D(s))),this.pageType=ge.CATEGORY_PAGE}resolveTitle(){return this.searchPage$.pipe(R(t=>!!t.pagination),_(t=>this.translation.translate("pageMetaResolver.category.title",{count:t.pagination?.totalResults,query:t.breadcrumbs?.length?t.breadcrumbs[0].facetValueName:void 0})))}resolveBreadcrumbs(){return Ae([this.searchPage$.pipe(),this.translation.translate("common.home")]).pipe(S(([t,n])=>t.breadcrumbs?this.resolveBreadcrumbData(t,n):[]))}resolveBreadcrumbData(t,n){let i=[];i.push({label:n,link:"/"});for(let o of t.breadcrumbs??[])o.facetValueName&&((o.facetCode==="category"||o.facetCode==="allCategories")&&i.push({label:o.facetValueName,link:`/c/${o.facetValueCode}`}),o.facetCode==="brand"&&i.push({label:o.facetValueName,link:`/Brands/${o.facetValueName}/c/${o.facetValueCode}`}));return i}hasProductListComponent(t){return!!Object.keys(t.slots||{}).find(n=>!!t.slots?.[n].components?.find(i=>i.typeCode==="CMSProductListComponent"||i.typeCode==="ProductGridComponent"))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}static{this.\u0275fac=function(n){return new(n||e)(d(ju),d(km),d(Tr),d(Um))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),nZ=(()=>{class e extends cn{constructor(t,n,i,o,s){super(),this.productSearchService=t,this.translation=n,this.authService=i,this.route=o,this.semanticPathService=s,this.total$=this.productSearchService.getResults().pipe(R(a=>!!a?.pagination),S(a=>a.pagination?.totalResults??0)),this.pageType=ge.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveBreadcrumbs(){return Ae([this.translation.translate("common.home"),this.translation.translate("myCoupons.myCoupons"),this.authService.isUserLoggedIn()]).pipe(S(([t,n,i])=>{let o=[];return o.push({label:t,link:"/"}),i&&o.push({label:n,link:this.semanticPathService.transform({cxRoute:"coupons"})}),o}))}resolveTitle(){return this.total$.pipe(_(t=>this.translation.translate("pageMetaResolver.search.findProductTitle",{count:t,coupon:this.couponCode})))}getScore(t){return super.getScore(t)+(this.couponCode?1:-1)}get couponCode(){return this.route.snapshot?.queryParams?.couponcode}static{this.\u0275fac=function(n){return new(n||e)(d(ju),d(Tr),d(er),d(qn),d(Eu))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rZ=(()=>{class e extends cn{constructor(t,n,i,o,s){super(),this.routingService=t,this.productService=n,this.translation=i,this.basePageMetaResolver=o,this.pageLinkService=s,this.product$=this.routingService.getRouterState().pipe(S(a=>a.state.params.productCode),R(a=>!!a),_(a=>this.productService.get(a,pa.DETAILS)),R(un)),this.pageType=ge.PRODUCT_PAGE}resolveHeading(){return this.product$.pipe(_(t=>this.translation.translate("pageMetaResolver.product.heading",{heading:t.name})))}resolveTitle(){return this.product$.pipe(_(t=>{let n=t.name;return n+=this.resolveFirstCategory(t),n+=this.resolveManufacturer(t),this.translation.translate("pageMetaResolver.product.title",{title:n})}))}resolveDescription(){return this.product$.pipe(_(t=>this.translation.translate("pageMetaResolver.product.description",{description:t.summary})))}resolveBreadcrumbs(){return Ae([this.product$.pipe(),this.translation.translate("common.home")]).pipe(S(([t,n])=>{let i=[];i.push({label:n,link:"/"});for(let{name:o,code:s,url:a}of t.categories||[])i.push({label:o||s,link:a});return i}))}resolveImage(){return this.product$.pipe(S(t=>t.images?.PRIMARY?.zoom?.url??null))}resolveFirstCategory(t){let n=t?.categories?.[0];return n?` | ${n.name||n.code}`:""}resolveManufacturer(t){return t.manufacturer?` | ${t.manufacturer}`:""}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.product$.pipe(_(t=>this.findBaseProduct(t)),S(t=>{let n=this.routingService.getFullUrl({cxRoute:"product",params:t});return this.pageLinkService.getCanonicalUrl({},n)}))}findBaseProduct(t){return t?.baseProduct?this.productService.get(t.baseProduct,pa.LIST).pipe(R(un),_(n=>this.findBaseProduct(n))):D(t)}static{this.\u0275fac=function(n){return new(n||e)(d(Mi),d(eZ),d(Tr),d(Um),d(_F))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),iZ=(()=>{class e extends cn{constructor(t,n,i,o){super(),this.routingService=t,this.productSearchService=n,this.translation=i,this.basePageMetaResolver=o,this.total$=this.productSearchService.getResults().pipe(R(s=>!!s?.pagination),S(s=>s.pagination?.totalResults)),this.query$=this.routingService.getRouterState().pipe(S(s=>s.state.params.query)),this.pageType=ge.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveTitle(){let t=[this.total$,this.query$];return Ae(t).pipe(_(([n,i])=>this.translation.translate("pageMetaResolver.search.default_title").pipe($(o=>this.translation.translate("pageMetaResolver.search.title",{count:n,query:i||o})))))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}static{this.\u0275fac=function(n){return new(n||e)(d(Mi),d(ju),d(Tr),d(Um))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function oZ(){return{state:{ssrTransfer:{keys:{[gb]:Lo.TRANSFER_STATE}}}}}var sZ=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[No(oZ),ZK],imports:[Pe,Hn.forFeature(gb,ZF,{metaReducers:XK}),zn.forFeature(HK)]})}}return e})(),aZ=[{provide:cn,useExisting:rZ,multi:!0},{provide:cn,useExisting:tZ,multi:!0},{provide:cn,useExisting:iZ,multi:!0},{provide:cn,useExisting:nZ,multi:!0}],gpe=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...aZ]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({imports:[sZ,LK]})}}return e})(),QF=(()=>{class e{constructor(t){this.adapter=t}getAll(t){return this.adapter.loadAll(t)}add(t,n){return this.adapter.add(t,n)}update(t,n,i){return this.adapter.update(t,n,i)}verify(t,n){return this.adapter.verify(t,n)}delete(t,n){return this.adapter.delete(t,n)}static{this.\u0275fac=function(n){return new(n||e)(d(Lg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cZ=(()=>{class e{constructor(t){this.adapter=t}loadConsents(t){return this.adapter.loadConsents(t)}giveConsent(t,n,i){return this.adapter.giveConsent(t,n,i)}withdrawConsent(t,n,i){return this.adapter.withdrawConsent(t,n,i)}static{this.\u0275fac=function(n){return new(n||e)(d(kg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),uZ=(()=>{class e{constructor(t){this.adapter=t}getActiveList(t){return this.adapter.loadActiveList(t)}static{this.\u0275fac=function(n){return new(n||e)(d(Ug))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),lZ=(()=>{class e{constructor(t){this.adapter=t,this.featureConfigService=y(oi)}getCustomerCoupons(t,n,i,o){return this.adapter.getCustomerCoupons(t,n,i,o)}turnOnNotification(t,n){return this.adapter.turnOnNotification(t,n)}turnOffNotification(t,n){return this.adapter.turnOffNotification(t,n)}claimCustomerCoupon(t,n){return this.featureConfigService.isEnabled("enableClaimCustomerCouponWithCodeInRequestBody")?this.adapter.claimCustomerCouponWithCodeInBody(t,n):this.adapter.claimCustomerCoupon(t,n)}disclaimCustomerCoupon(t,n){return this.adapter.disclaimCustomerCoupon(t,n)}static{this.\u0275fac=function(n){return new(n||e)(d(jg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),dZ=(()=>{class e{constructor(t){this.adapter=t}getInterests(t,n,i,o,s,a){return this.adapter.getInterests(t,n,i,o,s,a)}removeInterest(t,n){return this.adapter.removeInterest(t,n)}addInterest(t,n,i){return this.adapter.addInterest(t,n,i)}static{this.\u0275fac=function(n){return new(n||e)(d($g))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),fZ=(()=>{class e{constructor(t){this.adapter=t}getAll(t){return this.adapter.loadAll(t)}delete(t,n){return this.adapter.delete(t,n)}setDefault(t,n){return this.adapter.setDefault(t,n)}static{this.\u0275fac=function(n){return new(n||e)(d(Bg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Mo=class extends ni{},hZ=(()=>{class e extends Mo{static{this.type="UpdateUserAddressEvent"}}return e})(),pZ=(()=>{class e extends Mo{static{this.type="DeleteUserAddressEvent"}}return e})(),gZ=(()=>{class e extends Mo{static{this.type="AddUserAddressEvent"}}return e})(),mpe=(()=>{class e extends Mo{static{this.type="LoadUserAddressesEvent"}}return e})(),vpe=(()=>{class e extends Mo{static{this.type="LoadUserPaymentMethodsEvent"}}return e})(),XF=(()=>{class e{constructor(t){this.stateEventService=t,this.register()}register(){this.updateUserAddressEvent(),this.deleteUserAddressEvent(),this.addUserAddressEvent()}updateUserAddressEvent(){this.stateEventService.register({action:Nm,event:hZ})}addUserAddressEvent(){this.stateEventService.register({action:Mm,event:gZ})}deleteUserAddressEvent(){this.stateEventService.register({action:Om,event:pZ})}static{this.\u0275fac=function(n){return new(n||e)(d(Xx))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),mZ=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(d(XF))}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({})}}return e})();var ype=(()=>{class e{constructor(t,n){this.store=t,this.userIdService=n}loadCustomerCoupons(t,n,i){this.userIdService.takeUserId().subscribe(o=>{this.store.dispatch(new ip({userId:o,pageSize:t,currentPage:n,sort:i}))})}getCustomerCoupons(t){return Ae([this.store.pipe(A(Pm)),this.getClaimCustomerCouponResultLoading()]).pipe(R(([,n])=>!n),F(([n])=>{n.loading||n.success||n.error||this.loadCustomerCoupons(t)}),S(([n])=>n.value),R(un))}getCustomerCouponsLoaded(){return this.store.pipe(A(g6))}getCustomerCouponsLoading(){return this.store.pipe(A(m6))}subscribeCustomerCoupon(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new ap({userId:n,couponCode:t}))})}getSubscribeCustomerCouponResultLoading(){return this.store.pipe(A(Ri(Ro)))}getSubscribeCustomerCouponResultSuccess(){return this.store.pipe(A(Qr(Ro)))}getSubscribeCustomerCouponResultError(){return this.store.pipe(A(Ti(Ro)))}unsubscribeCustomerCoupon(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new lp({userId:n,couponCode:t}))})}getUnsubscribeCustomerCouponResultLoading(){return this.store.pipe(A(Ri(Ao)))}getUnsubscribeCustomerCouponResultSuccess(){return this.store.pipe(A(Qr(Ao)))}getUnsubscribeCustomerCouponResultError(){return this.store.pipe(A(Ti(Ao)))}claimCustomerCoupon(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new hp({userId:n,couponCode:t}))})}disclaimCustomerCoupon(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new pp({userId:n,couponCode:t}))})}resetDisclaimCustomerCoupon(){this.store.dispatch(new gp)}getClaimCustomerCouponResultSuccess(){return this.store.pipe(A(Qr(oa)))}getClaimCustomerCouponResultLoading(){return this.store.pipe(A(Ri(oa)))}getDisclaimCustomerCouponResultSuccess(){return this.store.pipe(A(Qr(da)))}getClaimCustomerCouponResultError(){return this.store.pipe(A(Ti(oa)))}getDisclaimCustomerCouponResultError(){return this.store.pipe(A(Ti(da)))}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(Xn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),vZ=(()=>{class e{constructor(t,n,i,o){this.store=t,this.userIdService=n,this.userAddressConnector=i,this.command=o,this.userAddressVerificationCommand=this.command.create(s=>this.userIdService.takeUserId(!1).pipe(_(a=>this.userAddressConnector.verify(a,s.address))))}loadAddresses(){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new eg(t))})}addUserAddress(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new rg({userId:n,address:t}))})}setAddressAsDefault(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new au({userId:n,addressId:t,address:{defaultAddress:!0}}))})}updateUserAddress(t,n){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new au({userId:i,addressId:t,address:n}))})}deleteUserAddress(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new cg({userId:n,addressId:t}))})}getAddresses(){return this.store.pipe(A(_6))}getAddressesLoading(){return this.store.pipe(A(M6))}getAddressesLoadedSuccess(){return this.store.pipe(A(N6))}loadDeliveryCountries(){this.store.dispatch(new Sp)}getDeliveryCountries(){return this.store.pipe(A(y6))}getCountry(t){return this.store.pipe(A(E6(t)))}loadRegions(t){this.store.dispatch(new Zp(t))}clearRegions(){this.store.dispatch(new Jp)}getRegions(t){return this.store.pipe(A(A6),S(({regions:n,country:i,loading:o,loaded:s})=>!t&&(o||s)?(this.clearRegions(),[]):o&&!s?[]:!o&&t!==i&&t?(i&&this.clearRegions(),this.loadRegions(t),[]):n))}verifyAddress(t){return this.userAddressVerificationCommand.execute({address:t})}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(Xn),d(QF),d(Hx))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Epe=(()=>{class e{constructor(t,n){this.store=t,this.userIdService=n}loadProductInterests(t,n,i,o,s){this.userIdService.takeUserId().subscribe(a=>{this.store.dispatch(new ha({userId:a,pageSize:t,currentPage:n,sort:i,productCode:o,notificationType:s}))})}getProductInterests(){return this.store.pipe(A(T6))}getAndLoadProductInterests(t){return this.store.pipe(A(Vw),F(n=>{n.loading||n.success||n.error||this.loadProductInterests(t)}),S(n=>n.value),R(un))}getProdutInterestsLoading(){return this.store.pipe(A(R6))}removeProdutInterest(t,n){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new Bp({userId:i,item:t,singleDelete:n}))})}getRemoveProdutInterestLoading(){return this.store.pipe(A(Ri(la)))}getRemoveProdutInterestSuccess(){return this.store.pipe(A(Qr(la)))}addProductInterest(t,n){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new zp({userId:i,productCode:t,notificationType:n}))})}getAddProductInterestSuccess(){return this.store.pipe(A(Qr(ua)))}getAddProductInterestError(){return this.store.pipe(A(Ti(ua)))}resetAddInterestState(){this.store.dispatch(new qp)}resetRemoveInterestState(){this.store.dispatch(new Yp)}clearProductInterests(){this.store.dispatch(new Kp)}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(Xn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Spe=(()=>{class e{constructor(t,n){this.store=t,this.userIdService=n}getPreferences(){return this.store.pipe(A(S6))}getEnabledPreferences(){return this.store.pipe(A(C6))}loadPreferences(){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new Dp(t))})}clearPreferences(){this.store.dispatch(new Mp)}getPreferencesLoading(){return this.store.pipe(A(I6))}updatePreferences(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new Tp({userId:n,preferences:t}))})}getUpdatePreferencesResultLoading(){return this.store.select(Ri(Tu))}resetNotificationPreferences(){this.store.dispatch(new _p)}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(Xn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Cpe=(()=>{class e{constructor(t,n){this.store=t,this.userIdService=n}loadPaymentMethods(){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new fa(t))})}getPaymentMethods(){return this.store.pipe(A(D6))}getPaymentMethodsLoading(){return this.store.pipe(A(w6))}getPaymentMethodsLoadedSuccess(){return this.store.pipe(A(b6))}setPaymentMethodAsDefault(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new xp({userId:n,paymentMethodId:t}))})}deletePaymentMethod(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new Lp({userId:n,paymentMethodId:t}))})}getAllBillingCountries(){return this.store.pipe(A(p6))}loadBillingCountries(){this.store.dispatch(new tp)}static{this.\u0275fac=function(n){return new(n||e)(d(ie),d(Xn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),VO=class{},yZ=(()=>{class e{constructor(t,n){this.actions$=t,this.siteConnector=n,this.logger=y(W),this.loadBillingCountries$=B(()=>this.actions$.pipe(j(YD),_(()=>this.siteConnector.getCountries(pD.BILLING).pipe(S(i=>new rp(i)),M(i=>D(new np(te(i,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(va))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),EZ=(()=>{class e{constructor(t){this.actions$=t,this.clearMiscsData$=B(()=>this.actions$.pipe(j(ln,Po),S(()=>new bg)))}static{this.\u0275fac=function(n){return new(n||e)(d(he))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),SZ=(()=>{class e{constructor(t,n){this.actions$=t,this.customerCouponConnector=n,this.logger=y(W),this.loadCustomerCoupons$=B(()=>this.actions$.pipe(j(ZD),S(i=>i.payload),$(i=>this.customerCouponConnector.getCustomerCoupons(i.userId,i.pageSize,i.currentPage,i.sort).pipe(S(o=>new sp(o)),M(o=>D(new op(te(o,this.logger)))))))),this.subscribeCustomerCoupon$=B(()=>this.actions$.pipe(j(XD),S(i=>i.payload),$(i=>this.customerCouponConnector.turnOnNotification(i.userId,i.couponCode).pipe(S(o=>new up(o)),M(o=>D(new cp(te(o,this.logger)))))))),this.unsubscribeCustomerCoupon$=B(()=>this.actions$.pipe(j(ew),S(i=>i.payload),$(i=>this.customerCouponConnector.turnOffNotification(i.userId,i.couponCode).pipe(S(()=>new fp(i.couponCode)),M(o=>D(new dp(te(o,this.logger)))))))),this.claimCustomerCoupon$=B(()=>this.actions$.pipe(j(nw),S(i=>i.payload),$(i=>this.customerCouponConnector.claimCustomerCoupon(i.userId,i.couponCode).pipe(S(o=>new Ep(o)),M(o=>D(new yp(te(o,this.logger)))))))),this.disclaimCustomerCoupon$=B(()=>this.actions$.pipe(j(rw),S(i=>i.payload),$(i=>this.customerCouponConnector.disclaimCustomerCoupon(i.userId,i.couponCode).pipe(S(o=>new vp(o)),M(o=>D(new mp(te(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(lZ))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),CZ=(()=>{class e{constructor(t,n){this.actions$=t,this.siteConnector=n,this.logger=y(W),this.loadDeliveryCountries$=B(()=>this.actions$.pipe(j(iw),_(()=>this.siteConnector.getCountries(pD.SHIPPING).pipe(S(i=>new Ip(i)),M(i=>D(new Cp(te(i,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(va))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),IZ=(()=>{class e{constructor(t,n){this.actions$=t,this.connector=n,this.logger=y(W),this.loadPreferences$=B(()=>this.actions$.pipe(j(sw),S(i=>i.payload),_(i=>this.connector.loadAll(i).pipe(S(o=>new bp(o)),M(o=>D(new wp(te(o,this.logger)))))))),this.updatePreferences$=B(()=>this.actions$.pipe(j(uw),S(i=>i.payload),$(i=>this.connector.update(i.userId,i.preferences).pipe(S(()=>new Ap(i.preferences)),M(o=>D(new Rp(te(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(W4))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),DZ=(()=>{class e{constructor(t,n,i){this.actions$=t,this.userPaymentMethodConnector=n,this.globalMessageService=i,this.logger=y(W),this.loadUserPaymentMethods$=B(()=>this.actions$.pipe(j(dw),S(o=>o.payload),$(o=>this.userPaymentMethodConnector.getAll(o).pipe(S(s=>new Op(s)),M(s=>D(new Np(te(s,this.logger)))))))),this.setDefaultUserPaymentMethod$=B(()=>this.actions$.pipe(j(pw),S(o=>o.payload),$(o=>this.userPaymentMethodConnector.setDefault(o.userId,o.paymentMethodId).pipe(_(s=>[new Fp(s),new fa(o.userId)]),M(s=>D(new Pp(te(s,this.logger)))))))),this.deleteUserPaymentMethod$=B(()=>this.actions$.pipe(j(gw),S(o=>o.payload),$(o=>this.userPaymentMethodConnector.delete(o.userId,o.paymentMethodId).pipe(_(s=>(this.globalMessageService.add({key:"paymentCard.deletePaymentSuccess"},Re.MSG_TYPE_CONFIRMATION),[new Up(s),new fa(o.userId)])),M(s=>D(new kp(te(s,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(fZ),d(Uo))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),wZ=(()=>{class e{constructor(t,n){this.actions$=t,this.userInterestsConnector=n,this.logger=y(W),this.loadProductInteres$=B(()=>this.actions$.pipe(j(mw),S(i=>i.payload),_(i=>this.userInterestsConnector.getInterests(i.userId,i.pageSize,i.currentPage,i.sort,i.productCode,i.notificationType).pipe(S(o=>new $p(o)),M(o=>D(new jp(te(o,this.logger)))))))),this.removeProductInterest$=B(()=>this.actions$.pipe(j(Ew),S(i=>i.payload),_(i=>this.userInterestsConnector.removeInterest(i.userId,i.item).pipe(_(o=>[new ha(i.singleDelete?{userId:i.userId,productCode:i.item.product?.code,notificationType:i.item.productInterestEntry?.[0].interestType}:{userId:i.userId}),new Vp(o)]),M(o=>D(new Hp(te(o,this.logger)))))))),this.addProductInterest$=B(()=>this.actions$.pipe(j(Sw),S(i=>i.payload),_(i=>this.userInterestsConnector.addInterest(i.userId,i.productCode,i.notificationType).pipe(_(o=>[new ha({userId:i.userId,productCode:i.productCode,notificationType:i.notificationType}),new Gp(o)]),M(o=>D(new Wp(te(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(dZ))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),bZ=(()=>{class e{constructor(t,n){this.actions$=t,this.siteConnector=n,this.logger=y(W),this.loadRegions$=B(()=>this.actions$.pipe(j(Cw),S(i=>i.payload),_(i=>this.siteConnector.getRegions(i).pipe(S(o=>new Xp({entities:o,country:i})),M(o=>D(new Qp(te(o,this.logger)))))))),this.resetRegions$=B(()=>this.actions$.pipe(j(Ou,Dw),S(()=>new Jr(Au))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(va))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),TZ=(()=>{class e{constructor(t,n,i,o){this.actions$=t,this.userAddressConnector=n,this.userAddressService=i,this.messageService=o,this.logger=y(W),this.loadUserAddresses$=B(()=>this.actions$.pipe(j(ww),S(s=>s.payload),_(s=>this.userAddressConnector.getAll(s).pipe(S(a=>new ng(a)),M(a=>D(new tg(te(a,this.logger)))))))),this.addUserAddress$=B(()=>this.actions$.pipe(j(Mm),S(s=>s.payload),$(s=>this.userAddressConnector.add(s.userId,s.address).pipe(S(a=>new og(a)),M(a=>D(new ig(te(a,this.logger)))))))),this.updateUserAddress$=B(()=>this.actions$.pipe(j(Nm),S(s=>s.payload),$(s=>this.userAddressConnector.update(s.userId,s.addressId,s.address).pipe(S(()=>new ag(s)),M(a=>(this.showGlobalMessage("addressForm.invalidAddress",Re.MSG_TYPE_ERROR),D(new sg(te(a,this.logger))))))))),this.deleteUserAddress$=B(()=>this.actions$.pipe(j(Om),S(s=>s.payload),$(s=>this.userAddressConnector.delete(s.userId,s.addressId).pipe(S(a=>new lg(a)),M(a=>D(new ug(te(a,this.logger)))))))),this.showGlobalMessageOnAddSuccess$=B(()=>this.actions$.pipe(j(Rw),F(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressAddSuccess")})),{dispatch:!1}),this.showGlobalMessageOnUpdateSuccess$=B(()=>this.actions$.pipe(j(Aw),S(s=>s.payload),F(s=>{this.loadAddresses(),(Object.keys(s?.address).length!==1||!s?.address?.defaultAddress)&&this.showGlobalMessage("addressForm.userAddressUpdateSuccess")})),{dispatch:!1}),this.showGlobalMessageOnDeleteSuccess$=B(()=>this.actions$.pipe(j(_w),F(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressDeleteSuccess")})),{dispatch:!1})}showGlobalMessage(t,n){this.messageService.add({key:t},n??Re.MSG_TYPE_CONFIRMATION)}loadAddresses(){this.userAddressService.loadAddresses()}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(QF),d(vZ),d(Uo))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),RZ=(()=>{class e{constructor(t,n){this.actions$=t,this.userConsentConnector=n,this.logger=y(W),this.resetConsents$=B(()=>this.actions$.pipe(j(ln),S(()=>new cu))),this.getConsents$=B(()=>this.actions$.pipe(j(Mw),S(i=>i.payload),Te(i=>this.userConsentConnector.loadConsents(i).pipe(S(o=>new pg(o)),M(o=>D(new hg(te(o,this.logger)))))))),this.giveConsent$=B(()=>this.actions$.pipe(j(Ow,dg),Te(i=>this.userConsentConnector.giveConsent(i.payload.userId,i.payload.consentTemplateId??"",i.payload.consentTemplateVersion??0).pipe(S(o=>new mg(o)),M(o=>{let s=[new gg(te(o,this.logger))];return i.type===dg&&o.status===409&&s.push(new ep(Re.MSG_TYPE_ERROR)),D(...s)}))))),this.withdrawConsent$=B(()=>this.actions$.pipe(j(Pw),S(i=>i.payload),Te(({userId:i,consentCode:o,consentId:s})=>this.userConsentConnector.withdrawConsent(i,o,s).pipe(S(()=>new Cg),M(a=>D(new Sg(te(a,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(cZ))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),AZ=(()=>{class e{constructor(t,n){this.actions$=t,this.userCostCenterConnector=n,this.logger=y(W),this.loadActiveCostCenters$=B(()=>this.actions$.pipe(j(Fw),S(i=>i.payload),_(i=>this.userCostCenterConnector.getActiveList(i).pipe(S(o=>new wg(o.values)),M(o=>D(new Dg(te(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(d(he),d(uZ))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),_Z=[EZ,CZ,bZ,TZ,DZ,yZ,RZ,SZ,IZ,wZ,AZ],HO={entities:{}};function MZ(e=HO,r){switch(r.type){case KD:{let n=r.payload.reduce((i,o)=>w(v({},i),{[o.isocode]:o}),v({},e.entities));return w(v({},e),{entities:n})}case Ou:return HO}return e}var NZ={coupons:[],sorts:[],pagination:{}};function OZ(e=NZ,r){switch(r.type){case QD:return r.payload;case JD:{let t=r.payload.coupon,n=new Array(e.coupons?.length??0);return e.coupons?.forEach((i,o)=>t&&i.couponId===t.couponId?n[o]=t:n[o]=i),w(v({},e),{coupons:n})}case tw:{let t=r.payload,n=new Array(e.coupons?.length??0);return e.coupons?.forEach((i,o)=>i.couponId===t?n[o]=w(v({},i),{notificationOn:!1}):n[o]=i),w(v({},e),{coupons:n})}}return e}var zO={entities:{}};function xZ(e=zO,r){switch(r.type){case ow:{let n=r.payload.reduce((i,o)=>w(v({},i),{[o.isocode??""]:o}),v({},e.entities));return w(v({},e),{entities:n})}case Ou:return zO}return e}var oI=[];function PZ(e=oI,r){switch(r.type){case aw:return oI;case cw:case lw:return r.payload?r.payload:oI}return e}var sI=[];function FZ(e=sI,r){switch(r.type){case hw:return r.payload?r.payload:sI;case fw:return sI}return e}var aI={results:[],pagination:{},sorts:[]};function LZ(e=aI,r){switch(r.type){case yw:return r.payload?r.payload:aI;case vw:return aI}return e}var GO={entities:[],country:null};function kZ(e=GO,r){switch(r.type){case Iw:{let t=r.payload.entities,n=r.payload.country;return t||n?w(v({},e),{entities:t,country:n}):GO}}return e}var cI=[];function UZ(e=cI,r){switch(r.type){case bw:return cI;case Tw:return r.payload?r.payload:cI}return e}var WO=[];function jZ(e=WO,r){switch(r.type){case Nw:{let t=r.payload;return t||WO}case xw:{let t=r.consentTemplate;return e.map(n=>n.id===t.id?t:n)}}return e}var uI=[];function $Z(e=uI,r){switch(r.type){case Lw:return uI;case kw:return r.payload?r.payload:uI}return e}function BZ(){return{addresses:nt(dn,UZ),billingCountries:MZ,consents:nt(Ru,jZ),payments:nt(Mr,FZ),countries:xZ,regions:nt(Au,kZ),customerCoupons:nt(_u,OZ),notificationPreferences:nt(Mu,PZ),productInterests:nt(Nu,LZ),costCenters:nt(_m,$Z)}}var JF=new C("UserReducers"),VZ={provide:JF,useFactory:BZ};function HZ(e){return function(r,t){return t.type===Rr&&(r=void 0),e(r,t)}}var zZ=[HZ],GZ=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[VZ],imports:[Pe,ii,Hn.forFeature(sP,JF,{metaReducers:zZ}),zn.forFeature(_Z),kC]})}}return e})(),Ipe=(()=>{class e{static forRoot(){return{ngModule:e}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=k({providers:[XF],imports:[GZ,mZ]})}}return e})();export{de as a,V as b,oe as c,me as d,Lt as e,av as f,ui as g,dk as h,ce as i,X7 as j,J7 as k,hn as l,ue as m,D as n,Rt as o,cr as p,S as q,Ae as r,$ as s,ir as t,or as u,je as v,Ko as w,Ta as x,Ra as y,nn as z,Sk as A,pn as B,uv as C,R as D,lv as E,di as F,ji as G,Zo as H,M as I,Te as J,nk as K,$i as L,q as M,ul as N,sr as O,rk as P,gn as Q,ok as R,Dk as S,wk as T,On as U,kt as V,lr as W,fv as X,Ma as Y,Bi as Z,ki as _,Qe as $,iv as aa,Sl as ba,ar as ca,_ as da,Vi as ea,ak as fa,F as ga,bk as ha,Xe as ia,P as ja,tE as ka,JT as la,g as ma,k as na,C as oa,d as pa,y as qa,oE as ra,mr as sa,yn as ta,vi as ua,aae as va,cae as wa,ke as xa,Dd as ya,ve as za,gT as Aa,Mt as Ba,_t as Ca,fe as Da,eA as Ea,yr as Fa,RE as Ga,tt as Ha,Sn as Ia,uae as Ja,lae as Ka,i1 as La,o1 as Ma,dae as Na,fae as Oa,hae as Pa,Fn as Qa,T$ as Ra,XA as Sa,Fd as Ta,mi as Ua,ws as Va,Y as Wa,qt as Xa,u_ as Ya,U as Za,Et as _a,rn as $a,DB as ab,NB as bb,bs as cb,Nt as db,rS as eb,cc as fb,Br as gb,iS as hb,XB as ib,JB as jb,eV as kb,Dae as lb,wae as mb,bae as nb,Tae as ob,Rae as pb,Aae as qb,_ae as rb,A_ as sb,__ as tb,aS as ub,M_ as vb,N_ as wb,gV as xb,Mae as yb,vV as zb,cS as Ab,Nae as Bb,Oae as Cb,xae as Db,RV as Eb,x_ as Fb,P_ as Gb,Pae as Hb,F_ as Ib,L_ as Jb,Fae as Kb,Lae as Lb,_V as Mb,k_ as Nb,MV as Ob,NV as Pb,kae as Qb,OV as Rb,Uae as Sb,jae as Tb,$ae as Ub,Bae as Vb,Vae as Wb,Hae as Xb,zae as Yb,Gae as Zb,Wae as _b,qae as $b,Yae as ac,Kae as bc,Zae as cc,Qae as dc,Xae as ec,le as fc,qr as gc,lc as hc,rH as ic,Ts as jc,Hd as kc,ye as lc,kn as mc,Cn as nc,ct as oc,yc as pc,$n as qc,fH as rc,_H as sc,D0 as tc,xH as uc,PH as vc,b0 as wc,FH as xc,DS as yc,LH as zc,kH as Ac,UH as Bc,BH as Cc,VH as Dc,zH as Ec,WH as Fc,bS as Gc,KH as Hc,Pe as Ic,Bn as Jc,lo as Kc,_0 as Lc,p2 as Mc,v2 as Nc,ae as Oc,pf as Pc,Oe as Qc,fo as Rc,Ei as Sc,ut as Tc,we as Uc,Zt as Vc,U2 as Wc,j2 as Xc,$2 as Yc,BS as Zc,tM as _c,V2 as $c,G2 as ad,VS as bd,Si as cd,Ps as dd,Dn as ed,Os as fd,ie as gd,A as hd,T as id,wn as jd,Hn as kd,Ple as ld,Fle as md,B as nd,he as od,j as pd,zn as qd,Ye as rd,Jt as sd,Ve as td,Xt as ud,Bs as vd,qn as wd,RC as xd,Eo as yd,Ce as zd,eh as Ad,O8 as Bd,kC as Cd,hh as Dd,Th as Ed,ft as Fd,ht as Gd,pu as Hd,ga as Id,SO as Jd,An as Kd,No as Ld,ge as Md,FW as Nd,LW as Od,aa as Pd,ru as Qd,kW as Rd,UW as Sd,jW as Td,Jfe as Ud,ta as Vd,na as Wd,h3 as Xd,ehe as Yd,the as Zd,Xn as _d,g3 as $d,tu as ae,ri as be,Ar as ce,Sm as de,Jn as ee,Tx as fe,yu as ge,W as he,_x as ie,Dm as je,Eu as ke,Mx as le,Mi as me,xD as ne,un as oe,ca as pe,ei as qe,Oo as re,xo as se,ti as te,Ox as ue,rhe as ve,Fo as we,L3 as xe,er as ye,Iu as ze,xI as Ae,ohe as Be,she as Ce,iu as De,LI as Ee,kI as Fe,Fe as Ge,ia as He,_r as Ie,zD as Je,wo as Ke,Hx as Le,Ai as Me,ni as Ne,ko as Oe,ahe as Pe,Xh as Qe,zx as Re,Du as Se,He as Te,Ke as Ue,ou as Ve,J3 as We,eq as Xe,che as Ye,uhe as Ze,lhe as _e,dhe as $e,fhe as af,hhe as bf,phe as cf,ghe as df,mhe as ef,vhe as ff,yhe as gf,Ehe as hf,She as if,Che as jf,Ihe as kf,Dhe as lf,whe as mf,wu as nf,bhe as of,The as pf,TO as qf,te as rf,bu as sf,ii as tf,aq as uf,Tn as vf,NO as wf,vq as xf,Xx as yf,Re as zf,Uo as Af,Iq as Bf,Ahe as Cf,Mq as Df,_he as Ef,iP as Ff,se as Gf,Mhe as Hf,Nhe as If,Uq as Jf,jw as Kf,oi as Lf,Ohe as Mf,xhe as Nf,Phe as Of,QP as Pf,Xq as Qf,Jq as Rf,Lhe as Sf,_o as Tf,iF as Uf,khe as Vf,S4 as Wf,pa as Xf,Uhe as Yf,Pg as Zf,Ni as _f,xu as $f,lF as ag,tI as bg,Y4 as cg,jhe as dg,k6 as eg,FO as fg,LO as gg,Vg as hg,zw as ig,C5 as jg,Whe as kg,km as lg,cn as mg,Tr as ng,Um as og,rY as pg,Xw as qg,qhe as rg,Yhe as sg,Khe as tg,dY as ug,Zhe as vg,Qhe as wg,Xhe as xg,Or as yg,dt as zg,Jhe as Ag,O9 as Bg,epe as Cg,tpe as Dg,F9 as Eg,eb as Fg,aK as Gg,npe as Hg,rpe as Ig,cK as Jg,uK as Kg,ipe as Lg,ope as Mg,lK as Ng,spe as Og,fK as Pg,tb as Qg,ape as Rg,ju as Sg,upe as Tg,lpe as Ug,dpe as Vg,fpe as Wg,eZ as Xg,hpe as Yg,ppe as Zg,gpe as _g,Mo as $g,hZ as ah,pZ as bh,mpe as ch,vpe as dh,ype as eh,vZ as fh,Epe as gh,Spe as hh,Cpe as ih,VO as jh,Ipe as kh};
