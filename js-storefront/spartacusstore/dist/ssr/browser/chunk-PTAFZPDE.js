import{a as ce,b as Wt,c as tt,d as it,e as Oo,g as At,h as ve}from"./chunk-P7GZWRDY.js";import{A as wo}from"./chunk-FHULHBP4.js";import{e as Eo}from"./chunk-WPN2OLOU.js";import"./chunk-KKL3JXKW.js";import"./chunk-3OH6C4VK.js";import{a as Kn,b as Qt}from"./chunk-VVCV3FQN.js";import"./chunk-MTN5X6Q6.js";import{C as So,H as Ht,X as qn}from"./chunk-EU5ZHKTW.js";import{$ as vo,B as ue,Ba as Ln,C as le,Da as Ci,Ea as yi,G as Je,Ga as yo,I as et,J as we,K as _e,L as vi,M as gt,N as wt,P as ft,Qa as kn,Ra as xi,Sa as $n,T as _o,Ta as jn,Ua as xo,Va as bo,X as pe,Y as hi,Yb as Io,Z as xe,Zb as To,_ as be,a as qt,b as Kt,d as Be,ea as Ot,j as Te,n as Mn,o as Le,t as Pn,ta as ho,u as Vn,ua as Co,v as Gn,y as Un,za as Bn}from"./chunk-H2QHHFZD.js";import{$ as kr,$b as d,Ab as V,Ac as Zr,Ad as ro,Af as Rn,B as hn,Bb as u,Bc as On,Ca as Bt,Cc as J,Cd as lt,Cg as Nn,D as Y,Dg as ee,Eb as w,Eg as Q,Fb as Tn,Gd as Ke,Ge as co,Hb as at,I as Ae,Ib as ct,Ic as L,Ja as qr,Jb as st,K as ci,Kb as oe,Kd as Z,La as si,Lb as y,Lf as pt,M as E,Mb as ne,Mf as fi,N as Cn,Na as bn,Nb as S,O as Me,Ob as Sn,Oc as An,Oe as di,P as Ur,Pa as a,Pf as lo,Q as Tt,Qf as jt,R as Br,Rc as Jr,Rf as mi,Sb as Ye,Tb as Fe,Te as gi,Ub as G,Uc as eo,Ud as q,Uf as po,V as Lr,Vb as Ue,Ve as Fn,Wa as h,Wb as St,Xa as Kr,Xf as _i,Xg as He,Ya as k,Za as B,Zb as Hr,_a as ui,_b as En,_d as oo,_f as go,a as Ve,aa as $r,ab as ye,ac as f,bb as _,bc as $,ce as ao,d as Ut,da as R,e as oi,ec as de,ee as Et,fc as ze,fg as fo,ga as he,gc as Qr,gd as ut,hb as M,hd as Ie,he as $e,i as vn,ib as s,id as Xe,jb as li,jd as to,kb as ae,kd as io,ma as ie,me as Ze,n as Se,na as U,nc as Wr,nd as fe,ng as Ee,oa as Ge,oc as kt,od as pi,pa as P,pc as Yr,pd as me,q as O,qa as z,qc as $t,qd as no,r as Gr,rf as De,rg as mo,s as ke,sb as l,sg as dt,tb as p,tc as wn,tf as so,ua as yn,ub as T,uc as Pe,va as F,vb as x,wa as D,wb as b,wc as Ce,wf as uo,xa as xn,xb as Lt,xc as W,yb as H,yc as zr,z as ai,za as jr,zb as In,zc as Xr,zf as Dn}from"./chunk-PRP3ZKGZ.js";import{a as A,b as N}from"./chunk-25N2FLV6.js";function Ta(i,o){if(i&1){let e=H();x(0),l(1,"div",4)(2,"div",5)(3,"div",6)(4,"label"),y(5),d(6,"cxTranslate"),p(),T(7,"cx-item-counter",7),p(),l(8,"button",8),d(9,"cxTranslate"),d(10,"cxTranslate"),d(11,"cxTranslate"),V("click",function(){F(e);let n=u(2).ngIf,r=u();return D(r.onAddToCart(n.configuration,n.routerData))}),T(12,"cx-icon",9),p()()(),b()}if(i&2){let e=u(2).ngIf,t=u();a(5),ne(f(6,5,"configurator.addToCart.quantity")),a(2),s("control",t.quantityControl),a(),w("title",f(9,7,t.getButtonResourceKey(e.routerData,e.configuration))),M("aria-label",f(10,9,t.getButtonResourceKey(e.routerData,e.configuration))+" "+$(11,11,"configurator.a11y.addToCartPrices",t.extractConfigPrices(e.configuration))),a(4),s("type",t.iconType.CART_PLUS)}}function Sa(i,o){if(i&1){let e=H();x(0),l(1,"button",10),d(2,"async"),d(3,"cxTranslate"),d(4,"cxTranslate"),V("click",function(){F(e);let n=u(2).ngIf,r=u();return D(r.onAddToCart(n.configuration,n.routerData))}),y(5),d(6,"async"),d(7,"cxTranslate"),p(),b()}if(i&2){let e=u(2).ngIf,t=u();a(),M("aria-label",f(3,4,t.getButtonResourceKey(e.routerData,e.configuration,f(2,2,t.isQuoteCartActive())))+" "+$(4,6,"configurator.a11y.addToCartPrices",t.extractConfigPrices(e.configuration))),a(4),S(" ",f(7,11,t.getButtonResourceKey(e.routerData,e.configuration,f(6,9,t.isQuoteCartActive())))," ")}}function Ea(i,o){if(i&1&&(x(0),l(1,"div",3),_(2,Ta,13,14,"ng-container",1)(3,Sa,8,13,"ng-container",1),p(),b()),i&2){let e=u().ngIf,t=u();a(2),s("ngIf",!t.isCartEntry(e.routerData)),a(),s("ngIf",t.isCartEntry(e.routerData))}}function wa(i,o){if(i&1){let e=H();l(0,"div",11)(1,"button",12),V("click",function(){F(e);let n=u(2);return D(n.leaveConfigurationOverview())}),y(2),d(3,"cxTranslate"),p()()}i&2&&(a(2),S(" ",f(3,1,"configurator.addToCart.buttonClose")," "))}function Oa(i,o){if(i&1&&(x(0),_(1,Ea,4,2,"ng-container",2)(2,wa,4,3,"ng-template",null,0,de),b()),i&2){let e=o.ngIf,t=oe(3);a(),s("ngIf",!e.routerData.displayOnly)("ngIfElse",t)}}function Aa(i,o){i&1&&(x(0),y(1),d(2,"cxTranslate"),b()),i&2&&(a(),S(" ",f(2,1,"configurator.attribute.defaultRequiredMessage")," "))}function Fa(i,o){i&1&&(x(0),y(1),d(2,"cxTranslate"),b()),i&2&&(a(),S(" ",f(2,1,"configurator.attribute.singleSelectRequiredMessage")," "))}function Da(i,o){if(i&1&&(l(0,"div",1),d(1,"cxTranslate"),d(2,"cxTranslate"),T(3,"cx-icon",2),_(4,Aa,3,3,"ng-container",3)(5,Fa,3,3,"ng-container",3),p()),i&2){let e=u();w("id",e.createAttributeUiKey("attribute-msg",e.attribute.name)),M("aria-label",e.isUserInput(e.attribute)?f(1,5,"configurator.attribute.defaultRequiredMessage"):f(2,7,"configurator.attribute.singleSelectRequiredMessage")),a(3),s("type",e.iconType.ERROR),a(),s("ngIf",e.isUserInput(e.attribute)),a(),s("ngIf",e.isDropDown(e.attribute))}}function Ra(i,o){i&1&&(x(0),y(1),d(2,"cxTranslate"),b()),i&2&&(a(),S("\xA0... ",f(2,1,"configurator.button.less"),""))}function Na(i,o){i&1&&(y(0),d(1,"cxTranslate")),i&2&&S(" \xA0... ",f(1,1,"configurator.button.more"),"")}function Ma(i,o){if(i&1){let e=H();l(0,"button",4),V("click",function(){F(e);let n=u(2);return D(n.toggleShowMore())}),_(1,Ra,3,3,"ng-container",5)(2,Na,2,3,"ng-template",null,0,de),p()}if(i&2){let e=oe(3),t=u(2);w("tabindex",t.tabIndex),a(),s("ngIf",t.showHiddenText)("ngIfElse",e)}}function Pa(i,o){if(i&1&&(x(0),T(1,"span",2),_(2,Ma,4,3,"button",3),b()),i&2){let e=u();a(),s("innerHTML",e.textToShow,qr),a(),s("ngIf",e.showMore)}}var Qe=i=>({attribute:i}),Uo=i=>({param:i});function Va(i,o){if(i&1&&(l(0,"div",8),T(1,"cx-icon",9),y(2),d(3,"cxTranslate"),p()),i&2){let e=u();a(),s("type",e.iconTypes.WARNING),a(),S(" ",f(3,2,"configurator.attribute.notVisibleAttributeMsg"),`
`)}}function Ga(i,o){if(i&1&&(x(0),l(1,"label",10),d(2,"async"),d(3,"cxTranslate"),d(4,"cxTranslate"),l(5,"span"),y(6),p()(),b()),i&2){let e=u();a(),ae("cx-required-error",f(2,8,e.showRequiredMessageForDomainAttribute$)),w("id",e.createAttributeUiKey("label",e.attribute.name)),M("aria-label",e.attribute.required?$(4,13,"configurator.a11y.requiredAttribute",G(18,Uo,e.attribute.label)):$(3,10,"configurator.a11y.attribute",G(16,Qe,e.attribute.label))),a(4),ae("cx-required-icon",e.attribute.required),M("aria-describedby",e.createAttributeUiKey("label",e.attribute.name)),a(),ne(e.getLabel(e.expMode,e.attribute.label,e.attribute.name))}}function Ua(i,o){if(i&1&&T(0,"cx-configurator-show-options",13),i&2){let e=u(2);s("attributeComponentContext",e.attributeComponentContext)}}function Ba(i,o){if(i&1&&(x(0),l(1,"div",11)(2,"label",10),d(3,"async"),d(4,"cxTranslate"),d(5,"cxTranslate"),l(6,"span"),y(7),p()(),_(8,Ua,1,1,"cx-configurator-show-options",12),p(),b()),i&2){let e=u();a(2),ae("cx-required-error",f(3,9,e.showRequiredMessageForDomainAttribute$)),w("id",e.createAttributeUiKey("label",e.attribute.name)),M("aria-label",e.attribute.required?$(5,14,"configurator.a11y.requiredAttribute",G(19,Uo,e.attribute.label)):$(4,11,"configurator.a11y.attribute",G(17,Qe,e.attribute.label))),a(4),ae("cx-required-icon",e.attribute.required),M("aria-describedby",e.createAttributeUiKey("label",e.attribute.name)),a(),ne(e.getLabel(e.expMode,e.attribute.label,e.attribute.name)),a(),s("ngIf",e.attribute.domainOnDemand)}}function La(i,o){if(i&1&&T(0,"cx-configurator-show-more",14),i&2){let e=u();s("text",e.attribute.description)("textSize",e.getAttributeDescriptionLength())("productName",e.getLabel(e.expMode,e.attribute.label,e.attribute.name))("tabIndex",0)}}function ka(i,o){if(i&1&&T(0,"cx-icon",9),i&2){let e=u(2);s("type",e.iconTypes.WARNING)}}function $a(i,o){if(i&1){let e=H();x(0),l(1,"a",18),d(2,"cxTranslate"),V("click",function(){F(e);let n=u(3);return D(n.navigateToGroup())})("keydown.enter",function(){F(e);let n=u(3);return D(n.navigateToGroup())}),y(3),d(4,"cxTranslate"),p(),b()}if(i&2){let e=u(3);a(),M("aria-label",$(2,2,"configurator.a11y.navigateToConflict",G(7,Qe,e.attribute.label))),a(2),S(" ",f(4,5,e.getConflictMessageKey())," ")}}function ja(i,o){if(i&1&&(x(0),_(1,$a,5,9,"ng-container",17),b()),i&2){let e=u(2),t=oe(11);a(),s("ngIf",e.isNavigationToConflictEnabled())("ngIfElse",t)}}function qa(i,o){if(i&1&&(l(0,"div",15),d(1,"cxTranslate"),_(2,ka,1,1,"cx-icon",16)(3,ja,2,2,"ng-container",17),p()),i&2){let e=u(),t=oe(9);w("id",e.createAttributeUiKey("attribute-msg",e.attribute.name)),M("aria-live",e.isConflictResolutionActive()?"assertive":"off")("aria-atomic",!!e.isConflictResolutionActive())("role",e.isConflictResolutionActive()?"alert":null)("aria-label",e.isConflictResolutionActive()?f(1,8,"configurator.a11y.conflictDetected"):""),a(2),s("ngIf",e.isAttributeGroup()),a(),s("ngIf",e.isAttributeGroup())("ngIfElse",t)}}function Ka(i,o){if(i&1&&(l(0,"div",19),d(1,"cxTranslate"),T(2,"cx-icon",20),y(3),d(4,"cxTranslate"),p()),i&2){let e=u();w("id",e.createAttributeUiKey("attribute-msg",e.attribute.name)),M("aria-label",f(1,4,e.getRequiredMessageKey())),a(2),s("type",e.iconTypes.ERROR),a(),S(" ",f(4,6,e.getRequiredMessageKey()),`
`)}}function Ha(i,o){if(i&1&&T(0,"img",21),i&2){let e=u();w("src",e.image==null?null:e.image.url,si),w("alt",e.image==null?null:e.image.altText),w("title",e.image==null?null:e.image.altText)}}function Qa(i,o){if(i&1){let e=H();l(0,"a",18),V("click",function(){F(e);let n=u(2);return D(n.navigateToGroup())})("keydown.enter",function(){F(e);let n=u(2);return D(n.navigateToGroup())}),y(1),d(2,"cxTranslate"),p()}if(i&2){let e=u(2);a(),S(" ",f(2,1,e.getConflictMessageKey())," ")}}function Wa(i,o){if(i&1&&_(0,Qa,3,3,"a",22),i&2){let e=u();s("ngIf",e.isNavigationToGroupEnabled)}}function Ya(i,o){if(i&1&&(l(0,"div",23),y(1),d(2,"cxTranslate"),p()),i&2){let e=u();a(),S(" ",f(2,1,e.getConflictMessageKey())," ")}}function za(i,o){if(i&1&&(x(0),l(1,"div",1),d(2,"cxTranslate"),y(3),p(),b()),i&2){let e=u(2);a(),s("ngClass",e.styleClass),M("aria-label",f(2,3,"configurator.a11y.valueSurcharge")),a(2),S(" ",e.price," ")}}function Xa(i,o){if(i&1&&(x(0),l(1,"div",2),d(2,"cxTranslate"),y(3),d(4,"cxNumeric"),p(),l(5,"div",3),y(6),p(),b()),i&2){let e=u(2);a(),M("aria-label",f(2,3,"configurator.a11y.valueSurcharge")),a(2),S(" ",e.quantityWithPrice(f(4,5,e.formula==null?null:e.formula.quantity))," "),a(3),ne(e.priceTotal)}}function Za(i,o){if(i&1&&(x(0),_(1,za,4,5,"ng-container",0)(2,Xa,7,7,"ng-container",0),b()),i&2){let e=u();a(),s("ngIf",e.displayPriceOnly()),a(),s("ngIf",e.displayQuantityAndPrice())}}var Ja=i=>({"cx-product-card-selected":i});function ec(i,o){if(i&1&&(l(0,"div",13),y(1),d(2,"cxTranslate"),p()),i&2){let e=u().ngIf;a(),Sn(" ",f(2,2,"configurator.attribute.id"),": ",e.code," ")}}function tc(i,o){if(i&1&&T(0,"cx-configurator-show-more",14),i&2){let e=u().ngIf;s("text",e.description)("textSize",45)("productName",e.code)("tabIndex",0)}}function ic(i,o){if(i&1){let e=H();l(0,"cx-configurator-attribute-quantity",23),V("changeQuantity",function(n){F(e);let r=u(3);return D(r.onChangeQuantity(n))}),p()}if(i&2){let e=u(3);s("quantityOptions",e.extractQuantityParameters())}}function nc(i,o){if(i&1){let e=H();l(0,"button",27),V("click",function(){F(e);let n=u(5);return D(n.onHandleDeselect())}),y(1),d(2,"cxTranslate"),p()}if(i&2){let e=u(4).ngIf,t=u();s("cxFocus",t.focusConfig),M("aria-label",t.getAriaLabelMultiSelected(e))("aria-describedby",t.createAttributeUiKey("label",t.productCardOptions.attributeName)),a(),S(" ",f(2,4,"configurator.button.remove")," ")}}function rc(i,o){if(i&1){let e=H();l(0,"button",28),d(1,"async"),V("click",function(){F(e);let n=u(5);return D(n.onHandleSelect())}),y(2),d(3,"cxTranslate"),p()}if(i&2){let e=u(4).ngIf,t=u();s("disabled",t.productCardOptions.disableAllButtons||f(1,5,t.loading$))("cxFocus",t.focusConfig),M("aria-label",t.getAriaLabelMultiUnselected(e))("aria-describedby",t.createAttributeUiKey("label",t.productCardOptions.attributeName)),a(2),S(" ",f(3,7,"configurator.button.add")," ")}}function oc(i,o){if(i&1&&(x(0),_(1,nc,3,6,"button",26)(2,rc,4,9,"ng-template",null,1,de),b()),i&2){let e=oe(3),t=u(4);a(),s("ngIf",t.productCardOptions==null||t.productCardOptions.productBoundValue==null?null:t.productCardOptions.productBoundValue.selected)("ngIfElse",e)}}function ac(i,o){if(i&1){let e=H();l(0,"button",28),d(1,"async"),V("click",function(){F(e);let n=u(5);return D(n.onHandleSelect())}),y(2),d(3,"cxTranslate"),p()}if(i&2){let e=u(4).ngIf,t=u();s("disabled",t.productCardOptions.disableAllButtons||f(1,5,t.loading$))("cxFocus",t.focusConfig),M("aria-label",t.getAriaLabelSingleUnselected(e))("aria-describedby",t.createAttributeUiKey("label",t.productCardOptions.attributeName)),a(2),S(" ",f(3,7,"configurator.button.select")," ")}}function cc(i,o){if(i&1){let e=H();l(0,"button",32),d(1,"async"),V("click",function(){F(e);let n=u(7);return D(n.onHandleDeselect())}),y(2),d(3,"cxTranslate"),p()}if(i&2){let e=u(6).ngIf,t=u();s("disabled",t.productCardOptions.hideRemoveButton||f(1,5,t.loading$))("cxFocus",t.focusConfig),M("aria-label",t.getAriaLabelSingleSelected(e))("aria-describedby",t.createAttributeUiKey("label",t.productCardOptions.attributeName)),a(2),S(" ",f(3,7,"configurator.button.deselect")," ")}}function sc(i,o){if(i&1&&(l(0,"span",33),y(1),p()),i&2){let e=u(6).ngIf,t=u();a(),S(" ",t.getAriaLabelSingleSelectedNoButton(e)," ")}}function uc(i,o){if(i&1&&(x(0),_(1,cc,4,9,"button",30)(2,sc,2,1,"span",31),b()),i&2){let e=u(6);a(),s("ngIf",!(e.productCardOptions!=null&&e.productCardOptions.hideRemoveButton)),a(),s("ngIf",e.productCardOptions==null?null:e.productCardOptions.hideRemoveButton)}}function lc(i,o){if(i&1&&_(0,uc,3,2,"ng-container",3),i&2){let e=u(5);s("ngIf",e.isValueCodeDefined(e.productCardOptions==null||e.productCardOptions.productBoundValue==null?null:e.productCardOptions.productBoundValue.valueCode))}}function pc(i,o){if(i&1&&_(0,ac,4,9,"button",29)(1,lc,1,1,"ng-template",null,2,de),i&2){let e=oe(2),t=u(4);s("ngIf",!(!(t.productCardOptions==null||t.productCardOptions.productBoundValue==null)&&t.productCardOptions.productBoundValue.selected))("ngIfElse",e)}}function dc(i,o){if(i&1&&(l(0,"div",24),_(1,oc,4,2,"ng-container",25)(2,pc,3,2,"ng-template",null,0,de),p()),i&2){let e=oe(3),t=u(3);a(),s("ngIf",t.productCardOptions==null?null:t.productCardOptions.multiSelect)("ngIfElse",e)}}function gc(i,o){if(i&1&&(l(0,"div",15)(1,"div",16)(2,"div",17),_(3,ic,1,1,"cx-configurator-attribute-quantity",18),p(),l(4,"div",19),T(5,"cx-configurator-price",20),p()(),l(6,"div",21),_(7,dc,4,2,"div",22),p()()),i&2){let e=u(2);a(3),s("ngIf",e.showQuantity),a(2),s("formula",e.extractPriceFormulaParameters()),a(2),s("ngIf",!(e.productCardOptions!=null&&e.productCardOptions.singleDropdown))}}function fc(i,o){if(i&1&&(x(0),l(1,"div",34),T(2,"cx-icon",35),y(3),d(4,"cxTranslate"),p(),b()),i&2){let e=u(2);a(),w("id",e.createAttributeUiKey("attribute-msg",e.productCardOptions.attributeName)),a(2),S(" ",f(4,2,"configurator.attribute.deselectionNotPossible")," ")}}function mc(i,o){if(i&1&&(x(0),l(1,"div",4),d(2,"cxTranslate"),l(3,"div",5)(4,"div",6),T(5,"cx-media",7),p(),l(6,"div",8)(7,"div",9)(8,"p"),y(9),p()(),_(10,ec,3,4,"div",10)(11,tc,1,4,"cx-configurator-show-more",11),p()(),_(12,gc,8,3,"div",12)(13,fc,5,4,"ng-container",3),p(),b()),i&2){let e=o.ngIf,t=u();a(),s("ngClass",G(11,Ja,t.isProductCardSelected())),M("aria-label",$(2,8,"configurator.a11y.itemOfAttribute",G(13,Qe,t.productCardOptions.attributeLabel))),a(4),s("container",e.images==null?null:e.images.PRIMARY),a(4),S(" ",e.name," "),a(),s("ngIf",e.code),a(),s("ngIf",e.description&&e.code),a(),s("ngIf",!t.productCardOptions.singleDropdown||t.hasPriceDisplay()),a(),s("ngIf",t.showDeselectionNotPossible)}}var je=i=>({key:i});function _c(i,o){if(i&1){let e=H();l(0,"div",5)(1,"cx-configurator-attribute-quantity",6),V("changeQuantity",function(n){F(e);let r=u(2);return D(r.onChangeQuantity(n))}),p(),T(2,"cx-configurator-price",7),p()}if(i&2){let e=u(2);a(),s("quantityOptions",e.extractQuantityParameters(e.attribute.quantity,!e.attribute.required)),a(),s("formula",e.extractPriceFormulaParameters())}}function vc(i,o){if(i&1&&T(0,"cx-configurator-show-more",15),i&2){let e=u().$implicit,t=u(2);s("text",e.description)("textSize",t.getValueDescriptionLength())("productName",t.getLabel(t.expMode,e.valueDisplay,e.valueCode))("tabIndex",0)}}function hc(i,o){if(i&1){let e=H();l(0,"cx-configurator-attribute-quantity",6),V("changeQuantity",function(n){F(e);let r=u(),c=r.$implicit,g=r.index,I=u(2);return D(I.onChangeValueQuantity(n,c.valueCode,g))}),p()}if(i&2){let e=u().$implicit,t=u(2);s("quantityOptions",t.extractQuantityParameters(e.quantity,t.allowZeroValueQuantity))}}function Cc(i,o){if(i&1){let e=H();x(0),l(1,"div",8)(2,"div",9)(3,"input",10),V("change",function(){let n=F(e).$implicit,r=u(2);return D(r.onSelect(n.valueCode))}),p(),l(4,"label",11),y(5),p(),_(6,vc,1,4,"cx-configurator-show-more",12),p(),l(7,"div",13),T(8,"cx-configurator-price",7),p()(),_(9,hc,1,1,"cx-configurator-attribute-quantity",14),b()}if(i&2){let e=o.$implicit,t=o.index,n=u().ngIf,r=u();a(3),w("id",r.createAttributeValueIdForConfigurator(r.attribute,e.valueCode)),w("name",r.createAttributeIdForConfigurator(r.attribute)),s("cxFocus",G(14,je,r.attribute.name+"-"+e.name))("value",e.valueCode)("formControl",r.attributeCheckBoxForms[t]),M("aria-label",r.getAriaLabelGeneric(r.attribute,r.enrichValueWithPrice(e,n)))("aria-describedby",r.createAttributeUiKey("label",r.attribute.name))("aria-live",r.isLastSelected(r.attribute.name,e.valueCode)?"polite":null),a(),w("id",r.createValueUiKey("label",r.attribute.name,e.valueCode)),w("for",r.createAttributeValueIdForConfigurator(r.attribute,e.valueCode)),a(),ne(r.getLabel(r.expMode,e.valueDisplay,e.valueCode)),a(),s("ngIf",e.description),a(2),s("formula",r.extractValuePriceFormulaParameters(r.enrichValueWithPrice(e,n))),a(),s("ngIf",e.selected&&r.withQuantity&&!r.withQuantityOnAttributeLevel)}}function yc(i,o){if(i&1&&(l(0,"div",2),_(1,_c,3,2,"div",3)(2,Cc,10,16,"ng-container",4),p()),i&2){let e=u();w("id",e.createAttributeIdForConfigurator(e.attribute)),a(),s("ngIf",e.withQuantityOnAttributeLevel),a(),s("ngForOf",e.attribute.values)}}function xc(i,o){if(i&1&&T(0,"cx-configurator-show-more",10),i&2){let e=u(2);s("text",e.attributeValue.description)("textSize",e.getValueDescriptionLength())("productName",e.getLabel(e.expMode,e.attributeValue.valueDisplay,e.attributeValue.valueCode))("tabIndex",0)}}function bc(i,o){if(i&1){let e=H();l(0,"div",3)(1,"div",4)(2,"input",5),V("change",function(){F(e);let n=u();return D(n.onSelect(n.attributeValue.valueCode))}),p(),l(3,"label",6),y(4),p(),_(5,xc,1,4,"cx-configurator-show-more",7),p(),l(6,"div",8),T(7,"cx-configurator-price",9),p()()}if(i&2){let e=o.ngIf,t=u();a(2),w("id",t.createAttributeValueIdForConfigurator(t.attribute,t.attributeValue.valueCode)),w("name",t.createAttributeIdForConfigurator(t.attribute)),s("value",t.attributeValue.valueCode)("cxFocus",G(13,je,t.attribute.name+"-"+t.attributeValue.name))("formControl",t.attributeCheckBoxForm),M("aria-label",t.getAriaLabelGeneric(t.attribute,t.enrichValueWithPrice(t.attributeValue,e)))("aria-live",t.isLastSelected(t.attribute.name,t.attributeValue.valueCode)?"polite":null)("aria-describedby",t.createAttributeUiKey("label",t.attribute.name)),a(),w("id",t.createValueUiKey("label",t.attribute.name,t.attributeValue.valueCode)),w("for",t.createAttributeValueIdForConfigurator(t.attribute,t.attributeValue.valueCode)),a(),ne(t.getLabel(t.expMode,t.attributeValue.valueDisplay,t.attributeValue.valueCode)),a(),s("ngIf",t.attributeValue.description),a(2),s("formula",t.extractValuePriceFormulaParameters(t.enrichValueWithPrice(t.attributeValue,e)))}}var sn=i=>({"cx-required-error-msg ":i}),Xt=(i,o)=>({value:i,attribute:o});function Ic(i,o){if(i&1&&(T(0,"label",3),d(1,"cxTranslate"),d(2,"cxTranslate")),i&2){let e=u();w("id",e.createAttributeUiKey("labelForDate",e.attribute.name)),M("aria-label",e.isUserInputEmpty?$(1,2,"configurator.a11y.valueOfDateAttributeBlank",G(8,Qe,e.attribute.label)):$(2,5,"configurator.a11y.valueOfDateAttributeFull",Ue(10,Xt,e.attribute.userInput,e.attribute.label)))}}var Tc=i=>({pattern:i});function Sc(i,o){if(i&1&&(l(0,"label",4),y(1),p()),i&2){let e=u();a(),ne(e.getHelpTextForInterval())}}function Ec(i,o){if(i&1&&(l(0,"div",5),T(1,"cx-icon",6),y(2),d(3,"cxTranslate"),p()),i&2){let e=u();w("id",e.createAttributeUiKey("attribute-msg",e.attribute.name)),a(),s("type",e.iconType.ERROR),a(),S(" ",$(3,3,"configurator.attribute.wrongNumericFormatMessage",G(6,Tc,e.numericFormatPattern)),`
`)}}function wc(i,o){if(i&1&&(l(0,"div",5),T(1,"cx-icon",6),y(2),d(3,"cxTranslate"),p()),i&2){let e=u();w("id",e.createAttributeUiKey("attribute-msg",e.attribute.name)),a(),s("type",e.iconType.ERROR),a(),S(" ",f(3,3,"configurator.attribute.wrongIntervalFormat"),`
`)}}var un=i=>({count:i});function Oc(i,o){if(i&1&&(l(0,"option",11),y(1),p()),i&2){let e=o.$implicit,t=u(2).ngIf,n=u();s("selected",e.selected)("label",n.getLabel(n.expMode,e.valueDisplay,e.valueCode,n.enrichValueWithPrice(e,t)))("value",e.valueCode),M("aria-label",n.getAriaLabel(e,n.attribute)),a(),S(" ",n.getLabel(n.expMode,e.valueDisplay,e.valueCode,n.enrichValueWithPrice(e,t))," ")}}function Ac(i,o){if(i&1&&T(0,"cx-configurator-show-more",12),i&2){let e,t=u(3);s("text",t.getSelectedValueDescription())("textSize",t.getValueDescriptionLength())("productName",t.getLabel(t.expMode,(e=t.getSelectedValue())==null?null:e.valueDisplay,(e=t.getSelectedValue())==null?null:e.valueCode,t.getSelectedValue()))("tabIndex",0)}}function Fc(i,o){if(i&1&&(l(0,"div",13),T(1,"cx-configurator-price",14),p()),i&2){let e=u(2).ngIf,t=u();a(),s("formula",t.extractValuePriceFormulaParameters(t.enrichValueWithPrice(t.getSelectedValue(),e)))}}function Dc(i,o){if(i&1){let e=H();l(0,"div",4)(1,"label",5),y(2),d(3,"cxTranslate"),p(),l(4,"div",6)(5,"select",7),d(6,"async"),V("change",function(){F(e);let n=u(2);return D(n.onSelect(n.attributeDropDownForm.value))}),_(7,Oc,2,5,"option",8),p(),_(8,Ac,1,4,"cx-configurator-show-more",9),p(),_(9,Fc,2,1,"div",10),p()}if(i&2){let e=u(2);a(),w("for",e.createAttributeIdForConfigurator(e.attribute)),a(),S(" ",$(3,10,"configurator.a11y.listbox",G(15,un,e.attribute.values.length))," "),a(3),w("id",e.createAttributeIdForConfigurator(e.attribute)),s("ngClass",G(17,sn,f(6,13,e.showRequiredErrorMessage$)))("formControl",e.attributeDropDownForm)("cxFocus",G(19,je,e.attribute.name)),M("aria-describedby",e.createAttributeUiKey("label",e.attribute.name)),a(2),s("ngForOf",e.attribute.values),a(),s("ngIf",e.getSelectedValueDescription()),a(),s("ngIf",!e.withQuantity&&e.getSelectedValue())}}function Rc(i,o){if(i&1&&T(0,"cx-configurator-price",14),i&2){let e=u(3);s("formula",e.extractPriceFormulaParameters())}}function Nc(i,o){if(i&1){let e=H();l(0,"div",15)(1,"cx-configurator-attribute-quantity",16),V("changeQuantity",function(n){F(e);let r=u(2);return D(r.onChangeQuantity(n,r.attributeDropDownForm))}),p(),_(2,Rc,1,1,"cx-configurator-price",17),p()}if(i&2){let e=u(2);a(),s("quantityOptions",e.extractQuantityParameters(e.attributeDropDownForm)),a(),s("ngIf",e.getSelectedValuePrice())}}function Mc(i,o){if(i&1&&(x(0),_(1,Dc,10,21,"div",2)(2,Nc,3,2,"div",3),b()),i&2){let e=u();a(),s("ngIf",e.attribute.values&&e.attribute.values.length!==0),a(),s("ngIf",e.withQuantity)}}function Pc(i,o){i&1&&(T(0,"cx-configurator-attribute-numeric-input-field",18),d(1,"cxTranslate")),i&2&&M("aria-label",f(1,1,"configurator.a11y.additionalValue"))}function Vc(i,o){i&1&&(T(0,"cx-configurator-attribute-input-field",18),d(1,"cxTranslate")),i&2&&M("aria-label",f(1,1,"configurator.a11y.additionalValue"))}function Gc(i,o){if(i&1){let e=H();l(0,"div",4)(1,"cx-configurator-attribute-quantity",5),V("changeQuantity",function(n){F(e);let r=u(2);return D(r.onChangeAttributeQuantity(n))}),p(),T(2,"cx-configurator-price",6),p()}if(i&2){let e=u(2);a(),s("quantityOptions",e.extractQuantityParameters(e.attribute.quantity)),a(),s("formula",e.extractPriceFormulaParameters())}}function Uc(i,o){if(i&1){let e=H();l(0,"cx-configurator-attribute-product-card",7),d(1,"async"),d(2,"async"),V("handleDeselect",function(n){F(e);let r=u(2);return D(r.onDeselect(n))})("handleQuantity",function(n){F(e);let r=u(2);return D(r.onChangeValueQuantity(n))})("handleSelect",function(n){F(e);let r=u(2);return D(r.onSelect(n))}),p()}if(i&2){let e=o.$implicit,t=o.index,n=u(2);w("id",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode)),s("productCardOptions",n.extractProductCardParameters(f(1,2,n.loading$),f(2,4,n.preventAction$),e,t))}}function Bc(i,o){if(i&1&&(l(0,"div",1),_(1,Gc,3,2,"div",2)(2,Uc,3,6,"cx-configurator-attribute-product-card",3),p()),i&2){let e=u();w("id",e.createAttributeIdForConfigurator(e.attribute)),a(),s("ngIf",e.withQuantityOnAttributeLevel),a(),s("ngForOf",e.attribute==null?null:e.attribute.values)}}var Ii=i=>({value:i}),Lc=()=>({placement:"auto",class:"cx-value-description",appendToBody:!0,displayCloseButton:!0});function kc(i,o){if(i&1&&T(0,"img",12),i&2){let e=o.ngIf,t=u(2).$implicit,n=u(2);w("src",e==null?null:e.url,si),w("alt",e==null?null:e.altText),w("title",e==null?null:e.altText),s("ngClass",n.getImgStyleClasses(n.attribute,t,"cx-img"))}}function $c(i,o){if(i&1&&T(0,"div",13),i&2){let e=u(2).$implicit,t=u(2);s("ngClass",t.getImgStyleClasses(t.attribute,e,"cx-img-dummy"))}}function jc(i,o){if(i&1&&(l(0,"button",14),d(1,"cxTranslate"),d(2,"cxTranslate"),T(3,"cx-icon",15),p()),i&2){let e=u(2).$implicit,t=u(2);w("title",$(1,5,"configurator.a11y.description",G(11,Ii,t.getImageLabel(t.expMode,e.valueDisplay,e.valueCode)))),s("cxPopover",e.description)("cxPopoverOptions",Fe(13,Lc)),M("aria-label",$(2,8,"configurator.a11y.description",G(14,Ii,t.getImageLabel(t.expMode,e.valueDisplay,e.valueCode)))),a(3),s("type",t.iconTypes.INFO)}}function qc(i,o){if(i&1){let e=H();l(0,"div",4)(1,"input",5),V("click",function(){F(e);let n=u().index,r=u(2);return D(!r.isReadOnly(r.attribute)&&r.onSelect(n))}),p(),l(2,"div",6)(3,"label",7),_(4,kc,1,4,"img",8)(5,$c,1,1,"div",9),y(6),_(7,jc,4,16,"button",10),T(8,"cx-configurator-price",11),p()()()}if(i&2){let e=u(),t=e.$implicit,n=e.index,r=u().ngIf,c=u();w("id",c.createAttributeValueIdForConfigurator(c.attribute,t.valueCode)),a(),w("id",c.createAttributeValueIdForConfigurator(c.attribute,t.valueCode)+"-input"),w("name",c.createAttributeIdForConfigurator(c.attribute)),s("value",t.valueCode)("formControl",c.attributeCheckBoxForms[n])("cxFocus",G(19,je,c.attribute.name+"-"+t.name)),M("aria-label",c.getAriaLabelGeneric(c.attribute,c.enrichValueWithPrice(t,r)))("aria-live",c.isLastSelected(c.attribute.name,t.valueCode)?"polite":null)("aria-describedby",c.createAttributeUiKey("label",c.attribute.name))("checked",c.attributeCheckBoxForms[n].value?"checked":null),a(2),li("cursor",c.isReadOnly(c.attribute)?"default":"pointer"),w("id",c.createValueUiKey("label",c.attribute.name,t.valueCode)),w("for",c.createAttributeValueIdForConfigurator(c.attribute,t.valueCode)+"-input"),a(),s("ngIf",c.getImage(t)),a(),s("ngIf",!c.getImage(t)),a(),S(" ",c.getImageLabel(c.expMode,t.valueDisplay,t.valueCode)," "),a(),s("ngIf",t.description),a(),s("formula",c.extractValuePriceFormulaParameters(c.enrichValueWithPrice(t,r)))}}function Kc(i,o){if(i&1&&(x(0),_(1,qc,9,21,"div",3),b()),i&2){let e=o.$implicit,t=u(2);a(),s("ngIf",t.isValueDisplayed(t.attribute,e))}}function Hc(i,o){if(i&1&&(x(0),_(1,Kc,2,1,"ng-container",2),b()),i&2){let e=u();a(),s("ngForOf",e.attribute.values)}}function Qc(i,o){if(i&1&&T(0,"cx-configurator-price",8),i&2){let e=u(2);s("formula",e.extractPriceFormulaParameters())}}function Wc(i,o){if(i&1){let e=H();l(0,"div",5)(1,"cx-configurator-attribute-quantity",6),V("changeQuantity",function(n){F(e);let r=u();return D(r.onChangeQuantity(n))}),p(),_(2,Qc,1,1,"cx-configurator-price",7),p()}if(i&2){let e=u();a(),s("quantityOptions",e.extractQuantityParameters()),a(),s("ngIf",e.getSelectedValuePrice())}}function Yc(i,o){if(i&1&&T(0,"cx-configurator-show-more",16),i&2){let e=u().$implicit,t=u(2);s("text",e.description)("textSize",t.getValueDescriptionLength())("productName",t.getLabel(t.expMode,e.valueDisplay,e.valueCode))("tabIndex",0)}}function zc(i,o){if(i&1){let e=H();l(0,"div",10)(1,"div",11)(2,"input",12),V("change",function(){let n=F(e).$implicit,r=u(2);return D(r.onSelect(n.valueCode))}),p(),l(3,"label",13),y(4),p(),_(5,Yc,1,4,"cx-configurator-show-more",14),p(),l(6,"div",15),T(7,"cx-configurator-price",8),p()()}if(i&2){let e=o.$implicit,t=u().ngIf,n=u();a(2),w("id",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode)),w("name",n.createAttributeIdForConfigurator(n.attribute)),s("formControl",n.attributeRadioButtonForm)("value",e.valueCode)("cxFocus",G(16,je,n.attribute.name+"-"+e.name)),M("required",n.attribute.required===!0?"required":null)("name",n.createAttributeIdForConfigurator(n.attribute))("aria-label",n.getAriaLabel(n.enrichValueWithPrice(e,t),n.attribute))("aria-live",n.listenForPriceChanges&&n.attributeRadioButtonForm.value===e.valueCode?"polite":null)("checked",n.attributeRadioButtonForm.value===e.valueCode?"checked":null)("aria-describedby",n.createAttributeUiKey("label",n.attribute.name)),a(),w("id",n.createValueUiKey("label",n.attribute.name,e.valueCode)),w("for",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode)),a(),ne(n.getLabel(n.expMode,e.valueDisplay,e.valueCode)),a(),s("ngIf",e.description),a(2),s("formula",n.extractValuePriceFormulaParameters(n.enrichValueWithPrice(e,t)))}}function Xc(i,o){if(i&1&&(x(0),_(1,zc,8,18,"div",9),b()),i&2){let e=u();a(),s("ngForOf",e.attribute.values)}}function Zc(i,o){i&1&&T(0,"cx-configurator-attribute-numeric-input-field",17)}function Jc(i,o){i&1&&T(0,"cx-configurator-attribute-input-field",17)}function es(i,o){if(i&1&&T(0,"cx-configurator-show-more",12),i&2){let e=u(2).$implicit,t=u(2);s("text",e.description)("textSize",t.getValueDescriptionLength())("productName",t.getLabel(t.expMode,e.valueDisplay,e.valueCode))("tabIndex",0)}}function ts(i,o){if(i&1&&(l(0,"div",5)(1,"span",6),y(2),p(),l(3,"div",7)(4,"label",8),y(5),p(),_(6,es,1,4,"cx-configurator-show-more",9),p(),l(7,"div",10),T(8,"cx-configurator-price",11),p()()),i&2){let e=o.ngIf,t=u().$implicit,n=u(2);a(),w("id",n.createValueUiKey("aria-label",n.attribute.name,t.valueCode)),a(),S(" ",n.getAriaLabel(n.attribute,n.enrichValueWithPrice(t,e))," "),a(2),w("id",n.createValueUiKey("label",n.attribute.name,t.valueCode)),a(),ne(n.getLabel(n.expMode,t.valueDisplay,t.valueCode)),a(),s("ngIf",t.description),a(2),s("formula",n.extractValuePriceFormulaParameters(n.enrichValueWithPrice(t,e)))}}function is(i,o){if(i&1&&(x(0),_(1,ts,9,6,"div",4),d(2,"async"),b()),i&2){let e=o.$implicit,t=u(2);a(),s("ngIf",e.selected&&f(2,1,t.changedPrices$))}}function ns(i,o){if(i&1&&(x(0),_(1,is,3,3,"ng-container",3),b()),i&2){let e=u();a(),s("ngForOf",e.attribute.values)}}function rs(i,o){if(i&1&&(x(0),l(1,"span",6),y(2),p(),l(3,"div",14)(4,"span",15),y(5),p()(),b()),i&2){let e=u(2);a(),w("id",e.createValueUiKey("aria-label",e.attribute.name,e.attribute.selectedSingleValue)),a(),S(" ",e.getAriaLabel(e.attribute)," "),a(3),ne(e.attribute.selectedSingleValue)}}function os(i,o){if(i&1&&(x(0),l(1,"span",6),y(2),p(),l(3,"div",14)(4,"span",15),y(5),p()(),b()),i&2){let e=u(2);a(),w("id",e.createValueUiKey("aria-label",e.attribute.name,e.attribute.userInput)),a(),S(" ",e.getAriaLabel(e.attribute)," "),a(3),ne(e.attribute.userInput)}}function as(i,o){if(i&1&&_(0,rs,6,3,"ng-container",13)(1,os,6,3,"ng-container",13),i&2){let e=u();s("ngIf",e.attribute.selectedSingleValue),a(),s("ngIf",e.attribute.userInput)}}var Hn=(i,o,e)=>({value:i,attribute:o,price:e});function cs(i,o){if(i&1&&(l(0,"option",7),d(1,"cxTranslate"),d(2,"cxTranslate"),d(3,"cxTranslate"),y(4),p()),i&2){let e,t=o.$implicit,n=u(2);s("label",n.getLabel(!1,t.valueDisplay,void 0,t))("selected",t.selected)("value",t.valueCode)("value",t.valueCode),M("aria-label",n.isRetractValue(t.valueCode)?$(1,6,"configurator.a11y.forAttribute",Ue(15,Xt,t.valueDisplay,n.attribute.label)):t.valuePrice&&(t.valuePrice==null?null:t.valuePrice.value)!==0?$(2,9,"configurator.a11y.selectedValueOfAttributeFullWithPrice",St(18,Hn,t.valueDisplay,n.attribute.label,(e=t.valuePriceTotal==null?null:t.valuePriceTotal.formattedValue)!==null&&e!==void 0?e:0)):$(3,12,"configurator.a11y.selectedValueOfAttributeFull",Ue(22,Xt,t.valueDisplay,n.attribute.label))),a(4),S(" ",n.getLabel(!1,t.valueDisplay,void 0,t)," ")}}function ss(i,o){if(i&1){let e=H();l(0,"div",3)(1,"label",4),y(2),d(3,"cxTranslate"),p(),l(4,"select",5),d(5,"async"),V("change",function(){F(e);let n=u();return D(n.onSelect(n.attributeDropDownForm.value))}),_(6,cs,5,25,"option",6),p()()}if(i&2){let e=u();a(),w("for",e.createAttributeIdForConfigurator(e.attribute)),a(),S(" ",$(3,8,"configurator.a11y.listbox",G(13,un,e.attribute.values==null?null:e.attribute.values.length))," "),a(2),w("id",e.createAttributeIdForConfigurator(e.attribute)),s("ngClass",G(15,sn,f(5,11,e.showRequiredErrorMessage$)))("formControl",e.attributeDropDownForm)("cxFocus",G(17,je,e.attribute.name)),M("aria-describedby",e.createAttributeUiKey("label",e.attribute.name)),a(2),s("ngForOf",e.attribute.values)}}function us(i,o){if(i&1){let e=H();l(0,"cx-configurator-attribute-product-card",8),V("handleDeselect",function(){F(e);let n=u();return D(n.onSelect(n.RETRACT_VALUE_CODE))}),p()}if(i&2){let e=u();w("id",e.createAttributeValueIdForConfigurator(e.attribute,e.selectedValue.valueCode)),s("productCardOptions",e.extractProductCardParameters())}}function ls(i,o){if(i&1){let e=H();l(0,"div",9)(1,"cx-configurator-attribute-quantity",10),V("changeQuantity",function(n){F(e);let r=u();return D(r.onChangeQuantity(n,r.attributeDropDownForm))}),p(),T(2,"cx-configurator-price",11),p()}if(i&2){let e=u();a(),s("quantityOptions",e.extractQuantityParameters(e.attributeDropDownForm)),a(),s("formula",e.extractPriceFormulaParameters())}}function ps(i,o){if(i&1){let e=H();l(0,"div",4)(1,"cx-configurator-attribute-quantity",5),V("changeQuantity",function(n){F(e);let r=u(2);return D(r.onChangeQuantity(n))}),p(),T(2,"cx-configurator-price",6),p()}if(i&2){let e=u(2);a(),s("quantityOptions",e.extractQuantityParameters()),a(),s("formula",e.extractPriceFormulaParameters())}}function ds(i,o){if(i&1){let e=H();l(0,"cx-configurator-attribute-product-card",7),V("handleDeselect",function(){F(e);let n=u(2);return D(n.onSelect(""))})("handleSelect",function(n){F(e);let r=u(2);return D(r.onSelect(n))}),p()}if(i&2){let e=o.$implicit,t=o.index,n=u(2);s("id",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode))("productCardOptions",n.extractProductCardParameters(e,t))}}function gs(i,o){if(i&1&&(l(0,"div",1),_(1,ps,3,2,"div",2)(2,ds,1,2,"cx-configurator-attribute-product-card",3),p()),i&2){let e=u();w("id",e.createAttributeIdForConfigurator(e.attribute)),a(),s("ngIf",e.withQuantity),a(),s("ngForOf",e.attribute==null?null:e.attribute.values)}}var fs=i=>({placement:"auto",class:i,appendToBody:!0,displayCloseButton:!0});function ms(i,o){if(i&1&&T(0,"img",12),i&2){let e,t,n,r=u(2).$implicit,c=u(2);w("src",(e=c.getImage(r))==null?null:e.url,si),w("alt",(t=c.getImage(r))==null?null:t.altText),w("title",(n=c.getImage(r))==null?null:n.altText),s("ngClass",c.getImgStyleClasses(c.attribute,r,"cx-img"))}}function _s(i,o){if(i&1&&T(0,"div",13),i&2){let e=u(2).$implicit,t=u(2);s("ngClass",t.getImgStyleClasses(t.attribute,e,"cx-img-dummy"))}}function vs(i,o){if(i&1&&(l(0,"button",14),d(1,"cxTranslate"),d(2,"cxTranslate"),T(3,"cx-icon",15),p()),i&2){let e=u(2).$implicit,t=u(2);w("title",$(1,5,"configurator.a11y.description",G(11,Ii,t.getImageLabel(t.expMode,e.valueDisplay,e.valueCode)))),s("cxPopover",e.description)("cxPopoverOptions",G(13,fs,t.getValueDescriptionStyleClasses())),M("aria-label",$(2,8,"configurator.a11y.description",G(15,Ii,t.getImageLabel(t.expMode,e.valueDisplay,e.valueCode)))),a(3),s("type",t.iconTypes.INFO)}}function hs(i,o){if(i&1){let e=H();l(0,"div",4)(1,"input",5),V("click",function(){F(e);let n=u().$implicit,r=u(2);return D(!r.isReadOnly(r.attribute)&&r.onClick(n.valueCode))}),p(),l(2,"div",6)(3,"label",7),_(4,ms,1,4,"img",8)(5,_s,1,1,"div",9),y(6),_(7,vs,4,17,"button",10),T(8,"cx-configurator-price",11),p()()()}if(i&2){let e=u().$implicit,t=u().ngIf,n=u();w("id",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode)),a(),w("id",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode)+"-input"),w("name",n.createAttributeIdForConfigurator(n.attribute)),s("value",e.valueCode)("formControl",n.attributeRadioButtonForm)("value",e.valueCode)("cxFocus",G(23,je,n.attribute.name+"-"+e.name)),M("name",n.createAttributeIdForConfigurator(n.attribute))("required",n.attribute.required===!0?"required":null)("checked",n.attributeRadioButtonForm.value===e.valueCode?"checked":null)("aria-checked",n.attributeRadioButtonForm.value===e.valueCode?"true":"false")("aria-label",n.getAriaLabelGeneric(n.attribute,n.enrichValueWithPrice(e,t)))("aria-live",n.listenForPriceChanges&&n.attributeRadioButtonForm.value===e.valueCode?"polite":null)("aria-describedby",n.createAttributeUiKey("label",n.attribute.name)),a(2),li("cursor",n.isReadOnly(n.attribute)?"default":"pointer"),w("id",n.createValueUiKey("label",n.attribute.name,e.valueCode)),w("for",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode)+"-input"),a(),s("ngIf",n.getImage(e)),a(),s("ngIf",!n.getImage(e)),a(),S(" ",n.getImageLabel(n.expMode,e.valueDisplay,e.valueCode)," "),a(),s("ngIf",e.description),a(),s("formula",n.extractValuePriceFormulaParameters(n.enrichValueWithPrice(e,t)))}}function Cs(i,o){if(i&1&&(x(0),_(1,hs,9,25,"div",3),b()),i&2){let e=o.$implicit,t=u(2);a(),s("ngIf",t.isValueDisplayed(t.attribute,e))}}function ys(i,o){if(i&1&&(x(0),_(1,Cs,2,1,"ng-container",2),b()),i&2){let e=u();a(),s("ngForOf",e.attribute.values)}}function xs(i,o){i&1&&(l(0,"span",8),y(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.header.multipleWarnings"),""))}function bs(i,o){i&1&&(x(0),T(1,"cx-icon",10),b())}function Is(i,o){i&1&&(x(0),T(1,"cx-icon",11),b())}function Ts(i,o){if(i&1){let e=H();l(0,"button",9),V("click",function(){F(e);let n=u(3);return D(n.toggleWarnings())}),y(1),d(2,"cxTranslate"),_(3,bs,2,0,"ng-container",0)(4,Is,2,0,"ng-container",0),p()}if(i&2){let e=u(3);M("aria-expanded",e.showWarnings),a(),S(" ",f(2,4,"configurator.header.reviewWarnings")," "),a(2),s("ngIf",!e.showWarnings),a(),s("ngIf",e.showWarnings)}}function Ss(i,o){if(i&1&&(l(0,"div",12),y(1),p()),i&2){let e=o.$implicit,t=u(2).ngIf,n=u();ae("open",n.showWarnings||(t==null||t.warningMessages==null?null:t.warningMessages.length)===1),a(),S(" ",e," ")}}function Es(i,o){if(i&1&&(x(0),l(1,"div",1)(2,"span",2),T(3,"cx-icon",3),p(),_(4,xs,3,3,"span",4)(5,Ts,5,6,"button",5),l(6,"div",6),_(7,Ss,2,3,"div",7),p()(),b()),i&2){let e,t,n=u().ngIf;a(4),s("ngIf",((e=n==null||n.warningMessages==null?null:n.warningMessages.length)!==null&&e!==void 0?e:0)>1),a(),s("ngIf",((t=n==null||n.warningMessages==null?null:n.warningMessages.length)!==null&&t!==void 0?t:0)>1),a(),ae("inline",(n==null||n.warningMessages==null?null:n.warningMessages.length)===1),a(),s("ngForOf",n.warningMessages)}}function ws(i,o){i&1&&(l(0,"span",19),y(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.header.multipleErrors"),""))}function Os(i,o){i&1&&(x(0),T(1,"cx-icon",10),b())}function As(i,o){i&1&&(x(0),T(1,"cx-icon",11),b())}function Fs(i,o){if(i&1){let e=H();l(0,"button",20),V("click",function(){F(e);let n=u(3);return D(n.toggleErrors())}),y(1),d(2,"cxTranslate"),_(3,Os,2,0,"ng-container",0)(4,As,2,0,"ng-container",0),p()}if(i&2){let e=u(3);M("aria-expanded",e.showErrors),a(),S(" ",f(2,4,"configurator.header.reviewErrors")," "),a(2),s("ngIf",!e.showErrors),a(),s("ngIf",e.showErrors)}}function Ds(i,o){if(i&1&&(l(0,"div",21),y(1),p()),i&2){let e=o.$implicit,t=u(2).ngIf,n=u();ae("open",n.showErrors||(t==null||t.errorMessages==null?null:t.errorMessages.length)===1),a(),S(" ",e," ")}}function Rs(i,o){if(i&1&&(x(0),l(1,"div",13)(2,"span",2),T(3,"cx-icon",14),p(),_(4,ws,3,3,"span",15)(5,Fs,5,6,"button",16),l(6,"div",17),_(7,Ds,2,3,"div",18),p()(),b()),i&2){let e,t,n=u().ngIf;a(4),s("ngIf",((e=n==null||n.errorMessages==null?null:n.errorMessages.length)!==null&&e!==void 0?e:0)>1),a(),s("ngIf",((t=n==null||n.errorMessages==null?null:n.errorMessages.length)!==null&&t!==void 0?t:0)>1),a(),ae("inline",(n==null||n.errorMessages==null?null:n.errorMessages.length)===1),a(),s("ngForOf",n.errorMessages)}}function Ns(i,o){if(i&1&&(x(0),_(1,Es,8,5,"ng-container",0)(2,Rs,8,5,"ng-container",0),b()),i&2){let e,t,n=o.ngIf;a(),s("ngIf",((e=n==null||n.warningMessages==null?null:n.warningMessages.length)!==null&&e!==void 0?e:0)>0),a(),s("ngIf",((t=n==null||n.errorMessages==null?null:n.errorMessages.length)!==null&&t!==void 0?t:0)>0)}}function Ms(i,o){if(i&1&&(x(0),T(1,"cx-icon",1),y(2),b()),i&2){let e=u();a(),s("type",e.iconTypes.WARNING),a(),S(" ",e.currentGroup.name,`
`)}}var Qn=i=>({number:i});function Ps(i,o){if(i&1&&(x(0),l(1,"div",1),d(2,"cxTranslate"),d(3,"cxTranslate"),l(4,"span",2),y(5),d(6,"cxTranslate"),p()(),l(7,"span",2),y(8),d(9,"cxTranslate"),p(),b()),i&2){let e=u();a(),M("aria-label",$(2,3,"configurator.conflict.suggestionTitle",G(15,Qn,e.suggestionNumber+1))+" "+$(3,6,"configurator.conflict.suggestionText",G(17,Qe,e.attribute.label))),a(4),ne($(6,9,"configurator.conflict.suggestionTitle",G(19,Qn,e.suggestionNumber+1))),a(3),ne($(9,12,"configurator.conflict.suggestionText",G(21,Qe,e.attribute.label)))}}function Vs(i,o){i&1&&(x(0),y(1),d(2,"cxTranslate"),b()),i&2&&(a(),S(" ",f(2,1,"configurator.button.exit")," "))}function Gs(i,o){i&1&&(x(0),y(1),d(2,"cxTranslate"),b()),i&2&&(a(),S(" ",f(2,1,"configurator.button.exitMobile")," "))}function Us(i,o){if(i&1&&(x(0),_(1,Vs,3,3,"ng-container",0),d(2,"async"),_(3,Gs,3,3,"ng-container",0),d(4,"async"),b()),i&2){let e=u(2);a(),s("ngIf",f(2,2,e.isDesktop())),a(2),s("ngIf",f(4,4,e.isMobile()))}}function Bs(i,o){i&1&&(x(0),y(1),d(2,"cxTranslate"),b()),i&2&&(a(),S(" ",f(2,1,"configurator.button.cancelConfigurationMobile")," "))}function Ls(i,o){i&1&&(x(0),y(1),d(2,"cxTranslate"),b()),i&2&&(a(),S(" ",f(2,1,"configurator.button.cancelConfiguration")," "))}function ks(i,o){if(i&1&&(x(0),_(1,Bs,3,3,"ng-container",0),d(2,"async"),_(3,Ls,3,3,"ng-container",0),d(4,"async"),b()),i&2){let e=u(2);a(),s("ngIf",f(2,2,e.isMobile())),a(2),s("ngIf",f(4,4,e.isDesktop()))}}function $s(i,o){if(i&1){let e=H();x(0),l(1,"button",1),d(2,"cxTranslate"),d(3,"cxTranslate"),V("click",function(){F(e);let n=u();return D(n.exitConfiguration())}),_(4,Us,5,6,"ng-container",0)(5,ks,5,6,"ng-container",0),p(),b()}if(i&2){let e=o.ngIf;a(),M("title",e.routerData.isOwnerCartEntry?f(2,3,"configurator.button.cancelConfiguration"):f(3,5,"configurator.button.exit")),a(3),s("ngIf",!e.routerData.isOwnerCartEntry),a(),s("ngIf",e.routerData.isOwnerCartEntry)}}var js=(i,o,e,t,n,r,c)=>({componentKey:"Header",attribute:i,owner:o,group:e,language:t,expMode:n,isNavigationToGroupEnabled:r,isPricingAsync:c}),qs=(i,o,e,t,n,r,c)=>({componentKey:i,attribute:o,owner:e,group:t,language:n,expMode:r,isPricingAsync:c}),Ks=(i,o,e,t,n,r)=>({componentKey:"Footer",attribute:i,owner:o,group:e,language:t,expMode:n,isPricingAsync:r});function Hs(i,o){if(i&1&&(x(0),T(1,"cx-configurator-conflict-description",3),b()),i&2){let e=u();a(),s("currentGroup",e.group)}}function Qs(i,o){if(i&1&&(x(0),T(1,"cx-configurator-conflict-suggestion",5),b()),i&2){let e=u(),t=e.$implicit,n=e.index,r=u();a(),s("currentGroup",r.group)("attribute",t)("suggestionNumber",n)}}function Ws(i,o){if(i&1&&(x(0),T(1,"div",6),d(2,"async"),T(3,"div",6),d(4,"async"),T(5,"div",6),d(6,"async"),b()),i&2){let e,t,n,r=o.ngIf,c=u().$implicit,g=u();a(),s("cxConfiguratorAttributeComponent",En(9,js,c,g.owner,g.group,r,(e=f(2,3,g.expMode))!==null&&e!==void 0?e:!1,g.isNavigationToGroupEnabled,g.isPricingAsync)),a(2),s("cxConfiguratorAttributeComponent",En(17,qs,g.getComponentKey(c),c,g.owner,g.group,r,(t=f(4,5,g.expMode))!==null&&t!==void 0?t:!1,g.isPricingAsync)),a(2),s("cxConfiguratorAttributeComponent",Hr(25,Ks,c,g.owner,g.group,r,(n=f(6,7,g.expMode))!==null&&n!==void 0?n:!1,g.isPricingAsync))}}function Ys(i,o){if(i&1&&(l(0,"div",4),_(1,Qs,2,3,"ng-container",1)(2,Ws,7,32,"ng-container",1),d(3,"async"),p()),i&2){let e=o.$implicit,t=u();ae("cx-hidden",!e.visible),w("id",t.createAttributeUiKey("group-attribute",e.name)),a(),s("ngIf",t.isConflictGroupType(t.group.groupType)),a(),s("ngIf",f(3,5,t.activeLanguage$))}}function zs(i,o){i&1&&(l(0,"h3",11),y(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.header.resolveIssue")," "))}function Xs(i,o){i&1&&(l(0,"div",11),y(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.header.resolveIssue")," "))}function Zs(i,o){if(i&1&&(x(0),T(1,"cx-configurator-group",12),b()),i&2){let e=o.ngIf,t=u().ngIf;a(),s("group",e)("owner",t.owner)("isNavigationToGroupEnabled",!1)}}function Js(i,o){if(i&1&&(x(0),_(1,Zs,2,3,"ng-container",10),d(2,"async"),b()),i&2){let e=u();a(),s("ngIf",f(2,1,e.conflictGroup$))}}var Rt=()=>[0,1,2];function eu(i,o){if(i&1&&(x(0),T(1,"cx-configurator-group",3),b()),i&2){let e=o.ngIf,t=u(2).ngIf,n=u();a(),s("group",e)("owner",t.owner)("isNavigationToGroupEnabled",n.isNavigationToGroupEnabled(t))("isPricingAsync",t.isPricingAsync)}}function tu(i,o){if(i&1&&(x(0),_(1,eu,2,4,"ng-container",2),d(2,"async"),b()),i&2){let e=u(2);a(),s("ngIf",f(2,1,e.currentGroup$))}}function iu(i,o){if(i&1&&(x(0),_(1,tu,3,3,"ng-container",1),b()),i&2){let e=o.ngIf,t=u(),n=oe(3);a(),s("ngIf",!t.isDialogActive(e))("ngIfElse",n)}}function nu(i,o){i&1&&(x(0),T(1,"div",20),b())}function ru(i,o){if(i&1&&(l(0,"div",15)(1,"div",16),T(2,"div",17)(3,"div",18),p(),l(4,"div",19),_(5,nu,2,0,"ng-container",2),p()()),i&2){let e=o.index;a(5),s("ngIf",e!==0)}}function ou(i,o){i&1&&(x(0),l(1,"div",5)(2,"div",6),T(3,"div",7)(4,"div",8),p(),l(5,"div",9),T(6,"div",10)(7,"div",11),p()(),l(8,"div",5)(9,"div",6),T(10,"div",7)(11,"div",8),l(12,"div",12),T(13,"div",13),p()(),l(14,"div",9),_(15,ru,6,1,"div",14),p()(),b()),i&2&&(a(15),s("ngForOf",Fe(1,Rt)))}function au(i,o){i&1&&_(0,ou,16,2,"ng-container",4),i&2&&s("ngForOf",Fe(1,Rt))}var cu=["groupItem"],su=()=>({key:"cx-menu-back"}),uu=()=>[0,1,2,3,4,5,6,7,8,9];function lu(i,o){if(i&1){let e=H();l(0,"button",9,1),d(2,"cxTranslate"),d(3,"cxTranslate"),V("click",function(){F(e);let n=u(3).ngIf,r=u(4);return D(r.navigateUp(n))})("keydown",function(n){F(e);let r=u(2),c=r.$implicit,g=r.index,I=u().ngIf,C=u(4);return D(C.switchGroupOnArrowPress(n,g,c,I))}),T(4,"cx-icon",10),y(5),d(6,"cxTranslate"),p()}if(i&2){let e=u().ngIf,t=u(6);s("cxFocus",Fe(11,su)),M("aria-selected",!1)("aria-label",t.isConflictGroupType(e.groupType)?f(2,5,"configurator.a11y.conflictBack"):f(3,7,"configurator.a11y.groupBack")),a(4),s("type",t.iconTypes.CARET_LEFT),a(),S(" ",f(6,9,"configurator.button.back")," ")}}function pu(i,o){if(i&1&&(x(0),_(1,lu,7,12,"button",8),b()),i&2){let e=o.ngIf,t=u().index;a(),s("ngIf",e!==null&&t===0)}}function du(i,o){if(i&1&&(T(0,"cx-icon",21),d(1,"cxTranslate"),d(2,"cxTranslate")),i&2){let e=u(2).$implicit,t=u(5);w("id",t.createIconId(t.iconTypes.CARET_RIGHT,e.id)),w("title",f(1,4,"configurator.icon.subgroup")),s("type",t.iconTypes.CARET_RIGHT),M("aria-label",f(2,6,"configurator.a11y.iconSubGroup"))}}function gu(i,o){if(i&1){let e=H();x(0),l(1,"button",11,1),d(3,"async"),d(4,"async"),V("click",function(){F(e);let n=u().$implicit,r=u().ngIf,c=u(4);return D(c.click(n,r))})("keydown",function(n){F(e);let r=u(),c=r.$implicit,g=r.index,I=u().ngIf,C=u(4);return D(C.switchGroupOnArrowPress(n,g,c,I))}),l(5,"span",12),y(6),p(),l(7,"div",13)(8,"div",14),y(9),p(),l(10,"div",15),T(11,"cx-icon",16),d(12,"cxTranslate"),d(13,"cxTranslate"),p(),l(14,"div",15),T(15,"cx-icon",17),d(16,"cxTranslate"),d(17,"cxTranslate"),T(18,"cx-icon",18),d(19,"cxTranslate"),d(20,"cxTranslate"),p(),l(21,"div",19),_(22,du,3,8,"cx-icon",20),p()()(),b()}if(i&2){let e=u().$implicit,t=u().ngIf,n=u(3).ngIf,r=u();a(),ae("DISABLED",!e.configurable)("cx-menu-conflict",r.isConflictGroupType(e.groupType))("active",r.isGroupSelected(e.id,t.id))("disable",!e.configurable),w("id",e.id),w("ngClass",f(3,32,r.getGroupStatusStyles(e,n))),s("cxFocus",G(48,je,e.id))("tabindex",r.getTabIndex(e,t.id)),M("aria-describedby",f(4,34,r.getAriaDescribedby(e,n)))("aria-selected",r.isGroupSelected(e.id,t.id))("aria-controls",r.isGroupSelected(e.id,t.id)?r.createAriaControls(e.id):null)("aria-label",r.getAriaLabel(e)),a(4),w("title",e.description),a(),ne(r.getGroupMenuTitle(e)),a(3),S(" ",r.getConflictNumber(e)," "),a(2),w("id",r.createIconId(r.iconTypes.WARNING,e.id)),w("title",f(12,36,"configurator.icon.groupConflict")),s("type",r.iconTypes.WARNING),M("aria-label",f(13,38,"configurator.a11y.iconConflict")),a(4),w("id",r.createIconId(r.iconTypes.ERROR,e.id)),w("title",f(16,40,"configurator.icon.groupIncomplete")),s("type",r.iconTypes.ERROR),M("aria-label",f(17,42,"configurator.a11y.iconIncomplete")),a(3),w("id",r.createIconId(r.iconTypes.SUCCESS,e.id)),w("title",f(19,44,"configurator.icon.groupComplete")),s("type",r.iconTypes.SUCCESS),M("aria-label",f(20,46,"configurator.a11y.iconComplete")),a(4),s("ngIf",r.hasSubGroups(e))}}function fu(i,o){if(i&1&&(x(0),_(1,pu,2,1,"ng-container",6),d(2,"async"),_(3,gu,23,50,"ng-container",6),d(4,"async"),b()),i&2){let e=o.$implicit,t=u(5);a(),s("ngIf",f(2,2,t.displayedParentGroup$)),a(2),s("ngIf",f(4,4,t.displayMenuItem(e)))}}function mu(i,o){if(i&1&&(x(0),_(1,fu,5,6,"ng-container",7),b()),i&2){let e=u().ngIf,t=u(3);a(),s("ngForOf",e)("ngForTrackBy",t.trackByFn)}}function _u(i,o){if(i&1&&(x(0),_(1,mu,2,2,"ng-container",6),d(2,"async"),b()),i&2){let e=u(3);a(),s("ngIf",f(2,1,e.currentGroup$))}}function vu(i,o){if(i&1&&(x(0),l(1,"div",3)(2,"span",4),y(3),d(4,"cxTranslate"),p(),l(5,"span",5),y(6),d(7,"cxTranslate"),p(),_(8,_u,3,3,"ng-container",6),d(9,"async"),p(),b()),i&2){let e=u(2);a(3),S(" ",f(4,3,"configurator.a11y.listOfGroups")," "),a(3),S(" ",f(7,5,"configurator.a11y.inListOfGroups")," "),a(2),s("ngIf",f(9,7,e.displayedGroups$))}}function hu(i,o){if(i&1&&(x(0),_(1,vu,10,9,"ng-container",2),b()),i&2){let e=o.ngIf,t=u(),n=oe(3);a(),s("ngIf",!t.isDialogActive(e))("ngIfElse",n)}}function Cu(i,o){i&1&&(l(0,"div",24),T(1,"div",25),p())}function yu(i,o){i&1&&(l(0,"div",22),_(1,Cu,2,0,"div",23),p()),i&2&&(a(),s("ngForOf",Fe(1,uu)))}function xu(i,o){i&1&&(x(0),T(1,"cx-hamburger-menu"),b())}function bu(i,o){if(i&1&&(x(0),l(1,"div",2),_(2,xu,2,0,"ng-container",3),d(3,"async"),y(4),p(),b()),i&2){let e=o.ngIf,t=u();a(2),s("ngIf",f(3,2,t.isMobile())),a(2),S(" ",t.getGroupTitle(e)," ")}}function Iu(i,o){i&1&&T(0,"div",4)}function Tu(i,o){if(i&1&&(x(0),l(1,"div",4),y(2),p(),l(3,"div",5),T(4,"cx-configurator-price",6),p(),b()),i&2){let e=u();a(2),S(" ",e.attributeOverview.attribute," "),a(2),s("formula",e.extractPriceFormulaParameters())}}function Su(i,o){if(i&1&&(l(0,"div",5),T(1,"cx-configurator-price",6),p(),l(2,"div",4),y(3),p()),i&2){let e=u();a(),s("formula",e.extractPriceFormulaParameters()),a(2),S(" ",e.attributeOverview.attribute," ")}}function Eu(i,o){if(i&1&&(l(0,"span",12),y(1),d(2,"cxTranslate"),p()),i&2){let e=u(2);a(),Sn(" ",f(2,2,"configurator.attribute.id"),": ",e.attributeOverview.productCode,"")}}function wu(i,o){if(i&1&&(l(0,"div",13)(1,"span",14),y(2),d(3,"cxTranslate"),p(),l(4,"span",15),y(5),d(6,"cxNumeric"),p()()),i&2){let e=u(2);a(2),ne(f(3,2,"configurator.attribute.quantity")),a(3),ne(f(6,4,e.attributeOverview.quantity))}}function Ou(i,o){if(i&1&&(l(0,"div",16)(1,"span",14),y(2),d(3,"cxTranslate"),p(),l(4,"span",15),y(5),p()()),i&2){let e=u(2);a(2),ne(f(3,2,"configurator.overviewForm.itemPrice")),a(3),ne(e.attributeOverview.valuePrice==null?null:e.attributeOverview.valuePrice.formattedValue)}}function Au(i,o){if(i&1&&(x(0),l(1,"div",1)(2,"div",2),T(3,"cx-media",3),p(),l(4,"span",4),y(5),p(),l(6,"div",5)(7,"div"),y(8),p(),_(9,Eu,3,4,"span",6)(10,wu,7,6,"div",7)(11,Ou,6,4,"div",8),p()(),l(12,"div",9)(13,"span",10),y(14),p(),T(15,"cx-configurator-price",11),p(),b()),i&2){let e=o.ngIf,t=u();a(3),s("container",t.getProductPrimaryImage(e)),a(2),S(" ",t.getAriaLabel()," "),a(3),S(" ",t.attributeOverview.value," "),a(),s("ngIf",t.attributeOverview==null?null:t.attributeOverview.productCode),a(),s("ngIf",t.displayQuantity()),a(),s("ngIf",t.displayPrice()),a(3),ne(t.attributeOverview.attribute),a(),s("formula",t.extractPriceFormulaParameters())}}var Zt=i=>({group:i});function Fu(i,o){if(i&1){let e=H();x(0),l(1,"button",2),d(2,"cxTranslate"),V("keydown.delete",function(){let n=F(e).$implicit,r=u();return D(r.onAttrFilterRemove(r.config,n))})("click",function(){let n=F(e).$implicit,r=u();return D(r.onAttrFilterRemove(r.config,n))}),y(3),d(4,"cxTranslate"),l(5,"span",3),T(6,"cx-icon",4),p()(),b()}if(i&2){let e=o.$implicit,t=u();a(),Tn("id","cx-overview-filter-applied-",e===t.attributeFilterTypes.PRICE_RELEVANT?t.attributeFilterTypes.PRICE_RELEVANT:t.attributeFilterTypes.USER_INPUT,""),w("title",f(2,5,e===t.attributeFilterTypes.PRICE_RELEVANT?"configurator.overviewFilter.removeByPrice":"configurator.overviewFilter.removeMySelections")),a(2),S(" ",f(4,7,e===t.attributeFilterTypes.PRICE_RELEVANT?"configurator.overviewFilter.byPrice":"configurator.overviewFilter.mySelections")," "),a(3),s("type",t.iconTypes.CLOSE)}}function Du(i,o){if(i&1){let e=H();x(0),l(1,"button",2),d(2,"cxTranslate"),V("keydown.delete",function(){let n=F(e).$implicit,r=u();return D(r.onGroupFilterRemove(r.config,n))})("click",function(){let n=F(e).$implicit,r=u();return D(r.onGroupFilterRemove(r.config,n))}),y(3),l(4,"span",3),T(5,"cx-icon",4),p()(),b()}if(i&2){let e=o.$implicit,t=u();a(),Tn("id","cx-overview-filter-applied-",e,""),w("title",$(2,5,"configurator.overviewFilter.removeByGroup",G(8,Zt,t.getGroupFilterDescription(t.config.overview,e)))),a(2),S(" ",t.getGroupFilterDescription(t.config.overview,e)," "),a(2),s("type",t.iconTypes.CLOSE)}}function Ru(i,o){if(i&1){let e=H();x(0),l(1,"button",5),d(2,"cxTranslate"),V("keydown.delete",function(){F(e);let n=u();return D(n.onRemoveAll(n.config))})("click",function(){F(e);let n=u();return D(n.onRemoveAll(n.config))}),y(3),d(4,"cxTranslate"),l(5,"span",3),T(6,"cx-icon",4),p()(),b()}if(i&2){let e=u();a(),w("title",f(2,3,"configurator.overviewFilter.removeAllFilters")),a(2),S(" ",f(4,5,"configurator.overviewFilter.removeAll")," "),a(3),s("type",e.iconTypes.CLOSE)}}var Nu=i=>({groupName:i});function Mu(i,o){if(i&1&&(x(0),T(1,"cx-configurator-overview-filter-bar",2),b()),i&2){let e=u();a(),s("config",e.config)}}function Pu(i,o){if(i&1){let e=H();x(0),l(1,"div",3),y(2),d(3,"cxTranslate"),p(),l(4,"div",4)(5,"div",5)(6,"input",6),d(7,"cxTranslate"),V("change",function(){F(e);let n=u();return D(n.onFilter(n.config))}),p(),l(8,"label",7),y(9),d(10,"cxTranslate"),p()()(),l(11,"div",4)(12,"div",5)(13,"input",8),d(14,"cxTranslate"),V("change",function(){F(e);let n=u();return D(n.onFilter(n.config))}),p(),l(15,"label",9),y(16),d(17,"cxTranslate"),p()()(),b()}if(i&2){let e=u();a(2),S(" ",f(3,7,"configurator.overviewFilter.byOption")," "),a(4),s("formControl",e.priceFilter),M("aria-label",f(7,9,"configurator.a11y.filterOverviewByPrice")),a(3),S(" ",f(10,11,"configurator.overviewFilter.byPrice"),""),a(4),s("formControl",e.mySelectionsFilter),M("aria-label",f(14,13,"configurator.a11y.filterOverviewByMySelections")),a(3),S(" ",f(17,15,"configurator.overviewFilter.mySelections"),"")}}function Vu(i,o){if(i&1){let e=H();x(0),l(1,"div",4)(2,"div",5)(3,"input",11),d(4,"cxTranslate"),V("change",function(){F(e);let n=u(2);return D(n.onFilter(n.config))}),p(),l(5,"label",12),y(6),p()()(),b()}if(i&2){let e=o.$implicit,t=o.index,n=u(2);a(3),w("id","cx-configurator-overview-filter-option-group-"+e.id),w("name","config-overview-group-filter-"+e.id),s("formControl",n.groupFilters[t]),M("aria-label",$(4,6,"configurator.a11y.filterOverviewByGroup",G(9,Nu,e.groupDescription))),a(2),w("for","cx-configurator-overview-filter-option-group-"+e.id),a(),ne(e.groupDescription)}}function Gu(i,o){if(i&1&&(x(0),l(1,"div",3),y(2),d(3,"cxTranslate"),p(),_(4,Vu,7,11,"ng-container",10),b()),i&2){let e=u();a(2),S(" ",f(3,2,"configurator.overviewFilter.byGroup")," "),a(2),s("ngForOf",e.config.overview.possibleGroups)}}function Uu(i,o){i&1&&(l(0,"div",13),y(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.overviewFilter.noFiltersAvailable"),`
`))}var Bu=["filterButton"],Ao=i=>({numAppliedFilters:i});function Lu(i,o){if(i&1){let e=H();x(0),l(1,"button",5,1),d(3,"cxTranslate"),V("click",function(){F(e);let n=u().ngIf,r=u();return D(r.openFilterModal(n))}),y(4),d(5,"cxTranslate"),p(),b()}if(i&2){let e=u().ngIf,t=u();a(),w("title",$(3,2,t.getNumFilters(e.overview)>0?"configurator.a11y.filterOverviewWithCount":"configurator.a11y.filterOverview",G(8,Ao,t.getNumFilters(e.overview)))),a(3),S(" ",$(5,5,t.getNumFilters(e.overview)>0?"configurator.button.filterOverviewWithCount":"configurator.button.filterOverview",G(10,Ao,t.getNumFilters(e.overview)))," ")}}function ku(i,o){if(i&1&&(x(0),_(1,Lu,6,12,"ng-container",3),d(2,"async"),T(3,"cx-configurator-overview-filter-bar",4),b()),i&2){let e=o.ngIf,t=u();a(),s("ngIf",!f(2,2,t.isDisplayOnlyVariant())||(e.overview.possibleGroups==null?null:e.overview.possibleGroups.length)!==1),a(2),s("config",e)}}function $u(i,o){i&1&&T(0,"div",6)}function ju(i,o){i&1&&(l(0,"h3",8),y(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.overviewFilter.title")," "))}function qu(i,o){i&1&&(l(0,"div",8),y(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.overviewFilter.title")," "))}function Ku(i,o){if(i&1&&(x(0),l(1,"div",9),T(2,"cx-configurator-overview-filter",10),p(),b()),i&2){let e=o.ngIf;a(2),s("config",e)("showFilterBar",!1)}}var Bo=i=>({overviewGroups:i,level:1,idPrefix:""}),Lo=(i,o,e)=>({overviewGroups:i,level:o,idPrefix:e}),Hu=()=>[0,1,2,3,4,5];function Qu(i,o){i&1&&Lt(0)}function Wu(i,o){if(i&1&&(x(0),_(1,Qu,1,0,"ng-container",4),b()),i&2){let e=u().ngIf;u();let t=oe(5);a(),s("ngTemplateOutlet",t)("ngTemplateOutletContext",G(2,Bo,e.overview==null?null:e.overview.groups))}}function Yu(i,o){if(i&1&&(x(0),_(1,Wu,2,4,"ng-container",3),b()),i&2){let e=o.ngIf,t=u(),n=oe(3);a(),s("ngIf",t.hasAttributes(e))("ngIfElse",n)}}function zu(i,o){i&1&&(l(0,"div",5)(1,"h2"),y(2),d(3,"cxTranslate"),p(),l(4,"p"),y(5),d(6,"cxTranslate"),p()()),i&2&&(a(2),ne(f(3,2,"configurator.overviewForm.noAttributeHeader")),a(3),ne(f(6,4,"configurator.overviewForm.noAttributeText")))}function Xu(i,o){if(i&1&&(x(0),T(1,"cx-configurator-overview-attribute",16),b()),i&2){let e=u().$implicit;a(),s("attributeOverview",e)}}function Zu(i,o){if(i&1&&(x(0),T(1,"cx-configurator-cpq-overview-attribute",16),b()),i&2){let e=u().$implicit;a(),s("attributeOverview",e)}}function Ju(i,o){if(i&1&&(x(0),T(1,"cx-configurator-overview-attribute",16),b()),i&2){let e=u().$implicit;a(),s("attributeOverview",e)}}function el(i,o){if(i&1&&(l(0,"div",12),x(1,13),_(2,Xu,2,1,"ng-container",14)(3,Zu,2,1,"ng-container",14)(4,Ju,2,1,"ng-container",15),b(),p()),i&2){let e=o.$implicit,t=o.index,n=u().$implicit,r=u(2);s("ngClass",r.getStyleClasses(n.attributes,t)),a(),s("ngSwitch",e==null?null:e.type),a(),s("ngSwitchCase",r.attributeOverviewType.GENERAL),a(),s("ngSwitchCase",r.attributeOverviewType.BUNDLE)}}function tl(i,o){i&1&&Lt(0)}function il(i,o){if(i&1&&(x(0),_(1,tl,1,0,"ng-container",4),b()),i&2){let e=u().$implicit,t=u(),n=t.level,r=t.idPrefix,c=u(),g=oe(5);a(),s("ngTemplateOutlet",g)("ngTemplateOutletContext",St(2,Lo,e.subGroups,n+1,c.getPrefixId(r,e.id)))}}function nl(i,o){if(i&1&&(x(0),l(1,"div",8)(2,"span",6),y(3),d(4,"cxTranslate"),p(),l(5,"h2",9)(6,"span"),y(7),p()(),_(8,el,5,4,"div",10)(9,il,2,6,"ng-container",11),p(),b()),i&2){let e=o.$implicit,t=u(),n=t.level,r=t.idPrefix,c=u();a(),w("id",c.getGroupId(r,e.id)),s("ngClass",c.getGroupLevelStyleClasses(n,e.subGroups)),a(2),S(" ",$(4,6,"configurator.a11y.group",G(9,Zt,e.groupDescription))," "),a(4),ne(e.groupDescription),a(),s("ngForOf",e.attributes),a(),s("ngIf",(e.subGroups==null?null:e.subGroups.length)>0)}}function rl(i,o){if(i&1&&(l(0,"span",6),y(1),d(2,"cxTranslate"),p(),_(3,nl,10,11,"ng-container",7)),i&2){let e=o.overviewGroups;a(),S(" ",f(2,2,"configurator.a11y.listOfAttributesAndValues")," "),a(2),s("ngForOf",e)}}function ol(i,o){i&1&&(x(0),l(1,"div",20),T(2,"div",21),p(),l(3,"div",22),T(4,"div",23),p(),T(5,"div",24),b())}function al(i,o){i&1&&(x(0),l(1,"div",17),T(2,"div",18),l(3,"div",19),_(4,ol,6,0,"ng-container",7),p()(),b()),i&2&&(a(4),s("ngForOf",Fe(1,Hu)))}function cl(i,o){i&1&&_(0,al,5,2,"ng-container",7),i&2&&s("ngForOf",Fe(1,Rt))}function sl(i,o){i&1&&Lt(0)}function ul(i,o){if(i&1&&(x(0),_(1,sl,1,0,"ng-container",2),b()),i&2){let e=u(),t=oe(2);a(),s("ngTemplateOutlet",t)("ngTemplateOutletContext",G(2,Bo,e.config.overview.groups))}}function ll(i,o){i&1&&Lt(0)}function pl(i,o){if(i&1&&(x(0),_(1,ll,1,0,"ng-container",2),b()),i&2){let e=u().$implicit,t=u(),n=t.level,r=t.idPrefix,c=u(),g=oe(2);a(),s("ngTemplateOutlet",g)("ngTemplateOutletContext",St(2,Lo,e.subGroups,n+1,c.getPrefixId(r,e.id)))}}function dl(i,o){if(i&1){let e=H();x(0),l(1,"li",4)(2,"button",5),d(3,"cxTranslate"),V("click",function(){let n=F(e).$implicit,r=u().idPrefix,c=u();return D(c.navigateToGroup(r,n.id))}),l(4,"span",6),y(5),p(),T(6,"cx-icon",7),p(),_(7,pl,2,6,"ng-container",1),p(),b()}if(i&2){let e=o.$implicit,t=u(),n=t.level,r=t.idPrefix,c=u();a(),s("ngClass",c.getGroupLevelStyleClasses(n)),a(),w("id",c.getMenuItemId(r,e.id)),M("aria-label",$(3,6,"configurator.a11y.groupName",G(9,Zt,e.groupDescription))),a(3),S(" ",e.groupDescription,""),a(),s("type",c.iconTypes.ARROW_LEFT),a(),s("ngIf",(e.subGroups==null?null:e.subGroups.length)>0)}}function gl(i,o){if(i&1&&(l(0,"ul"),_(1,dl,8,11,"ng-container",3),p()),i&2){let e=o.overviewGroups;a(),s("ngForOf",e)}}var ko=(i,o)=>({entityKey:i,ownerType:o}),$o=(i,o)=>({cxRoute:i,params:o}),fl=(i,o)=>({resolveIssues:!0,skipConflicts:i,productCode:o}),ml=i=>({resolveIssues:!0,productCode:i});function _l(i,o){if(i&1&&(l(0,"div",3),T(1,"cx-icon",4),l(2,"div",5),y(3),d(4,"cxTranslate"),l(5,"button",6),d(6,"cxUrl"),d(7,"async"),y(8),d(9,"cxTranslate"),p()()()),i&2){let e=o.ngIf,t=u(2).ngIf,n=u();a(),s("type",n.iconTypes.ERROR),a(2),S(" ",$(4,5,"configurator.notificationBanner.numberOfIssues",G(14,un,e))," "),a(2),s("routerLink",f(6,8,Ue(19,$o,"configure"+t.owner.configuratorType,Ue(16,ko,t.owner.id,t.owner.type))))("queryParams",Ue(22,fl,f(7,10,n.skipConflictsOnIssueNavigation$),t.productCode)),a(3),S(" ",f(9,12,"configurator.header.resolveIssues")," ")}}function vl(i,o){if(i&1&&(l(0,"div",7),T(1,"cx-icon",4),l(2,"div",8),y(3),d(4,"cxTranslate"),l(5,"button",9),d(6,"cxUrl"),y(7),d(8,"cxTranslate"),p()()()),i&2){let e=o.ngIf,t=u(2).ngIf,n=u();a(),s("type",n.iconTypes.WARNING),a(2),S(" ",$(4,5,"configurator.notificationBanner.numberOfConflicts",G(12,un,e))," "),a(2),s("routerLink",f(6,8,Ue(17,$o,"configure"+t.owner.configuratorType,Ue(14,ko,t.owner.id,t.owner.type))))("queryParams",G(20,ml,t.productCode)),a(2),S(" ",f(8,10,"configurator.header.resolveConflicts")," ")}}function hl(i,o){if(i&1&&(x(0),_(1,_l,10,25,"div",1),d(2,"async"),_(3,vl,9,22,"div",2),d(4,"async"),b()),i&2){let e=u(2);a(),s("ngIf",f(2,2,e.numberOfIssues$)),a(2),s("ngIf",f(4,4,e.numberOfConflicts$))}}function Cl(i,o){if(i&1&&(x(0),_(1,hl,5,6,"ng-container",0),d(2,"async"),b()),i&2){let e=u();a(),s("ngIf",f(2,1,e.configurationOverview$))}}var yl=["menuTab"],xl=["filterTab"],jo=()=>[0,1],bl=()=>[0,1,2,3];function Il(i,o){if(i&1&&T(0,"cx-configurator-overview-filter",7),i&2){let e=u().ngIf;s("config",e)}}function Tl(i,o){if(i&1&&T(0,"cx-configurator-overview-menu",7),i&2){let e=u().ngIf;s("config",e)}}function Sl(i,o){if(i&1){let e=H();x(0),l(1,"div",4)(2,"button",5,1),V("keydown",function(n){F(e);let r=u();return D(r.switchTabOnArrowPress(n,"#menuTab"))})("keydown.enter",function(){F(e);let n=u();return D(n.onMenu())})("keydown.space",function(){F(e);let n=u();return D(n.onMenu())})("click",function(){F(e);let n=u();return D(n.onMenu())}),y(4),d(5,"cxTranslate"),p(),l(6,"button",5,2),V("keydown",function(n){F(e);let r=u();return D(r.switchTabOnArrowPress(n,"#filterTab"))})("keydown.enter",function(){F(e);let n=u();return D(n.onFilter())})("keydown.space",function(){F(e);let n=u();return D(n.onFilter())})("click",function(){F(e);let n=u();return D(n.onFilter())}),y(8),d(9,"cxTranslate"),p()(),_(10,Il,1,1,"cx-configurator-overview-filter",6)(11,Tl,1,1,"cx-configurator-overview-menu",6),b()}if(i&2){let e=u();a(2),ae("active",!e.showFilter),s("tabindex",e.getTabIndexForMenuTab()),M("aria-selected",!e.showFilter),a(2),S(" ",f(5,12,"configurator.overviewSidebar.menu")," "),a(2),ae("active",e.showFilter),s("tabindex",e.getTabIndexForFilterTab()),M("aria-selected",e.showFilter),a(2),S(" ",f(9,14,"configurator.overviewSidebar.filter")," "),a(2),s("ngIf",e.showFilter),a(),s("ngIf",!e.showFilter)}}function El(i,o){i&1&&(l(0,"div",12),T(1,"div",13),p())}function wl(i,o){i&1&&(x(0),l(1,"div",15),_(2,El,2,0,"div",16),p(),b()),i&2&&(a(2),s("ngForOf",Fe(1,bl)))}function Ol(i,o){i&1&&(l(0,"div",12),T(1,"div",13),p())}function Al(i,o){i&1&&(l(0,"div",12),T(1,"div",13),p())}function Fl(i,o){i&1&&(x(0),l(1,"div",15),_(2,Ol,2,0,"div",16),l(3,"div",17),_(4,Al,2,0,"div",16),p()(),b()),i&2&&(a(2),s("ngForOf",Fe(2,Rt)),a(2),s("ngForOf",Fe(3,Rt)))}function Dl(i,o){i&1&&(l(0,"div",12),T(1,"div",13),p())}function Rl(i,o){i&1&&(x(0),l(1,"div",11),_(2,Dl,2,0,"div",16),p(),b()),i&2&&(a(2),s("ngForOf",Fe(1,jo)))}function Nl(i,o){if(i&1&&(x(0),l(1,"div",11)(2,"div",12),T(3,"div",13),p(),_(4,wl,3,2,"ng-container",14)(5,Fl,5,4,"ng-container",14)(6,Rl,3,2,"ng-container",14),p(),b()),i&2){let e=o.index;a(4),s("ngIf",e===0),a(),s("ngIf",e===1),a(),s("ngIf",e===2)}}function Ml(i,o){i&1&&(x(0),_(1,Nl,7,3,"ng-container",10),b()),i&2&&(a(),s("ngForOf",Fe(1,Rt)))}function Pl(i,o){i&1&&(l(0,"div",8),T(1,"div",9),_(2,Ml,2,2,"ng-container",10),p()),i&2&&(a(2),s("ngForOf",Fe(1,jo)))}function Vl(i,o){if(i&1){let e=H();x(0),l(1,"button",1),d(2,"async"),d(3,"async"),d(4,"cxTranslate"),V("click",function(){F(e);let n=u().ngIf,r=u();return D(r.onPrevious(n))}),y(5),d(6,"cxTranslate"),p(),l(7,"button",2),d(8,"async"),d(9,"async"),d(10,"cxTranslate"),V("click",function(){F(e);let n=u().ngIf,r=u();return D(r.onNext(n))}),y(11),d(12,"cxTranslate"),p(),b()}if(i&2){let e=u().ngIf,t=u();a(),s("disabled",f(2,6,t.isFirstGroup(e.owner))),M("aria-label",$(4,10,"configurator.a11y.previous",G(24,Zt,f(3,8,t.getPreviousGroupDescription(e))))),a(4),S(" ",f(6,13,"configurator.button.previous")," "),a(2),s("disabled",f(8,15,t.isLastGroup(e.owner))),M("aria-label",$(10,19,"configurator.a11y.next",G(26,Zt,f(9,17,t.getNextGroupDescription(e))))),a(4),S(" ",f(12,22,"configurator.button.next")," ")}}function Gl(i,o){if(i&1&&(x(0),_(1,Vl,13,28,"ng-container",0),b()),i&2){let e=o.ngIf;a(),s("ngIf",e.groups.length>1)}}function Ul(i,o){if(i&1&&(x(0),l(1,"div",6)(2,"div",4),y(3),d(4,"cxTranslate"),p(),l(5,"div",5),y(6),p()(),l(7,"div",7)(8,"div",4),y(9),d(10,"cxTranslate"),p(),l(11,"div",5),y(12),p()(),b()),i&2){let e=u(2).ngIf;a(3),S(" ",f(4,4,"configurator.priceSummary.basePrice"),": "),a(3),S(" ",e==null||e.priceSummary==null||e.priceSummary.basePrice==null?null:e.priceSummary.basePrice.formattedValue," "),a(3),S(" ",f(10,6,"configurator.priceSummary.selectedOptions"),": "),a(3),S(" ",e==null||e.priceSummary==null||e.priceSummary.selectedOptions==null?null:e.priceSummary.selectedOptions.formattedValue," ")}}function Bl(i,o){if(i&1&&(x(0),l(1,"div",1)(2,"div",2),_(3,Ul,13,8,"ng-container",0),l(4,"div",3)(5,"div",4),y(6),d(7,"cxTranslate"),p(),l(8,"div",5),y(9),p()()()(),b()),i&2){let e=u().ngIf;a(3),s("ngIf",!e.hideBasePriceAndSelectedOptions),a(3),S(" ",f(7,3,"configurator.priceSummary.totalPricePerItem"),": "),a(3),S(" ",e==null||e.priceSummary==null||e.priceSummary.currentTotal==null?null:e.priceSummary.currentTotal.formattedValue," ")}}function Ll(i,o){if(i&1&&(x(0),_(1,Bl,10,5,"ng-container",0),b()),i&2){let e=o.ngIf;a(),s("ngIf",e.pricingEnabled)}}var qo=i=>({product:i}),kl=i=>({name:i}),$l=i=>({logsys:i}),jl=i=>({version:i});function ql(i,o){if(i&1&&(x(0),l(1,"div",13)(2,"span",14),y(3),d(4,"cxTranslate"),p()(),T(5,"cx-icon",15),d(6,"cxTranslate"),b()),i&2){let e=u().ngIf,t=u();a(3),ne(f(4,3,"configurator.header.showMore")),a(2),s("type",t.iconTypes.CARET_DOWN),M("aria-label",$(6,5,"configurator.a11y.showMoreProductInfo",G(8,qo,e.name)))}}function Kl(i,o){if(i&1&&(x(0),l(1,"div",16),y(2),d(3,"cxTranslate"),p(),T(4,"cx-icon",15),d(5,"cxTranslate"),b()),i&2){let e=u().ngIf,t=u();a(2),S(" ",f(3,3,"configurator.header.showLess")," "),a(2),s("type",t.iconTypes.CARET_UP),M("aria-label",$(5,5,"configurator.a11y.showLessProductInfo",G(8,qo,e.name)))}}function Hl(i,o){if(i&1&&(l(0,"span"),d(1,"cxTranslate"),y(2),p()),i&2){let e=u().ngIf;M("title",f(1,2,"configurator.a11y.productName")),a(2),S(" ",e.name," ")}}function Ql(i,o){if(i&1&&(l(0,"span"),d(1,"cxTranslate"),y(2),p()),i&2){let e=u().ngIf;M("title",f(1,2,"configurator.a11y.productCode")),a(2),S(" ",e.code," ")}}function Wl(i,o){if(i&1&&(l(0,"span"),d(1,"cxTranslate"),y(2),p()),i&2){let e=u().ngIf;M("title",f(1,2,"configurator.a11y.productDescription")),a(2),S(" ",e.description," ")}}function Yl(i,o){if(i&1&&(x(0),l(1,"div",18)(2,"span",19),d(3,"cxTranslate"),y(4),d(5,"cxTranslate"),p(),l(6,"span",20),y(7),p()(),b()),i&2){let e=u(2).ngIf;a(2),M("aria-label",$(3,3,"configurator.a11y.kbKeyName",G(8,kl,e.kbKey.kbName))),a(2),S(" ",f(5,6,"configurator.header.kbKeyName")," "),a(3),S(" ",e.kbKey.kbName," ")}}function zl(i,o){if(i&1&&(x(0),l(1,"div",18)(2,"span",19),d(3,"cxTranslate"),y(4),d(5,"cxTranslate"),p(),l(6,"span",20),y(7),p()(),b()),i&2){let e=u(2).ngIf;a(2),M("aria-label",$(3,3,"configurator.a11y.kbKeyLogsys",G(8,$l,e.kbKey.kbLogsys))),a(2),S(" ",f(5,6,"configurator.header.kbKeyLogsys")," "),a(3),S(" ",e.kbKey.kbLogsys," ")}}function Xl(i,o){if(i&1&&(x(0),l(1,"div",18)(2,"span",19),d(3,"cxTranslate"),y(4),d(5,"cxTranslate"),p(),l(6,"span",20),y(7),p()(),b()),i&2){let e=u(2).ngIf;a(2),M("aria-label",$(3,3,"configurator.a11y.kbKeyVersion",G(8,jl,e.kbKey.kbVersion))),a(2),S(" ",f(5,6,"configurator.header.kbKeyVersion")," "),a(3),S(" ",e.kbKey.kbVersion," ")}}function Zl(i,o){if(i&1&&(x(0),l(1,"div",18)(2,"span",19),d(3,"cxTranslate"),y(4),d(5,"cxTranslate"),p(),l(6,"span",20),y(7),p()(),b()),i&2){let e=u(2).ngIf;a(2),M("aria-label",$(3,3,"configurator.a11y.kbKeyBuildNr",G(8,Qn,e.kbKey.kbBuildNumber))),a(2),S(" ",f(5,6,"configurator.header.kbKeyBuildNr")," "),a(3),S(" ",e.kbKey.kbBuildNumber," ")}}function Jl(i,o){if(i&1&&(x(0),l(1,"div",17),_(2,Yl,8,10,"ng-container",5)(3,zl,8,10,"ng-container",5)(4,Xl,8,10,"ng-container",5)(5,Zl,8,10,"ng-container",5),p(),b()),i&2){let e=u().ngIf;a(2),s("ngIf",e.kbKey.kbName),a(),s("ngIf",e.kbKey.kbLogsys),a(),s("ngIf",e.kbKey.kbVersion),a(),s("ngIf",e.kbKey.kbBuildNumber)}}function ep(i,o){if(i&1&&(x(0),_(1,Jl,6,4,"ng-container",5),b()),i&2){let e=o.ngIf;a(),s("ngIf",e.kbKey)}}function tp(i,o){if(i&1&&(x(0),_(1,ep,2,1,"ng-container",5),d(2,"async"),b()),i&2){let e=u(2);a(),s("ngIf",f(2,1,e.configuration$))}}function ip(i,o){if(i&1){let e=H();x(0),l(1,"div",2)(2,"div",3)(3,"span"),y(4),p()(),l(5,"button",4),V("click",function(){F(e);let n=u();return D(n.triggerDetails())}),_(6,ql,7,10,"ng-container",5)(7,Kl,6,10,"ng-container",5),p(),l(8,"div",6)(9,"div",7),T(10,"cx-media",8),p(),l(11,"div",9)(12,"div",10),_(13,Hl,3,4,"span",5),p(),l(14,"div",11),_(15,Ql,3,4,"span",5),p(),l(16,"div",12),_(17,Wl,3,4,"span",5),p(),_(18,tp,3,3,"ng-container",5),d(19,"async"),p()()(),b()}if(i&2){let e=o.ngIf,t=u();a(4),S(" ",e.name," "),a(),M("aria-expanded",t.showMore),a(),s("ngIf",!t.showMore),a(),s("ngIf",t.showMore),a(),ae("open",t.showMore),a(2),s("container",e==null||e.images==null?null:e.images.PRIMARY),a(),M("aria-hidden",!t.showMore),a(2),s("ngIf",e.name),a(2),s("ngIf",e.code),a(2),s("ngIf",e.description),a(),s("ngIf",f(19,12,t.expMode))}}function np(i,o){i&1&&T(0,"div",21)}function rp(i,o){i&1&&(l(0,"h3",12),y(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.restartDialog.title")," "))}function op(i,o){i&1&&(l(0,"div",12),y(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.restartDialog.title")," "))}function ap(i,o){if(i&1){let e=H();x(0),l(1,"div",2),V("esc",function(){let n=F(e).ngIf,r=u(2);return D(r.backToPDP(n))}),l(2,"div",3),_(3,rp,3,3,"h3",4)(4,op,3,3,"div",4),l(5,"button",5),d(6,"cxTranslate"),V("click",function(){let n=F(e).ngIf,r=u(2);return D(r.backToPDP(n))}),l(7,"span",6),T(8,"cx-icon",7),p()()(),l(9,"div",8)(10,"div",9),y(11),d(12,"cxTranslate"),p(),l(13,"button",10),V("click",function(){let n=F(e).ngIf,r=u(2);return D(r.resume(n))}),y(14),d(15,"cxTranslate"),p(),l(16,"button",11),V("click",function(){F(e);let n=u().ngIf,r=u();return D(r.restart(n.owner))}),y(17),d(18,"cxTranslate"),p()()(),b()}if(i&2){let e=u(2);a(),s("cxFocus",e.focusConfig),a(2),s("cxFeature","a11yDialogsHeading"),a(),s("cxFeature","!a11yDialogsHeading"),a(),w("title",f(6,8,"configurator.a11y.closeRestartDialog")),a(3),s("type",e.iconTypes.CLOSE),a(3),S(" ",f(12,10,"configurator.restartDialog.description")," "),a(3),S(" ",f(15,12,"configurator.restartDialog.resumeButton")," "),a(3),S(" ",f(18,14,"configurator.restartDialog.restartButton")," ")}}function cp(i,o){if(i&1&&(x(0),_(1,ap,19,16,"ng-container",1),d(2,"async"),b()),i&2){let e=u();a(),s("ngIf",f(2,1,e.product$))}}var sp=["configTab"],up=["overviewTab"];function lp(i,o){if(i&1){let e=H();l(0,"div",6)(1,"a",7,1),d(3,"cxTranslate"),d(4,"cxTranslate"),V("keydown",function(n){F(e);let r=u(4);return D(r.switchTabOnArrowPress(n,"#configTab"))})("keydown.enter",function(){F(e);let n=u(3).ngIf,r=u();return D(r.navigateToConfiguration(n))})("keydown.space",function(){F(e);let n=u(3).ngIf,r=u();return D(r.navigateToConfiguration(n))})("click",function(){F(e);let n=u(3).ngIf,r=u();return D(r.navigateToConfiguration(n))}),y(5),d(6,"cxTranslate"),p(),l(7,"a",7,2),d(9,"cxTranslate"),d(10,"cxTranslate"),V("keydown",function(n){F(e);let r=u(4);return D(r.switchTabOnArrowPress(n,"#overviewTab"))})("keydown.enter",function(){F(e);let n=u(3).ngIf,r=u();return D(r.navigateToOverview(n))})("keydown.space",function(){F(e);let n=u(3).ngIf,r=u();return D(r.navigateToOverview(n))})("click",function(){F(e);let n=u(3).ngIf,r=u();return D(r.navigateToOverview(n))}),y(11),d(12,"cxTranslate"),p()()}if(i&2){let e=o.ngIf,t=u(4);a(),ae("active",!t.isOverviewPage(e)),s("tabindex",t.getTabIndexForConfigTab(e)),M("aria-selected",!t.isOverviewPage(e))("aria-label",t.isOverviewPage(e)?f(4,14,"configurator.a11y.configurationPageLink"):f(3,12,"configurator.a11y.configurationPage")),a(4),ne(f(6,16,"configurator.tabBar.configuration")),a(2),ae("active",t.isOverviewPage(e)),s("tabindex",t.getTabIndexForOverviewTab(e)),M("aria-selected",t.isOverviewPage(e))("aria-label",t.isOverviewPage(e)?f(9,18,"configurator.a11y.overviewPage"):f(10,20,"configurator.a11y.overviewPageLink")),a(4),ne(f(12,22,"configurator.tabBar.overview"))}}function pp(i,o){if(i&1&&(x(0),_(1,lp,13,24,"div",5),d(2,"async"),b()),i&2){let e=u(3);a(),s("ngIf",f(2,1,e.pageType$))}}function dp(i,o){if(i&1&&(x(0),_(1,pp,3,3,"ng-container",3),b()),i&2){let e=u().ngIf;a(),s("ngIf",!e.displayOnly)}}function gp(i,o){i&1&&T(0,"div",8)}function fp(i,o){if(i&1&&(x(0),_(1,dp,2,1,"ng-container",4),d(2,"async"),_(3,gp,1,0,"ng-template",null,0,de),b()),i&2){let e=oe(4),t=u();a(),s("ngIf",f(2,2,t.configuration$))("ngIfElse",e)}}var mp=i=>({title:i});function _p(i,o){if(i&1&&T(0,"cx-product-carousel-item",4),i&2){let e=o.item;s("item",e)}}function vp(i,o){if(i&1&&(x(0),l(1,"div",2),T(2,"cx-carousel",3),d(3,"async"),d(4,"async"),d(5,"cxTranslate"),_(6,_p,1,1,"ng-template",null,0,de),p(),b()),i&2){let e=o.ngIf,t=oe(7),n=u();a(2),s("items",e)("title",f(3,4,n.title$))("template",t),M("aria-label",$(5,8,"productCarousel.carouselLabel",G(11,mp,f(4,6,n.title$))))}}var m;(function(i){let o;(function(v){v.ATTRIBUTE_GROUP="AttributeGroup",v.SUB_ITEM_GROUP="SubItemGroup",v.CONFLICT_HEADER_GROUP="ConflictHeaderGroup",v.CONFLICT_GROUP="ConflictGroup"})(o=i.GroupType||(i.GroupType={}));let e;(function(v){v.NOT_IMPLEMENTED="not_implemented",v.RADIOBUTTON="radioGroup",v.RADIOBUTTON_ADDITIONAL_INPUT="radioGroup_add",v.CHECKBOX="checkBox",v.CHECKBOXLIST="checkBoxList",v.DROPDOWN="dropdown",v.DROPDOWN_ADDITIONAL_INPUT="dropdown_add",v.LISTBOX="listbox",v.LISTBOX_MULTI="listboxmulti",v.READ_ONLY="readonly",v.READ_ONLY_SINGLE_SELECTION_IMAGE="read_only_single_selection_image",v.READ_ONLY_MULTI_SELECTION_IMAGE="read_only_multi_selection_image",v.STRING="string",v.NUMERIC="numeric",v.SAP_DATE="sap_date",v.AUTO_COMPLETE_CUSTOM="input_autocomplete",v.MULTI_SELECTION_IMAGE="multi_selection_image",v.SINGLE_SELECTION_IMAGE="single_selection_image",v.CHECKBOXLIST_PRODUCT="checkBoxListProduct",v.DROPDOWN_PRODUCT="dropdownProduct",v.RADIOBUTTON_PRODUCT="radioGroupProduct"})(e=i.UiType||(i.UiType={}));let t;(function(v){v.VALUE_IMAGE="VALUE_IMAGE",v.ATTRIBUTE_IMAGE="ATTRIBUTE_IMAGE"})(t=i.ImageFormatType||(i.ImageFormatType={}));let n;(function(v){v.PRIMARY="PRIMARY",v.GALLERY="GALLERY"})(n=i.ImageType||(i.ImageType={}));let r;(function(v){v.INPUT_STRING="String",v.INPUT_NUMBER="Number",v.USER_SELECTION_QTY_ATTRIBUTE_LEVEL="UserSelectionWithAttributeQuantity",v.USER_SELECTION_QTY_VALUE_LEVEL="UserSelectionWithValueQuantity",v.USER_SELECTION_NO_QTY="UserSelectionWithoutQuantity",v.NOT_IMPLEMENTED="not_implemented"})(r=i.DataType||(i.DataType={}));let c;(function(v){v.ATTRIBUTE="Attribute",v.ATTRIBUTE_QUANTITY="AttributeQuantity",v.VALUE_QUANTITY="ValueQuantity"})(c=i.UpdateType||(i.UpdateType={}));let g;(function(v){v.GENERAL="general",v.BUNDLE="bundle"})(g=i.AttributeOverviewType||(i.AttributeOverviewType={}));let I;(function(v){v.NONE="NONE",v.NUMERIC="NUMERIC",v.SAP_DATE="SAP_DATE"})(I=i.ValidationType||(i.ValidationType={}));let C;(function(v){v.VISIBLE="PRIMARY",v.USER_INPUT="USER_INPUT",v.PRICE_RELEVANT="PRICE_RELEVANT"})(C=i.OverviewFilter||(i.OverviewFilter={})),i.ConflictIdPrefix="CONFLICT",i.ConflictHeaderId="CONFLICT_HEADER",i.CustomUiTypeIndicator="___",i.RetractValueCode="###RETRACT_VALUE_CODE###"})(m||(m={}));var Ko="productConfigurator",X="[Configurator] Configuration Data",zn="[Configurator] Read Cart Entry Configuration",Xn="[Configurator] Read Cart Entry Configuration Success",Ho="[Configurator] Read Cart Entry Configuration Fail",Zn="[Configurator] Read Order Entry Configuration",Jn="[Configurator] Read Order Entry Configuration Success",Qo="[Configurator] Read Order Entry Configuration Fail",er="[Configurator] Add to cart",ln="[Configurator] Update cart entry",hp="[Configurator] Update cart entry success",tr="[Configurator] Add next owner",ir="[Configurator] Set next owner cart entry",nr="[Configurator] Remove cart bound configurations",Ti=class extends q.EntityLoadAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=zn}},Si=class extends q.EntitySuccessAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=Xn}},Ei=class extends q.EntityFailAction{constructor(o){super(X,o.ownerKey,o.error),this.payload=o,this.type=Ho}},wi=class extends q.EntityLoadAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=Zn}},Oi=class extends q.EntitySuccessAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=Jn}},Ai=class extends q.EntityFailAction{constructor(o){super(X,o.ownerKey,o.error),this.payload=o,this.type=Qo}},Fi=class extends q.EntityProcessesIncrementAction{constructor(o){super(Kn,o.cartId),this.payload=o,this.type=er}},Di=class extends q.EntityProcessesIncrementAction{constructor(o){super(Kn,o.cartId),this.payload=o,this.type=ln}},Ri=class{constructor(o){this.payload=o,this.type=tr}},Ni=class{constructor(){this.type=nr}},Mi=class extends q.EntitySuccessAction{constructor(o){super(X,o.configuration.owner.key),this.payload=o,this.type=ir}},Pi="[Configurator] Search Variants",Wo="[Configurator]  Search Variants fail",rr="[Configurator] Search Variants success",Nt=class extends q.EntityLoadAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=Pi}},Vi=class extends q.EntityFailAction{constructor(o){super(X,o.ownerKey,o.error),this.payload=o,this.type=Wo}},Jt=class extends q.EntitySuccessAction{constructor(o){super(X,o.ownerKey),this.payload=o,this.type=rr}},or="[Configurator] Create Configuration",Yo="[Configurator] Create Configuration Fail",ar="[Configurator] Create Configuration Sucess",cr="[Configurator] Read Configuration",zo="[Configurator] Read Configuration Fail",sr="[Configurator] Read Configuration Sucess",ur="[Configurator] Update Configuration",lr="[Configurator] Update Configuration Fail",pr="[Configurator] Update Configuration Success",dr="[Configurator] Update Configuration finalize success",gr="[Configurator] Update Configuration finalize fail",pn="[Configurator] Change group",Xo="[Configurator] Change group finalize",Zo="[Configurator] Remove configuration",fr="[Configurator] Update Configuration Summary Price",Jo="[Configurator] Update Configuration Price Summary fail",mr="[Configurator] Update Configuration Price Summary success",_r="[Configurator] Get Configuration Overview",ea="[Configurator] Get Configuration Overview fail",vr="[Configurator] Get Configuration Overview success",hr="[Configurator] Update Configuration Overview",ta="[Configurator] Update Configuration Overview fail",Cr="[Configurator] Update Configuration Overview success",yr="[Configurator] Set interaction state",xr="[Configurator] Set current group to State",br="[Configurator] Set current parent group for menu to State",Ir="[Configurator] Set groups to visited",Tr="[Configurator] Remove product bound configurations",dn="[Configurator] Dismiss conflict dialog",Sr="[Configurator] Check conflict dialog",Er="[Configurator] Read Attribute Domain",ei=class extends q.EntityLoadAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=or}},Gi=class extends q.EntityFailAction{constructor(o){super(X,o.ownerKey,o.error),this.payload=o,this.type=Yo}},Ui=class extends q.EntitySuccessAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=ar}},Bi=class extends q.EntityLoadAction{constructor(o){super(X,o.configuration.owner.key),this.payload=o,this.type=cr}},Ft=class extends q.EntityFailAction{constructor(o){super(X,o.ownerKey,o.error),this.payload=o,this.type=zo}},Dt=class extends q.EntitySuccessAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=sr}},Li=class extends q.EntityProcessesIncrementAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=ur,this.meta.loader={load:!0}}},ki=class extends q.EntityProcessesDecrementAction{constructor(o){super(X,o.configuration.owner.key),this.payload=o,this.type=lr,this.meta.loader={error:o.error},this.error=o.error}},$i=class extends q.EntityProcessesDecrementAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=pr}},ji=class extends q.EntitySuccessAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=dr}},qi=class extends q.EntityFailAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=gr}},nt=class extends q.EntityLoadAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=fr}},Ki=class extends q.EntityFailAction{constructor(o){super(X,o.ownerKey,o.error),this.payload=o,this.type=Jo}},Hi=class extends q.EntitySuccessAction{constructor(o,e){super(X,o.owner.key),this.payload=o,this.type=mr,this.isDeltaRendering=e?.isDeltaRendering??!1}},ti=class extends q.EntityLoadAction{constructor(o){super(X,o.configuration.owner.key),this.payload=o,this.type=pn}},Wn=class extends q.EntityLoadAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=Xo}},_t=class extends q.EntityLoaderResetAction{constructor(o){super(X,o.ownerKey),this.payload=o,this.type=Zo}},Qi=class extends q.EntityLoadAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=_r}},Wi=class extends q.EntityFailAction{constructor(o){super(X,o.ownerKey,o.error),this.payload=o,this.type=ea}},Yi=class extends q.EntitySuccessAction{constructor(o){super(X,o.ownerKey),this.payload=o,this.type=vr}},zi=class extends q.EntityLoadAction{constructor(o){super(X,o.owner.key),this.payload=o,this.type=hr}},Xi=class extends q.EntityFailAction{constructor(o){super(X,o.ownerKey,o.error),this.payload=o,this.type=ta}},Zi=class extends q.EntitySuccessAction{constructor(o){super(X,o.ownerKey),this.payload=o,this.type=Cr}},Ji=class extends q.EntitySuccessAction{constructor(o){super(X,o.entityKey,o.interactionState),this.payload=o,this.type=yr}},en=class extends q.EntitySuccessAction{constructor(o){super(X,o.entityKey,o.currentGroup),this.payload=o,this.type=xr}},ii=class extends q.EntitySuccessAction{constructor(o){super(X,o.entityKey,o.menuParentGroup),this.payload=o,this.type=br}},tn=class extends q.EntitySuccessAction{constructor(o){super(X,o.entityKey,o.visitedGroups),this.payload=o,this.type=Ir}},nn=class{constructor(){this.type=Tr}},rn=class extends q.EntitySuccessAction{constructor(o){super(X,o),this.ownerKey=o,this.type=dn}},on=class extends q.EntitySuccessAction{constructor(o){super(X,o),this.ownerKey=o,this.type=Sr}},an=class extends q.EntityLoadAction{constructor(o){super(X,o.configuration.owner.key),this.payload=o,this.type=Er}},Ef=Object.freeze({__proto__:null,ADD_NEXT_OWNER:tr,ADD_TO_CART:er,AddNextOwner:Ri,AddToCart:Fi,CHANGE_GROUP:pn,CHANGE_GROUP_FINALIZE:Xo,CHECK_CONFLICT_DIALOG:Sr,CREATE_CONFIGURATION:or,CREATE_CONFIGURATION_FAIL:Yo,CREATE_CONFIGURATION_SUCCESS:ar,ChangeGroup:ti,ChangeGroupFinalize:Wn,CheckConflictDialoge:on,CreateConfiguration:ei,CreateConfigurationFail:Gi,CreateConfigurationSuccess:Ui,DISMISS_CONFLICT_DIALOG:dn,DissmissConflictDialoge:rn,GET_CONFIGURATION_OVERVIEW:_r,GET_CONFIGURATION_OVERVIEW_FAIL:ea,GET_CONFIGURATION_OVERVIEW_SUCCESS:vr,GetConfigurationOverview:Qi,GetConfigurationOverviewFail:Wi,GetConfigurationOverviewSuccess:Yi,READ_ATTRIBUTE_DOMAIN:Er,READ_CART_ENTRY_CONFIGURATION:zn,READ_CART_ENTRY_CONFIGURATION_FAIL:Ho,READ_CART_ENTRY_CONFIGURATION_SUCCESS:Xn,READ_CONFIGURATION:cr,READ_CONFIGURATION_FAIL:zo,READ_CONFIGURATION_SUCCESS:sr,READ_ORDER_ENTRY_CONFIGURATION:Zn,READ_ORDER_ENTRY_CONFIGURATION_FAIL:Qo,READ_ORDER_ENTRY_CONFIGURATION_SUCCESS:Jn,REMOVE_CART_BOUND_CONFIGURATIONS:nr,REMOVE_CONFIGURATION:Zo,REMOVE_PRODUCT_BOUND_CONFIGURATIONS:Tr,ReadAttributeDomain:an,ReadCartEntryConfiguration:Ti,ReadCartEntryConfigurationFail:Ei,ReadCartEntryConfigurationSuccess:Si,ReadConfiguration:Bi,ReadConfigurationFail:Ft,ReadConfigurationSuccess:Dt,ReadOrderEntryConfiguration:wi,ReadOrderEntryConfigurationFail:Ai,ReadOrderEntryConfigurationSuccess:Oi,RemoveCartBoundConfigurations:Ni,RemoveConfiguration:_t,RemoveProductBoundConfigurations:nn,SEARCH_VARIANTS:Pi,SEARCH_VARIANTS_FAIL:Wo,SEARCH_VARIANTS_SUCCESS:rr,SET_CURRENT_GROUP:xr,SET_GROUPS_VISITED:Ir,SET_INTERACTION_STATE:yr,SET_MENU_PARENT_GROUP:br,SET_NEXT_OWNER_CART_ENTRY:ir,SearchVariants:Nt,SearchVariantsFail:Vi,SearchVariantsSuccess:Jt,SetCurrentGroup:en,SetGroupsVisited:tn,SetInteractionState:Ji,SetMenuParentGroup:ii,SetNextOwnerCartEntry:Mi,UPDATE_CART_ENTRY:ln,UPDATE_CART_ENTRY_SUCCESS:hp,UPDATE_CONFIGURATION:ur,UPDATE_CONFIGURATION_FAIL:lr,UPDATE_CONFIGURATION_FINALIZE_FAIL:gr,UPDATE_CONFIGURATION_FINALIZE_SUCCESS:dr,UPDATE_CONFIGURATION_OVERVIEW:hr,UPDATE_CONFIGURATION_OVERVIEW_FAIL:ta,UPDATE_CONFIGURATION_OVERVIEW_SUCCESS:Cr,UPDATE_CONFIGURATION_SUCCESS:pr,UPDATE_PRICE_SUMMARY:fr,UPDATE_PRICE_SUMMARY_FAIL:Jo,UPDATE_PRICE_SUMMARY_SUCCESS:mr,UpdateCartEntry:Di,UpdateConfiguration:Li,UpdateConfigurationFail:ki,UpdateConfigurationFinalizeFail:qi,UpdateConfigurationFinalizeSuccess:ji,UpdateConfigurationOverview:zi,UpdateConfigurationOverviewFail:Xi,UpdateConfigurationOverviewSuccess:Zi,UpdateConfigurationSuccess:$i,UpdatePriceSummary:nt,UpdatePriceSummaryFail:Ki,UpdatePriceSummarySuccess:Hi}),gn=to(Ko),wr=Xe(gn,i=>i.configurations),mt=i=>Xe(wr,o=>q.entityProcessesLoaderStateSelector(o,i)),zt=i=>Xe(wr,o=>q.entityHasPendingProcessesSelector(o,i)),rt=i=>Xe(mt(i),o=>q.loaderValueSelector(o)),ia=i=>Xe(rt(i),o=>o?.interactionState?.currentGroup),na=(i,o)=>Xe(rt(i),e=>{let t=e?.interactionState?.groupsVisited;return t?t[o]:!1}),ra=(i,o)=>Xe(rt(i),e=>o.map(t=>{let n=e?.interactionState?.groupsVisited;return n?n[t]:!1}).filter(t=>!t).length===0),wf=Object.freeze({__proto__:null,areGroupsVisited:ra,getConfigurationFactory:rt,getConfigurationProcessLoaderStateFactory:mt,getConfigurationState:wr,getConfigurationsState:gn,getCurrentGroup:ia,hasPendingChanges:zt,isGroupVisited:na}),Mt=(()=>{class i{getParentGroup(e,t,n){return e.includes(t)?n:e.map(r=>r.subGroups?this.getParentGroup(r.subGroups,t,r):void 0).filter(r=>r).pop()}getGroupById(e,t){let n=e.find(c=>c.id===t);if(n)return n;let r=this.getGroupFromSubGroups(e,t);return r||e[0]}getOptionalGroupById(e,t){let n=e.find(r=>r.id===t);return n||this.getGroupFromSubGroups(e,t)}getGroupByIdIfPresent(e,t){let n=e.find(r=>r.id===t);return n||this.getGroupFromSubGroups(e,t)}getGroupFromSubGroups(e,t){return e.map(r=>r.subGroups?this.getGroupByIdIfPresent(r.subGroups,t):void 0).filter(r=>r).pop()}hasSubGroups(e){return e.subGroups?e.subGroups.length>0:!1}isConfigurationCreated(e){let t=e?.configId;return t!==void 0&&t.length!==0&&e!==void 0&&(e.flatGroups.length>0||e.overview!==void 0)}createConfigurationExtract(e,t,n){n||(n=m.UpdateType.ATTRIBUTE);let r={configId:t.configId,groups:[],flatGroups:[],interactionState:{isConflictResolutionMode:t.interactionState.isConflictResolutionMode},owner:t.owner,productCode:t.productCode,updateType:n},c=[];if(e.groupId)this.buildGroupPath(e.groupId,t.groups,c);else throw Error("GroupId must be available at attribute level during update");let g=c.length;if(g===0)throw new Error("At this point we expect that group is available in the configuration: "+e.groupId+", "+JSON.stringify(t.groups.map(v=>v.id)));let I=this.buildGroupForExtract(c[g-1]),C=I;r.groups.push(I);for(let v=c.length-1;v>0;v--)C=this.buildGroupForExtract(c[v-1]),I.subGroups=[C],I=C;return C.attributes=[e],r}buildGroupPath(e,t,n){let r=!1,c=t.find(g=>g.id===e);return c?(n.push(c),r=!0):t.filter(g=>g.subGroups).forEach(g=>{g.subGroups&&this.buildGroupPath(e,g.subGroups,n)&&(n.push(g),r=!0)}),r}getConfigurationFromState(e){let t=e.value;if(t)return t;throw new Error("Configuration must be defined at this point")}buildGroupForExtract(e){return{groupType:e.groupType,id:e.id,subGroups:[]}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Or=(()=>{class i{constructor(e,t,n,r,c,g){this.store=e,this.activeCartService=t,this.commonConfigUtilsService=n,this.checkoutQueryFacade=r,this.userIdService=c,this.configuratorUtilsService=g}readConfigurationForCartEntry(e){return this.store.pipe(Ie(mt(e.key)),Cn(()=>this.activeCartService.isStable().pipe(Y(t=>t))),Cn(()=>this.checkoutQueryFacade.getCheckoutDetailsState().pipe(O(t=>t.loading),Y(t=>!t))),he(t=>{this.configurationNeedsReading(t)&&this.activeCartService.requireLoadedCart().pipe(E(1)).subscribe(n=>{this.userIdService.getUserId().pipe(E(1)).subscribe(r=>{let c={userId:r,cartId:this.commonConfigUtilsService.getCartId(n),cartEntryNumber:e.id,owner:e};this.store.dispatch(new Ti(c))})})}),Y(t=>t.value!==void 0&&this.isConfigurationCreated(t.value)),O(t=>this.configuratorUtilsService.getConfigurationFromState(t)))}readConfigurationForOrderEntry(e){return this.store.pipe(Ie(mt(e.key)),he(t=>{if(this.configurationNeedsReading(t)){let n=this.commonConfigUtilsService.decomposeOwnerId(e.id);this.userIdService.getUserId().pipe(E(1)).subscribe(r=>{let c={userId:r,orderId:n.documentId,orderEntryNumber:n.entryNumber,owner:e};this.store.dispatch(new wi(c))})}}),Y(t=>t.value!==void 0&&this.isConfigurationCreated(t.value)),O(t=>this.configuratorUtilsService.getConfigurationFromState(t)))}addToCart(e,t,n,r){this.activeCartService.requireLoadedCart().pipe(E(1)).subscribe(c=>{this.userIdService.getUserId().pipe(E(1)).subscribe(g=>{let I={userId:g,cartId:this.commonConfigUtilsService.getCartId(c),productCode:e,quantity:r??1,configId:t,owner:n};this.store.dispatch(new Fi(I))})})}updateCartEntry(e){this.activeCartService.requireLoadedCart().pipe(E(1)).subscribe(t=>{this.userIdService.getUserId().pipe(E(1)).subscribe(n=>{let r={userId:n,cartId:this.commonConfigUtilsService.getCartId(t),cartEntryNumber:e.owner.id,configuration:e};this.store.dispatch(new Di(r))})})}activeCartHasIssues(){return this.activeCartService.requireLoadedCart().pipe(O(e=>e?e.entries:[]),O(e=>e?e.filter(t=>this.commonConfigUtilsService.getNumberOfIssues(t)):[]),O(e=>e.length>0))}getEntry(e){return this.activeCartService.requireLoadedCart().pipe(O(t=>t.entries?t.entries:[]),O(t=>{let n=t.filter(r=>r.entryNumber?.toString()===e);return n?n[n.length-1]:void 0}))}removeCartBoundConfigurations(){this.store.dispatch(new Ni)}isConfigurationCreated(e){return e.configId.length!==0}configurationNeedsReading(e){let t=e.value;return t===void 0||!this.isConfigurationCreated(t)&&!e.loading&&!e.error}static{this.\u0275fac=function(t){return new(t||i)(P(ut),P(Ht),P(it),P(wo),P(oo),P(Mt))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),te=(()=>{class i{constructor(e,t,n,r,c){this.store=e,this.commonConfigUtilsService=t,this.configuratorCartService=n,this.activeCartService=r,this.configuratorUtils=c,this.logger=z($e)}hasPendingChanges(e){return this.store.pipe(Ie(zt(e.key)))}isConfigurationLoading(e){return this.store.pipe(Ie(mt(e.key)),O(t=>t.loading??!1))}getConfiguration(e){return this.store.pipe(Ie(rt(e.key)),Y(t=>this.configuratorUtils.isConfigurationCreated(t)))}getOrCreateConfiguration(e,t){switch(e.type){case ce.OwnerType.CART_ENTRY:return this.configuratorCartService.readConfigurationForCartEntry(e);case ce.OwnerType.ORDER_ENTRY:case ce.OwnerType.QUOTE_ENTRY:case ce.OwnerType.SAVED_CART_ENTRY:return this.configuratorCartService.readConfigurationForOrderEntry(e);default:return this.getOrCreateConfigurationForProduct(e,t)}}updateConfiguration(e,t,n){n||(n=m.UpdateType.ATTRIBUTE),this.activeCartService.getActive().pipe(E(1),R(r=>this.activeCartService.isStable().pipe(E(1),he(c=>{ze()&&r.code&&!c&&this.logger.warn("Cart is busy, no configuration updates possible")}),Y(c=>!r.code||c),R(()=>this.store.pipe(Ie(rt(e)),E(1)))))).subscribe(r=>{this.store.dispatch(new Li(this.configuratorUtils.createConfigurationExtract(t,r,n)))})}getConfigurationWithOverview(e){return this.filterNotLoadingAndCreatedConfiguration(this.store.pipe(Ie(mt(e.owner.key)))).pipe(he(t=>{this.hasConfigurationOverview(t)||this.store.dispatch(new Qi(e))}),Y(t=>this.hasConfigurationOverview(t)))}filterNotLoadingAndCreatedConfiguration(e){return e.pipe(Y(t=>t.loading===!1),Y(t=>this.configuratorUtils.isConfigurationCreated(t.value)),O(t=>t.value))}updateConfigurationOverview(e){this.store.dispatch(new zi(e))}removeConfiguration(e){this.store.dispatch(new _t({ownerKey:e.key}))}dismissConflictSolverDialog(e){this.store.dispatch(new rn(e.key))}checkConflictSolverDialog(e){this.store.dispatch(new on(e.key))}hasConflicts(e){return this.getConfiguration(e).pipe(O(t=>t.immediateConflictResolution===!1&&t.groups[0]?.groupType===m.GroupType.CONFLICT_HEADER_GROUP))}forceNewConfiguration(e){this.store.dispatch(new _t({ownerKey:e.key})),this.store.dispatch(new ei({owner:e,configIdTemplate:void 0,forceReset:!0}))}getOrCreateConfigurationForProduct(e,t){return this.store.pipe(Ie(mt(e.key)),he(n=>{(n.value===void 0||!this.configuratorUtils.isConfigurationCreated(n.value))&&n.loading!==!0&&n.error!==!0&&this.store.dispatch(new ei({owner:e,configIdTemplate:t}))}),Y(n=>n.value!==void 0&&this.configuratorUtils.isConfigurationCreated(n.value)),O(n=>this.configuratorUtils.getConfigurationFromState(n)))}hasConfigurationOverview(e){return e.overview!==void 0}removeProductBoundConfigurations(){this.store.dispatch(new nn)}readAttributeDomain(e,t,n){this.store.pipe(Ie(rt(e.key)),E(1)).subscribe(r=>this.store.dispatch(new an({configuration:r,groupId:t.id,attributeKey:n.key??n.name})))}static{this.\u0275fac=function(t){return new(t||i)(P(ut),P(it),P(Or),P(Ht),P(Mt))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),oa=(()=>{class i{constructor(e,t){this.store=e,this.configuratorUtilsService=t}isGroupVisited(e,t){return this.store.select(na(e.key,t))}getFirstIncompleteGroup(e){return e.flatGroups?e.flatGroups.filter(t=>t.groupType!==m.GroupType.CONFLICT_GROUP).find(t=>!t.complete):void 0}setGroupStatusVisited(e,t){let n=this.configuratorUtilsService.getGroupById(e.groups,t),r=this.configuratorUtilsService.getParentGroup(e.groups,this.configuratorUtilsService.getGroupById(e.groups,t)),c=[];c.push(n.id),r&&this.getParentGroupStatusVisited(e,n.id,r,c),this.store.dispatch(new tn({entityKey:e.owner.key,visitedGroups:c}))}areGroupsVisited(e,t){return this.store.select(ra(e.key,t))}getParentGroupStatusVisited(e,t,n,r){let c=[];n.subGroups.forEach(g=>{g.id!==t&&c.push(g.id)}),this.areGroupsVisited(e.owner,c).pipe(E(1)).subscribe(g=>{if(g){r.push(n.id);let I=this.configuratorUtilsService.getParentGroup(e.groups,this.configuratorUtilsService.getGroupById(e.groups,n.id));I&&this.getParentGroupStatusVisited(e,n.id,I,r)}})}static{this.\u0275fac=function(t){return new(t||i)(P(ut),P(Mt))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),We=(()=>{class i{constructor(e,t,n,r){this.store=e,this.configuratorCommonsService=t,this.configuratorUtilsService=n,this.configuratorGroupStatusService=r}getCurrentGroupId(e){return this.configuratorCommonsService.getConfiguration(e).pipe(O(t=>t.interactionState.currentGroup?t.interactionState.currentGroup:t.groups[0]?.id))}getFirstConflictGroup(e){return e.flatGroups.find(t=>t.groupType===m.GroupType.CONFLICT_GROUP)}navigateToFirstIncompleteGroup(e){this.configuratorCommonsService.getConfiguration(e).pipe(E(1)).subscribe(t=>{let n=this.configuratorGroupStatusService.getFirstIncompleteGroup(t)?.id;n&&this.navigateToGroup(t,n,!0)})}navigateToConflictSolver(e){this.configuratorCommonsService.getConfiguration(e).pipe(E(1)).subscribe(t=>{let n=this.getFirstConflictGroup(t)?.id;n&&this.navigateToGroup(t,n,!0,!0)})}getMenuParentGroup(e){return this.configuratorCommonsService.getConfiguration(e).pipe(O(t=>{let n=t.interactionState.menuParentGroup;return n?this.configuratorUtilsService.getOptionalGroupById(t.groups,n):void 0}))}setMenuParentGroup(e,t){this.store.dispatch(new ii({entityKey:e.key,menuParentGroup:t}))}getCurrentGroup(e){return this.getCurrentGroupId(e).pipe(R(t=>this.configuratorCommonsService.getConfiguration(e).pipe(O(n=>this.configuratorUtilsService.getGroupById(n.groups,t)))))}getConflictGroupForImmediateConflictResolution(e){return this.configuratorCommonsService.getConfiguration(e).pipe(Me(0),O(t=>{if(t.interactionState.showConflictSolverDialog)return t.flatGroups.find(n=>n.groupType===m.GroupType.CONFLICT_GROUP)}))}setGroupStatusVisited(e,t){this.configuratorCommonsService.getConfiguration(e).pipe(O(n=>this.configuratorGroupStatusService.setGroupStatusVisited(n,t)),E(1)).subscribe()}navigateToGroup(e,t,n=!0,r=!1){n&&this.getCurrentGroup(e.owner).pipe(E(1)).subscribe(g=>{this.configuratorGroupStatusService.setGroupStatusVisited(e,g.id)});let c=this.configuratorUtilsService.getParentGroup(e.groups,this.configuratorUtilsService.getGroupById(e.groups,t));this.store.dispatch(new ti({configuration:e,groupId:t,parentGroupId:c?c.id:void 0,conflictResolutionMode:r}))}getNextGroupId(e){return this.getNeighboringGroupId(e,1)}getNextGroupDescription(e){return this.getNextGroupId(e.owner).pipe(O(t=>t?this.getDescriptionForGroupId(t,e):""))}getDescriptionForGroupId(e,t){return e&&this.configuratorUtilsService.getGroupById(t.groups,e).description||""}getPreviousGroupId(e){return this.getNeighboringGroupId(e,-1)}getPreviousGroupDescription(e){return this.getPreviousGroupId(e.owner).pipe(O(t=>t?this.getDescriptionForGroupId(t,e):""))}isGroupVisited(e,t){return this.configuratorGroupStatusService.isGroupVisited(e,t)}getParentGroup(e,t){return this.configuratorUtilsService.getParentGroup(e,t)}hasSubGroups(e){return this.configuratorUtilsService.hasSubGroups(e)}isConflictGroupInImmediateConflictResolutionMode(e,t=!1){return e?e===m.GroupType.CONFLICT_GROUP&&t:!1}getNeighboringGroupId(e,t){return this.getCurrentGroupId(e).pipe(R(n=>this.configuratorCommonsService.getConfiguration(e).pipe(O(r=>{let c;return r.flatGroups.forEach((g,I)=>{g.id===n&&r.flatGroups&&r.flatGroups[I+t]&&!this.isConflictGroupInImmediateConflictResolutionMode(r.flatGroups[I+t]?.groupType,r.immediateConflictResolution)&&(c=r.flatGroups[I+t].id)}),c}),E(1))))}isConflictGroupType(e){return e===m.GroupType.CONFLICT_HEADER_GROUP||e===m.GroupType.CONFLICT_GROUP}static{this.\u0275fac=function(t){return new(t||i)(P(ut),P(te),P(Mt),P(oa))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),se=(()=>{class i{constructor(e,t,n){this.configuratorGroupsService=e,this.windowRef=t,this.keyboardFocusService=n,this.productService=z(He),this.routingService=z(Ze),this.CX_PREFIX="cx",this.SEPARATOR="--",this.CONFIGURATOR_PREFIX=this.CX_PREFIX+"-configurator",this.ADD_TO_CART_BUTTON_HEIGHT=82,this.logger=z($e)}isCartEntryOrGroupVisited(e,t){return this.configuratorGroupsService.isGroupVisited(e,t).pipe(E(1),O(n=>n?!0:e.type===ce.OwnerType.CART_ENTRY))}assembleValuesForMultiSelectAttributes(e,t){let n=[];for(let r=0;r<e.length;r++){let c=t.values?t.values[r]:void 0;if(c){let g={valueCode:c.valueCode};g.name=c.name,g.quantity=c.quantity,g.selected=e[r].value,n.push(g)}else ze()&&this.logger.warn("ControlArray does not match values, at least one value could not been found")}return n}scroll(e){let t=0;e instanceof HTMLElement&&(t=e.offsetTop),this.windowRef.nativeWindow?.scroll(0,t)}scrollToConfigurationElement(e){if(this.windowRef.isBrowser()){let t=this.getElement(e);t&&this.scroll(t)}}focusFirstAttribute(){this.focusFirstActiveElement("cx-configurator-form")}focusFirstActiveElement(e){if(!this.windowRef.isBrowser())return;let t=this.getElement(e);if(t){let n=this.keyboardFocusService.findFocusable(t);n&&n.length>0&&n[0].focus()}}getFocusableElementById(e,t){return e.find(n=>{if(t&&(n.nodeName.toLocaleLowerCase().indexOf(t)!==-1||n.id.indexOf(t)!==-1))return n})}getFocusableConflictDescription(e){return this.getFocusableElementById(e,"cx-configurator-conflict-description")}getFocusableElementByValueUiKey(e,t){return this.getFocusableElementById(e,t)}getFocusableElementByAttributeId(e,t){return this.getFocusableElementById(e,t)}createAttributeValueUiKey(e,t){return e+this.SEPARATOR+t}createAttributeUiKey(e,t){return this.CONFIGURATOR_PREFIX+this.SEPARATOR+e+this.SEPARATOR+t}focusValue(e){if(!this.windowRef.isBrowser())return;let t=this.getElement("cx-configurator-form");if(t){let n=this.keyboardFocusService.findFocusable(t);n.length>0&&this.focusOnElements(n,e)}}focusOnElements(e,t){let n=this.getFocusableConflictDescription(e);n||(n=this.focusOnElementForConflicting(t,n,e)),n&&n.focus()}focusOnElementForConflicting(e,t,n){let r=e.values?.find(c=>c.selected);if(r){let c=this.createAttributeValueUiKey(e.name,r.valueCode);t=this.getFocusableElementByValueUiKey(n,c)}return t||(t=this.getFocusableElementByAttributeId(n,e.name)),t}getPrefixId(e,t){return e?e+this.SEPARATOR+t:this.CX_PREFIX+this.SEPARATOR+t}createGroupId(e){if(e)return e+"-group"}createOvGroupId(e,t){return this.getPrefixId(e,t)+"-ovGroup"}createOvMenuItemId(e,t){return this.getPrefixId(e,t)+"-ovMenuItem"}setFocus(e,t){e&&this.keyboardFocusService.set(e,t)}changeStyling(e,t,n){let r=this.getElement(e);r&&r.style.setProperty(t,n)}removeStyling(e,t){let n=this.getElement(e);n&&n.style.removeProperty(t)}getElement(e){if(this.windowRef.isBrowser())return this.windowRef.document.querySelector(e)}getElements(e){if(this.windowRef.isBrowser())return Array.from(this.windowRef.document.querySelectorAll(e))}getVerticallyScrolledPixels(){if(this.windowRef.isBrowser())return this.windowRef.nativeWindow?.scrollY}hasScrollbar(e){let t=this.getElement(e);return t?t.scrollHeight>t.clientHeight:!1}isInViewport(e){if(e){let t=e.getBoundingClientRect(),n=e.offsetHeight,r=e.offsetWidth;return t.top>=-n&&t.left>=-r&&t.right<=(this.windowRef.nativeWindow?.innerWidth||e.clientWidth)+r&&t.bottom<=(this.windowRef.nativeWindow?.innerHeight||e.clientHeight)+n}return!1}getHeight(e){let t=this.getElement(e);return this.isInViewport(t)&&t?.offsetHeight?t?.offsetHeight:0}getSpareViewportHeight(){if(this.windowRef.isBrowser()){let e=this.getHeight("header"),t=this.getHeight(".VariantConfigOverviewHeader"),n=this.getHeight("cx-configurator-add-to-cart-button")!==0?this.getHeight("cx-configurator-add-to-cart-button"):this.ADD_TO_CART_BUTTON_HEIGHT,r=e+t+n*2;return this.windowRef.nativeWindow?this.windowRef.nativeWindow.innerHeight-r:0}return 0}ensureElementVisible(e,t){let n=this.getElement(e);if(t&&n)if(t.offsetTop>n.scrollTop){let r=t.offsetTop+t.offsetHeight;r>n.scrollTop&&(n.scrollTop=r-n.offsetHeight)}else n.scrollTop=t.getBoundingClientRect()?.top-10}isDisplayOnlyVariant(){return this.routingService.getRouterState().pipe(R(e=>e.state.params.displayOnly&&e.state.queryParams.productCode?this.productService.get(e.state.queryParams.productCode,_i.LIST):Se(void 0)),O(e=>(e&&!!e.baseProduct)??!1))}setLastSelected(e,t){this.lastSelected={attributeName:e,valueCode:t}}isLastSelected(e,t){return!!this.lastSelected&&this.lastSelected.attributeName===e&&this.lastSelected.valueCode===t}static{this.\u0275fac=function(t){return new(t||i)(P(We),P(Et),P(et))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),aa=(()=>{class i{constructor(){this._quantity=new oi(1)}setQuantity(e){this._quantity.next(e)}getQuantity(){return this._quantity}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Fo="cx-configurator-add-to-cart-button",Cp=(()=>{class i{constructor(e,t,n,r,c,g,I,C,v,K,re){this.routingService=e,this.configuratorCommonsService=t,this.configuratorCartService=n,this.configuratorGroupsService=r,this.configRouterExtractorService=c,this.globalMessageService=g,this.orderHistoryFacade=I,this.commonConfiguratorUtilsService=C,this.configUtils=v,this.intersectionService=K,this.configuratorQuantityService=re,this.subscription=new Ve,this.multiCartFacade=z(So),this.focusService=z(et),this.activeCartFacade=z(Ht),this.quantityControl=new Te(1),this.iconType=pe,this.container$=this.configRouterExtractorService.extractRouterData().pipe(R(It=>this.configuratorCommonsService.getConfiguration(It.owner).pipe(O(Gt=>({routerData:It,configuration:Gt}))).pipe(R(Gt=>this.configuratorCommonsService.hasPendingChanges(Gt.configuration.owner).pipe(O(Ia=>({routerData:Gt.routerData,configuration:Gt.configuration,hasPendingChanges:Ia})))))))}ngOnInit(){this.makeAddToCartButtonSticky(),this.configuratorQuantityService.getQuantity().pipe(E(1)).subscribe(e=>{this.quantityControl.setValue(e)}),this.subscription.add(this.quantityControl.valueChanges.pipe(Tt()).subscribe(()=>this.configuratorQuantityService.setQuantity(this.quantityControl.value)))}navigateToCart(){this.routingService.go("cart")}navigateToOverview(e,t,n){this.routingService.go({cxRoute:"configureOverview"+e,params:{ownerType:"cartEntry",entityKey:t.id}},{queryParams:{productCode:n}}).then(()=>{this.focusOverviewInTabBar()})}focusOverviewInTabBar(){this.configRouterExtractorService.extractRouterData().pipe(R(e=>this.configuratorCommonsService.getConfiguration(e.owner)),Y(e=>e.overview!=null),E(1),Me(0)).subscribe(()=>{this.focusService.clear(),this.configUtils.focusFirstActiveElement("cx-configurator-tab-bar")})}displayConfirmationMessage(e){this.globalMessageService.add({key:e},Dn.MSG_TYPE_CONFIRMATION)}isQuoteCartActive(){return this.activeCartFacade.getActive().pipe(O(e=>e.quoteCode!==void 0))}getTranslationKeyForAddToCart(e){return this.isQuoteCartActive().pipe(O(t=>t?"configurator.addToCart.confirmationQuoteUpdate":e?"configurator.addToCart.confirmation":"configurator.addToCart.confirmationUpdate"))}performNavigation(e,t,n,r,c,g){r?this.navigateToCart():this.navigateToOverview(e,t,g),c&&this.getTranslationKeyForAddToCart(n).pipe(E(1)).subscribe(I=>{this.displayConfirmationMessage(I)})}getButtonResourceKey(e,t,n=!1){return(e.isOwnerCartEntry||n)&&t.isCartEntryUpdateRequired?"configurator.addToCart.buttonUpdateCart":e.isOwnerCartEntry&&!t.isCartEntryUpdateRequired?n?"configurator.addToCart.buttonForQuote":"configurator.addToCart.buttonAfterAddToCart":"configurator.addToCart.button"}isCartEntry(e){return e.isOwnerCartEntry?e.isOwnerCartEntry:!1}onAddToCart(e,t){let n=t.pageType,r=e.owner.configuratorType,c=n===At.PageType.OVERVIEW,g=t.owner.type===ce.OwnerType.CART_ENTRY,I=e.owner,C=t.productCode?t.productCode:e.productCode,v=e.interactionState.currentGroup;v&&this.configuratorGroupsService.setGroupStatusVisited(e.owner,v),this.container$.pipe(Y(K=>!K.hasPendingChanges),E(1)).subscribe(()=>{g?this.onUpdateCart(e,r,I,c,C):this.onAddToCartForProduct(I,e,r,c,C)})}onAddToCartForProduct(e,t,n,r,c){let g=this.quantityControl.value;this.configuratorCartService.addToCart(e.id,t.configId,e,g),this.configuratorCommonsService.getConfiguration(e).pipe(Y(I=>I.nextOwner!==void 0),E(1)).subscribe(I=>{this.navigateForProductBound(I,n,r,c)})}navigateForProductBound(e,t,n,r){let c=e.nextOwner??tt.createInitialOwner();this.performNavigation(t,c,!0,n,!0,r),n||this.configuratorCommonsService.removeConfiguration(c)}onUpdateCart(e,t,n,r,c){e.isCartEntryUpdateRequired&&this.configuratorCartService.updateCartEntry(e),this.performNavigation(t,n,!1,r,e.isCartEntryUpdateRequired??!1,c),e.isCartEntryUpdateRequired&&!r&&this.configuratorCommonsService.removeConfiguration(n)}leaveConfigurationOverview(){this.container$.pipe(E(1)).subscribe(e=>{e.routerData.owner.type===ce.OwnerType.ORDER_ENTRY?this.goToOrderDetails(e.routerData.owner):e.routerData.owner.type===ce.OwnerType.QUOTE_ENTRY?this.goToQuoteDetails(e.routerData.owner):e.routerData.owner.type===ce.OwnerType.SAVED_CART_ENTRY?this.goToSavedCartDetails(e.routerData.owner):e.routerData.owner.type===ce.OwnerType.CART_ENTRY&&!e.routerData.navigateToCheckout?this.routingService.go({cxRoute:"cart"}):e.routerData.owner.type===ce.OwnerType.PRODUCT?this.routingService.go({cxRoute:"product",params:{code:e.routerData.owner.id}}):this.routingService.go({cxRoute:"checkoutReviewOrder"})})}goToOrderDetails(e){this.orderHistoryFacade.loadOrderDetails(this.commonConfiguratorUtilsService.decomposeOwnerId(e.id).documentId),this.orderHistoryFacade.getOrderDetails().pipe(Y(t=>t!==void 0),E(1)).subscribe(t=>this.routingService.go({cxRoute:"orderDetails",params:t}))}goToQuoteDetails(e){let t=this.commonConfiguratorUtilsService.decomposeOwnerId(e.id);this.routingService.go({cxRoute:"quoteDetails",params:{quoteId:t.documentId}})}goToSavedCartDetails(e){let t=this.commonConfiguratorUtilsService.decomposeOwnerId(e.id);this.multiCartFacade.getCart(t.documentId).pipe(E(1)).subscribe(n=>{this.routingService.go({cxRoute:"quoteDetails",params:{quoteId:n.quoteCode}})})}extractConfigPrices(e){let t=e.priceSummary,n=t?.basePrice?.formattedValue,r=t?.selectedOptions?.formattedValue,c=t?.currentTotal?.formattedValue,g={basePrice:n,selectedOptions:r,totalPrice:c};return(!n||n==="-")&&(g.basePrice="0"),(!r||r==="-")&&(g.selectedOptions="0"),(!c||c==="-")&&(g.totalPrice="0"),g}makeAddToCartButtonSticky(){let e={rootMargin:"9999px 0px -100px 0px"};this.subscription.add(this.container$.pipe(E(1),Me(0),O(()=>this.configUtils.getElement("cx-configurator-price-summary")),R(t=>t?this.intersectionService.isIntersecting(t,e):Se(void 0)),Y(t=>t!==void 0)).subscribe(t=>{t?this.configUtils.changeStyling(Fo,"position","sticky"):this.configUtils.changeStyling(Fo,"position","fixed")}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)(h(Ze),h(te),h(Or),h(We),h(ve),h(Rn),h(Eo),h(it),h(se),h(_o),h(aa))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-add-to-cart-button"]],standalone:!1,decls:2,vars:3,consts:[["displayOnly",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"cx-add-to-cart-btn-container"],[1,"cx-quantity-add-to-cart-container"],[1,"cx-quantity-add-to-cart-row"],[1,"cx-quantity"],[3,"control"],[1,"cx-btn","btn","btn-block","btn-primary","cx-add-to-cart-btn",3,"click","title"],[3,"type"],[1,"cx-btn","btn","btn-block","btn-primary","cx-add-to-cart-btn",3,"click"],[1,"cx-display-only-btn-container"],[1,"cx-btn","btn","btn-block","btn-secondary","cx-display-only-btn",3,"click"]],template:function(t,n){t&1&&(_(0,Oa,4,2,"ng-container",1),d(1,"async")),t&2&&s("ngIf",f(1,1,n.container$))},dependencies:[W,kn,xe,J,ee],encapsulation:2,changeDetection:0})}}return i})(),yp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorAddToCartButton:{component:Cp}}})],imports:[L,Q,xi,be]})}}return i})(),xp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:function(t){let n=null;return t?n=new(t||i):n=P(Ke),n},providedIn:"root"})}}return i})(),Oe=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac})}}return i})(),bp=(()=>{class i{constructor(e,t){this.vcr=e,this.configuratorAttributeCompositionConfig=t,this.logger=z($e),this.featureConfigService=z(pt),this.attrComponentAssignment=this.configuratorAttributeCompositionConfig.productConfigurator?.assignment??[]}ngOnInit(){if(!this.featureConfigService.isEnabled("productConfiguratorDeltaRendering")){let e=this.context.componentKey;this.renderComponent(this.attrComponentAssignment[e],e)}}ngOnChanges(){if(this.featureConfigService.isEnabled("productConfiguratorDeltaRendering")){let e=!Fn.deepEqualObjects(this.lastRenderedAttribute,this.context.attribute),t=this.lastRenderedGroupId!==this.context.group.id;if(e||t){let n=this.context.componentKey;this.renderComponent(this.attrComponentAssignment[n],n)}}}renderComponent(e,t){e?(this.lastRenderedAttribute=this.context.attribute,this.lastRenderedGroupId=this.context.group.id,this.vcr.clear(),this.vcr.createComponent(e,{injector:this.getComponentInjector()})):ze()&&this.logger.warn("No attribute type component available for: "+t)}getComponentInjector(){return jr.create({providers:[{provide:Oe,useValue:this.context}],parent:this.vcr.injector})}static{this.\u0275fac=function(t){return new(t||i)(h(Kr),h(xp))}}static{this.\u0275dir=ui({type:i,selectors:[["","cxConfiguratorAttributeComponent",""]],inputs:{context:[0,"cxConfiguratorAttributeComponent","context"]},standalone:!1,features:[yn]})}}return i})(),ca=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({imports:[L]})}}return i})(),Pt=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:function(t){let n=null;return t?n=new(t||i):n=P(Ke),n},providedIn:"root"})}}return i})(),ot=(()=>{class i{constructor(){this.configuratorRouterExtractorService=z(ve),this.configuratorCommonsService=z(te)}getChangedPrices(e){let t=!0;return this.configuratorRouterExtractorService.extractRouterData().pipe(R(n=>this.configuratorCommonsService.getConfiguration(n.owner).pipe(Y(r=>t||!!r.priceSupplements),R(r=>{if(!r.priceSupplements)return Se({});let c=this.checkForValuePriceChanges(r,e);return c?Se(c):vn}),he(()=>t=!1))),kr({bufferSize:1,refCount:!0}))}checkForValuePriceChanges(e,t){let n=e.priceSupplements?.find(c=>c.attributeUiKey===t);if(!Fn.deepEqualObjects(this.lastAttributeSupplement??{},n??{})){let c={};return this.lastAttributeSupplement=n,n?.valueSupplements.forEach(g=>c[g.attributeValueKey]=g.priceValue),c}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac})}}return i})(),qe=(()=>{class i{constructor(){this.configuratorUISettingsConfig=z(Pt),this.translation=z(Ee),this.configuratorAttributePriceChangeService=z(ot,{optional:!0}),this.configuratorStorefrontUtilsService=z(se),this._featureConfigService=z(pt),this.changedPrices$=Se({})}static{this.SEPERATOR="--"}static{this.PREFIX="cx-configurator"}static{this.PREFIX_LABEL="label"}static{this.PREFIX_OPTION_PRICE_VALUE="price--optionsPriceValue"}static{this.PREFIX_DDLB_OPTION_PRICE_VALUE="option--price"}static{this.MAX_IMAGE_LABEL_CHARACTERS=16}initPriceChangedEvent(e=!1,t){e&&this.configuratorAttributePriceChangeService&&this._featureConfigService.isEnabled("productConfiguratorDeltaRendering")&&(this.listenForPriceChanges=!0,this.changedPrices$=this.configuratorAttributePriceChangeService.getChangedPrices(t))}createValueUiKey(e,t,n){return this.createAttributeUiKey(e,t)+i.SEPERATOR+n}createAttributeValueIdForConfigurator(e,t){return this.createValueUiKey(this.getUiType(e),e.name,t)}getUiType(e){return e.uiType?e.uiType:m.UiType.NOT_IMPLEMENTED}createAttributeUiKey(e,t){return i.PREFIX+i.SEPERATOR+e+i.SEPERATOR+t}createAttributeIdForConfigurator(e){return this.createAttributeUiKey(this.getUiType(e),e.name)}createAriaLabelledBy(e,t,n,r){let c=this.createAttributeUiKey(i.PREFIX_LABEL,t);return n&&(c+=" "+this.createAttributeUiKey(e,t)+i.SEPERATOR+n+" ",typeof r=="boolean"&&!r?c+=this.createAttributeUiKey(i.PREFIX_DDLB_OPTION_PRICE_VALUE,t)+i.SEPERATOR+n:c+=this.createAttributeUiKey(i.PREFIX_OPTION_PRICE_VALUE,t)+i.SEPERATOR+n),c}createFocusId(e,t){return`${e}--${t}--focus`}getLabel(e,t,n,r){let c=t||"";return e&&n&&(c+=` / [${n}]`),c+=this.getValuePrice(r),c}getImageLabel(e,t,n,r){let c=this.getLabel(e,t,n,r);return c?.trim().length>=i.MAX_IMAGE_LABEL_CHARACTERS?c.substring(0,i.MAX_IMAGE_LABEL_CHARACTERS).concat("..."):c}getImage(e){let t=e.images;return t?t[0]:void 0}getAriaLabelForValueWithPrice(e){return e?"configurator.a11y.readOnlyValueOfAttributeFullWithPrice":"configurator.a11y.valueOfAttributeFullWithPrice"}getAriaLabelForValue(e){return e?"configurator.a11y.readOnlyValueOfAttributeFull":"configurator.a11y.valueOfAttributeFull"}getImgStyleClasses(e,t,n){return this.isReadOnly(e)||(n+=" cx-img-hover",t.selected&&(n+=" cx-img-selected")),n}getValuePrice(e){if(e?.valuePrice?.value&&!e.selected){if(e.valuePrice.value<0)return` [${e.valuePrice?.formattedValue}]`;if(e.valuePrice.value>0)return` [+${e.valuePrice?.formattedValue}]`}return""}getAttributeCode(e){let t=e.attrCode;if(t)return t;throw new Error("No attribute code for: "+e.name)}isWithAdditionalValues(e){let t=e.uiType;return t===m.UiType.RADIOBUTTON_ADDITIONAL_INPUT||t===m.UiType.DROPDOWN_ADDITIONAL_INPUT}isRequiredErrorMsg(e){return e.required&&e.incomplete||!1}isUserInput(e){return e.uiType===m.UiType.STRING||e.uiType===m.UiType.NUMERIC}isDropDown(e){return e.uiType===m.UiType.DROPDOWN||e.uiType===m.UiType.DROPDOWN_PRODUCT}getSelectedValue(e){return e.values?.find(t=>t.selected)}isNoValueSelected(e){let t=this.getSelectedValue(e);return t?t.valueCode===m.RetractValueCode:!0}getValueDescriptionLength(){return this.configuratorUISettingsConfig.productConfigurator?.descriptions?.valueDescriptionLength??70}isReadOnly(e){return e.uiType?e.uiType===m.UiType.READ_ONLY||e.uiType===m.UiType.READ_ONLY_SINGLE_SELECTION_IMAGE||e.uiType===m.UiType.READ_ONLY_MULTI_SELECTION_IMAGE:!1}isValueDisplayed(e,t){return this.isReadOnly(e)&&t.selected||!this.isReadOnly(e)}getAriaLabelGeneric(e,t,n=!1){let r="";if(t){let c={value:t.valueDisplay,attribute:e.label},g=n&&t.selected,I=g?"configurator.a11y.selectedValueOfAttributeFullWithPrice":this.getAriaLabelForValueWithPrice(this.isReadOnly(e));t.valuePriceTotal&&t.valuePriceTotal?.value!==0?c.price=t.valuePriceTotal.formattedValue:t.valuePrice&&t.valuePrice?.value!==0?c.price=t.valuePrice.formattedValue:I=g?"configurator.a11y.selectedValueOfAttributeFull":this.getAriaLabelForValue(this.isReadOnly(e)),this.translation.translate(I,c).pipe(E(1)).subscribe(C=>r=C)}return r}extractValuePriceFormulaParameters(e){return{quantity:e?.quantity,price:e?.valuePrice,priceTotal:e?.valuePriceTotal,isLightedUp:e?.selected}}enrichValueWithPrice(e,t){if(e&&t&&e.valueCode in t){let n=t[e.valueCode];n&&(e=N(A({},e),{valuePrice:n}))}return e}isLastSelected(e,t){return this.configuratorStorefrontUtilsService.isLastSelected(e,t)}}return i})(),Ip=(()=>{class i extends qe{constructor(e,t){super(),this.configUtils=e,this.attributeComponentContext=t,this.iconType=pe,this.attribute=t.attribute,this.owner=t.owner,this.groupId=t.group.id}ngOnInit(){this.showRequiredMessageForUserInput$=this.configUtils.isCartEntryOrGroupVisited(this.owner,this.groupId).pipe(O(e=>e?this.needsRequiredAttributeErrorMsg():!1))}needsRequiredAttributeErrorMsg(){return this.needsUserInputMsg()||this.needsDropDownMsg()}needsDropDownMsg(){return this.isRequiredErrorMsg(this.attribute)&&this.isDropDown(this.attribute)&&this.isNoValueSelected(this.attribute)}isUserInputEmpty(e){return e!==void 0&&(!e.trim()||e.length===0)}needsUserInputMsg(){return this.isRequiredErrorMsg(this.attribute)&&this.isUserInput(this.attribute)&&this.isUserInputEmpty(this.attribute.userInput)}static{this.\u0275fac=function(t){return new(t||i)(h(se),h(Oe))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-footer"]],standalone:!1,features:[ye],decls:2,vars:3,consts:[["class","cx-required-error-msg","aria-live","assertive","aria-atomic","true","role","alert",3,"id",4,"ngIf"],["aria-live","assertive","aria-atomic","true","role","alert",1,"cx-required-error-msg",3,"id"],[3,"type"],[4,"ngIf"]],template:function(t,n){t&1&&(_(0,Da,6,9,"div",0),d(1,"async")),t&2&&s("ngIf",f(1,1,n.showRequiredMessageForUserInput$))},dependencies:[W,xe,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Tp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({productConfigurator:{assignment:{Footer:Ip}}})],imports:[ue,le,L,Q,be]})}}return i})(),ht=(()=>{class i{constructor(e){this.cdRef=e,this.showMore=!1,this.showHiddenText=!1,this.textSize=60,this.tabIndex=-1}ngAfterViewInit(){this.textNormalized=this.normalize(this.text),this.textNormalized.length>this.textSize?(this.showMore=!0,this.textToShow=this.textNormalized.substring(0,this.textSize)):this.textToShow=this.textNormalized,this.cdRef.detectChanges()}toggleShowMore(){this.showHiddenText=!this.showHiddenText,this.showHiddenText?this.textToShow=this.textNormalized:this.textToShow=this.textNormalized.substring(0,this.textSize),this.cdRef.detectChanges()}normalize(e=""){return e.replace(/<[^>]*>/g,"")}static{this.\u0275fac=function(t){return new(t||i)(h(Qr))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-show-more"]],inputs:{text:"text",textSize:"textSize",productName:"productName",tabIndex:"tabIndex"},standalone:!1,decls:1,vars:1,consts:[["less",""],[4,"ngIf"],[3,"innerHTML"],[3,"tabindex","click",4,"ngIf"],[3,"click","tabindex"],[4,"ngIf","ngIfElse"]],template:function(t,n){t&1&&_(0,Pa,3,2,"ng-container",1),t&2&&s("ngIf",n.text)},dependencies:[W,ee],encapsulation:2,changeDetection:0})}}return i})(),Sp=(()=>{class i{constructor(e){this.configuratorStorefrontUtilsService=e,this.configuratorCommonsService=z(te)}showOptions(){this.configuratorCommonsService.readAttributeDomain(this.attributeComponentContext.owner,this.attributeComponentContext.group,this.attributeComponentContext.attribute),this.focusFirstValue()}focusFirstValue(){this.configuratorCommonsService.isConfigurationLoading(this.attributeComponentContext.owner).pipe(Tt(),Y(e=>!e),E(1),Me(0)).subscribe(()=>this.configuratorStorefrontUtilsService.focusFirstActiveElement("#"+this.configuratorStorefrontUtilsService.createAttributeUiKey("group-attribute",this.attributeComponentContext.attribute.name)))}static{this.\u0275fac=function(t){return new(t||i)(h(se))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-show-options"]],inputs:{attributeComponentContext:"attributeComponentContext"},standalone:!1,decls:6,vars:13,consts:[["tabindex","0",1,"btn","btn-tertiary",3,"click"]],template:function(t,n){t&1&&(x(0),l(1,"button",0),d(2,"cxTranslate"),d(3,"cxTranslate"),V("click",function(){return n.showOptions()}),y(4),d(5,"cxTranslate"),p(),b()),t&2&&(a(),M("title",f(2,4,"configurator.button.showOptions"))("aria-label",$(3,6,"configurator.a11y.showOptionsForAttribute",G(11,Qe,n.attributeComponentContext.attribute.label)))("aria-describedby","cx-configurator--label--"+n.attributeComponentContext.attribute.name),a(3),S(" ",f(5,9,"configurator.button.showOptions")," "))},dependencies:[ee],encapsulation:2})}}return i})(),Ep=(()=>{class i extends qe{constructor(e,t,n,r,c){super(),this.configUtils=e,this.configuratorCommonsService=t,this.configuratorGroupsService=n,this.configuratorUiSettings=r,this.attributeComponentContext=c,this.iconTypes=pe,this.logger=z($e),this.config=z(Ke),this.attribute=c.attribute,this.owner=c.owner,this.groupId=c.group.id,this.groupType=c.group.groupType??m.GroupType.ATTRIBUTE_GROUP,this.expMode=c.expMode,this.isNavigationToGroupEnabled=c.isNavigationToGroupEnabled??!1}ngOnInit(){this.showRequiredMessageForDomainAttribute$=this.configUtils.isCartEntryOrGroupVisited(this.owner,this.groupId).pipe(O(e=>e&&this.needsRequiredAttributeErrorMsg()))}getRequiredMessageKey(){return this.isSingleSelection()?this.isWithAdditionalValues(this.attribute)?"configurator.attribute.singleSelectAdditionalRequiredMessage":"configurator.attribute.singleSelectRequiredMessage":this.isMultiSelection?"configurator.attribute.multiSelectRequiredMessage":"configurator.attribute.singleSelectRequiredMessage"}get isMultiSelection(){switch(this.attribute.uiType){case m.UiType.CHECKBOXLIST:case m.UiType.CHECKBOXLIST_PRODUCT:case m.UiType.MULTI_SELECTION_IMAGE:return!0}return!1}isSingleSelection(){switch(this.attribute.uiType){case m.UiType.RADIOBUTTON:case m.UiType.RADIOBUTTON_ADDITIONAL_INPUT:case m.UiType.RADIOBUTTON_PRODUCT:case m.UiType.CHECKBOX:case m.UiType.DROPDOWN_ADDITIONAL_INPUT:case m.UiType.SINGLE_SELECTION_IMAGE:return!0}return!1}isAttributeWithoutErrorMsg(e){switch(e){case m.UiType.NOT_IMPLEMENTED:case m.UiType.STRING:case m.UiType.NUMERIC:case m.UiType.CHECKBOX:case m.UiType.DROPDOWN:case m.UiType.DROPDOWN_PRODUCT:return!1}return!0}needsRequiredAttributeErrorMsg(){return this.isRequiredAttributeWithoutErrorMsg()}isRequiredAttributeWithoutErrorMsg(){return this.isRequiredErrorMsg(this.attribute)&&this.isAttributeWithoutErrorMsg(this.attribute.uiType)}isAttributeGroup(){return m.GroupType.ATTRIBUTE_GROUP===this.groupType}isConflictResolutionActive(){return this.isAttributeGroup()&&this.isNavigationToGroupEnabled}getConflictMessageKey(){return this.groupType===m.GroupType.CONFLICT_GROUP?"configurator.conflict.viewConfigurationDetails":this.isNavigationToConflictEnabled()?"configurator.conflict.viewConflictDetails":"configurator.conflict.conflictDetected"}get hasImage(){let e=this.attribute.images;return e?e.length>0:!1}get image(){let e=this.attribute.images;return e&&this.hasImage?e[0]:void 0}navigateToGroup(){this.configuratorCommonsService.getConfiguration(this.owner).pipe(E(1)).subscribe(e=>{let t;this.groupType===m.GroupType.CONFLICT_GROUP?t=this.attribute.groupId:t=this.findConflictGroupId(e,this.attribute),t?(this.configuratorGroupsService.navigateToGroup(e,t),this.focusValue(this.attribute),this.scrollToAttribute(this.attribute.name)):this.logError("Attribute was not found in any conflict group. Note that for this navigation, commerce 22.05 or later is required.")})}scrollToAttribute(e){this.onNavigationCompleted(()=>this.configUtils.scrollToConfigurationElement("#"+this.createAttributeUiKey("label",e)))}findConflictGroupId(e,t){return e.flatGroups.filter(n=>n.groupType===m.GroupType.CONFLICT_GROUP).find(n=>n.attributes?.find(r=>r.key===t.key))?.id}logError(e){ze()&&this.logger.error(e)}focusValue(e){this.onNavigationCompleted(()=>this.configUtils.focusValue(e))}onNavigationCompleted(e){this.configuratorCommonsService.isConfigurationLoading(this.owner).pipe(Y(t=>t),E(1),R(()=>this.configuratorCommonsService.isConfigurationLoading(this.owner).pipe(Y(t=>!t),E(1),Me(0)))).subscribe(e)}isNavigationToConflictEnabled(){return this.isNavigationToGroupEnabled}getAttributeDescriptionLength(){return this.configuratorUISettingsConfig.productConfigurator?.descriptions?.attributeDescriptionLength??100}static{this.\u0275fac=function(t){return new(t||i)(h(se),h(te),h(We),h(Pt),h(Oe))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-header"]],standalone:!1,features:[ye],decls:12,vars:9,consts:[["conflictGroup",""],["withoutLink",""],["class","cx-hidden-msg",4,"ngIf"],[4,"ngIf"],[3,"text","textSize","productName","tabIndex",4,"ngIf"],["class","cx-conflict-msg",3,"id",4,"ngIf"],["class","cx-required-error-msg",3,"id",4,"ngIf"],["class","cx-attribute-img",3,"src","alt","title",4,"ngIf"],[1,"cx-hidden-msg"],["aria-hidden","true",3,"type"],[3,"id"],[1,"cx-header-label-container"],[3,"attributeComponentContext",4,"ngIf"],[3,"attributeComponentContext"],[3,"text","textSize","productName","tabIndex"],[1,"cx-conflict-msg",3,"id"],["aria-hidden","true",3,"type",4,"ngIf"],[4,"ngIf","ngIfElse"],["tabindex","0","role","link",1,"link","cx-action-link",3,"click","keydown.enter"],[1,"cx-required-error-msg",3,"id"],[3,"type"],[1,"cx-attribute-img",3,"src","alt","title"],["class","link cx-action-link","tabindex","0","role","link",3,"click","keydown.enter",4,"ngIf"],[1,"cx-conflict-msg"]],template:function(t,n){t&1&&(_(0,Va,4,4,"div",2)(1,Ga,7,20,"ng-container",3)(2,Ba,9,21,"ng-container",3)(3,La,1,4,"cx-configurator-show-more",4)(4,qa,4,10,"div",5)(5,Ka,5,8,"div",6),d(6,"async"),_(7,Ha,1,3,"img",7)(8,Wa,1,1,"ng-template",null,0,de)(10,Ya,3,3,"ng-template",null,1,de)),t&2&&(s("ngIf",!n.attribute.visible),a(),s("ngIf",!(n.config.features!=null&&n.config.features.enableReadDomainValuesOnDemand)),a(),s("ngIf",n.config.features==null?null:n.config.features.enableReadDomainValuesOnDemand),a(),s("ngIf",n.attribute.description),a(),s("ngIf",n.attribute.hasConflicts),a(),s("ngIf",f(6,7,n.showRequiredMessageForDomainAttribute$)),a(2),s("ngIf",n.hasImage))},dependencies:[W,xe,ht,Sp,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Ct=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({imports:[L,Q]})}}return i})(),wp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({imports:[L,Q]})}}return i})(),Op=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({productConfigurator:{assignment:{Header:Ep}}})],imports:[ue,le,L,Q,be,Je,Ct,wp]})}}return i})(),yt=(()=>{class i{constructor(e){this.config=e,this.quantity=new Te(1),this.optionsChangeSub=new Ve,this.quantityChangeSub=new Ve,this.changeQuantity=new Bt}ngOnInit(){this.quantity.setValue(this.quantityOptions?.initialQuantity),this.optionsChangeSub.add(this.quantityOptions.disableQuantityActions$?.pipe(Ur()).subscribe(e=>{e?(this.quantity.disable(),this.quantityChangeSub.unsubscribe()):(this.quantity.enable(),this.quantityChangeSub.add(this.subscribeToQuantityChange()))}))}subscribeToQuantityChange(){return this.quantity.valueChanges.pipe(ci(()=>ai(this.config.productConfigurator?.updateDebounceTime?.quantity??0)),E(1)).subscribe(()=>this.onChangeQuantity())}ngOnDestroy(){this.optionsChangeSub.unsubscribe(),this.quantityChangeSub.unsubscribe()}onChangeQuantity(){this.changeQuantity.emit(this.quantity?.value)}static{this.\u0275fac=function(t){return new(t||i)(h(Pt))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-quantity"]],inputs:{quantityOptions:"quantityOptions"},outputs:{changeQuantity:"changeQuantity"},standalone:!1,decls:5,vars:6,consts:[[1,"cx-quantity"],[3,"allowZero","control","min"]],template:function(t,n){if(t&1&&(l(0,"div",0)(1,"label"),y(2),d(3,"cxTranslate"),p(),T(4,"cx-item-counter",1),p()),t&2){let r;a(2),ne(f(3,4,"configurator.attribute.quantity")),a(2),s("allowZero",(r=n.quantityOptions.allowZero)!==null&&r!==void 0?r:!1)("control",n.quantity)("min",n.quantityOptions.allowZero?0:1)}},dependencies:[kn,ee],encapsulation:2,changeDetection:0})}}return i})(),Re=(()=>{class i{constructor(e){this.directionService=e}isRTLDirection(){return this.directionService.getDirection()===hi.RTL}removeSign(e,t){return e?e.replace(t,""):""}addSign(e,t,n){return e?n?t+e:e+t:""}compileFormattedValue(e,t,n){if(e>0)return this.addSign(t,"+",!n);if(n){let r=this.removeSign(t,"-");return this.addSign(r,"-",!1)}return t??""}get price(){return this.formula.priceTotal?this.priceTotal:this.compileFormattedValue(this.formula.price?.value??0,this.formula.price?.formattedValue,this.isRTLDirection())}get priceTotal(){return this.compileFormattedValue(this.formula.priceTotal?.value??0,this.formula.priceTotal?.formattedValue,this.isRTLDirection())}displayQuantityAndPrice(){let e=this.formula.quantity;return e?this.formula.price?.value!==0&&e>=1:!1}displayPriceOnly(){let e=this.formula.price?.value??0,t=this.formula.priceTotal?.value??0;return(e!==0||t!==0)&&!this.displayQuantityAndPrice()}displayFormula(){return(this.formula.quantity&&this.formula.quantity!==0||this.formula.price&&this.formula.price?.value!==0||this.formula.priceTotal&&this.formula.priceTotal?.value!==0)??!1}quantityWithPrice(e){return e+"x("+this.formula.price?.formattedValue+")"}isPriceLightedUp(){return this.formula.isLightedUp??!1}get styleClass(){let e="cx-price";return this.isPriceLightedUp()||(e+=" cx-greyed-out"),e}static{this.\u0275fac=function(t){return new(t||i)(h($n))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-price"]],inputs:{formula:"formula"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngClass"],[1,"cx-quantity-price"],[1,"cx-price-total"]],template:function(t,n){t&1&&_(0,Za,3,2,"ng-container",0),t&2&&s("ngIf",n.displayFormula())},dependencies:[Pe,W,ee,Nn],encapsulation:2,changeDetection:0})}}return i})(),Ar=(()=>{class i extends qe{constructor(e,t,n){super(),this.productService=e,this.keyBoardFocus=t,this.translation=n,this.loading$=new Ut(!0),this.showDeselectionNotPossible=!1,this.handleDeselect=new Bt,this.handleQuantity=new Bt,this.handleSelect=new Bt,this.iconType=pe}ngOnInit(){this.loading$.next(!0);let e=this.productCardOptions.productBoundValue.productSystemId;this.product$=this.productService.get(e||"",Oo.CONFIGURATOR_PRODUCT_CARD).pipe(O(t=>t||this.transformToProductType(this.productCardOptions.productBoundValue)),he(()=>this.loading$.next(!1)))}get showQuantity(){return(this.productCardOptions.withQuantity&&this.productCardOptions.productBoundValue.selected&&this.productCardOptions.multiSelect)??!1}get focusConfig(){return{key:this.createFocusId(this.productCardOptions.attributeId.toString(),this.productCardOptions.productBoundValue.valueCode)}}onHandleSelect(){this.loading$.next(!0),this.productCardOptions.hideRemoveButton&&this.productCardOptions.fallbackFocusId&&this.keyBoardFocus.set(this.productCardOptions.fallbackFocusId),this.handleSelect.emit(this.productCardOptions.productBoundValue.valueCode)}onHandleDeselect(){{if(this.productCardOptions.productBoundValue.selected&&this.productCardOptions.hideRemoveButton){this.showDeselectionNotPossibleMessage();return}this.loading$.next(!0),this.handleDeselect.emit(this.productCardOptions.productBoundValue.valueCode)}}onChangeQuantity(e){e?this.onHandleQuantity(e):this.onHandleDeselect()}isProductCardSelected(){return(this.productCardOptions.productBoundValue&&this.productCardOptions.productBoundValue.selected&&!this.productCardOptions.singleDropdown)??!1}hasPriceDisplay(){return!!(this.productCardOptions.productBoundValue.valuePrice||this.productCardOptions.productBoundValue.quantity||this.productCardOptions.productBoundValue.valuePriceTotal)}extractPriceFormulaParameters(){return this.productCardOptions.multiSelect?{quantity:this.productCardOptions.productBoundValue.quantity,price:this.productCardOptions.productBoundValue.valuePrice,priceTotal:this.productCardOptions.productBoundValue.valuePriceTotal,isLightedUp:this.productCardOptions.productBoundValue.selected}:{price:this.productCardOptions.productBoundValue.valuePrice,isLightedUp:this.productCardOptions.productBoundValue.selected}}extractQuantityParameters(){let e=this.productCardOptions.productBoundValue.quantity,t=this.productCardOptions.loading$?Gr([this.loading$,this.productCardOptions.loading$]).pipe(O(n=>n[0]||n[1])):this.loading$;return{allowZero:!this.productCardOptions.hideRemoveButton,initialQuantity:e||0,disableQuantityActions$:t}}isValueCodeDefined(e){return!!(e&&e!==m.RetractValueCode)}transformToProductType(e){return{code:e?.productSystemId,description:e?.description,images:{},name:e?.valueDisplay}}onHandleQuantity(e){this.loading$.next(!0),this.handleQuantity.emit({quantity:e,valueCode:this.productCardOptions.productBoundValue.valueCode})}showDeselectionNotPossibleMessage(){this.showDeselectionNotPossible=!0}getAriaLabelSingleUnselected(e){let t="",n=this.productCardOptions.itemIndex+1;return this.isValueCodeDefined(this.productCardOptions?.productBoundValue?.valueCode)?this.hasPriceDisplay()&&this.productCardOptions.productBoundValue.valuePrice?.value!==0?this.translation.translate("configurator.a11y.itemOfAttributeUnselectedWithPrice",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount,price:this.productCardOptions.productBoundValue.valuePriceTotal?.formattedValue}).pipe(E(1)).subscribe(r=>t=r):this.translation.translate("configurator.a11y.itemOfAttributeUnselected",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount}).pipe(E(1)).subscribe(r=>t=r):this.translation.translate("configurator.a11y.selectNoItemOfAttribute",{attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount}).pipe(E(1)).subscribe(r=>t=r),t}getAriaLabelSingleSelected(e){let t="",n=this.productCardOptions.itemIndex+1;return this.hasPriceDisplay()&&this.productCardOptions.productBoundValue.valuePrice?.value!==0?this.translation.translate("configurator.a11y.itemOfAttributeSelectedPressToUnselectWithPrice",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount,price:this.productCardOptions.productBoundValue.valuePriceTotal?.formattedValue}).pipe(E(1)).subscribe(r=>t=r):this.translation.translate("configurator.a11y.itemOfAttributeSelectedPressToUnselect",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount}).pipe(E(1)).subscribe(r=>t=r),t}getAriaLabelSingleSelectedNoButton(e){let t="",n=this.productCardOptions.itemIndex+1;return this.hasPriceDisplay()&&this.productCardOptions.productBoundValue.valuePrice?.value!==0?this.translation.translate("configurator.a11y.itemOfAttributeSelectedWithPrice",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount,price:this.productCardOptions.productBoundValue.valuePriceTotal?.formattedValue}).pipe(E(1)).subscribe(r=>t=r):this.translation.translate("configurator.a11y.itemOfAttributeSelected",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount}).pipe(E(1)).subscribe(r=>t=r),t}getAriaLabelMultiSelected(e){let t="",n=this.productCardOptions.itemIndex+1;return this.hasPriceDisplay()&&this.productCardOptions.productBoundValue.valuePrice?.value!==0?this.translation.translate("configurator.a11y.itemOfAttributeSelectedPressToUnselectWithPrice",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount,price:this.productCardOptions.productBoundValue.valuePriceTotal?.formattedValue}).pipe(E(1)).subscribe(r=>t=r):this.translation.translate("configurator.a11y.itemOfAttributeSelectedPressToUnselect",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount}).pipe(E(1)).subscribe(r=>t=r),t}getAriaLabelMultiUnselected(e){let t="",n=this.productCardOptions.itemIndex+1;return this.hasPriceDisplay()&&this.productCardOptions.productBoundValue.valuePrice?.value!==0?this.translation.translate("configurator.a11y.itemOfAttributeUnselectedWithPrice",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount,price:this.productCardOptions.productBoundValue.valuePriceTotal?.formattedValue}).pipe(E(1)).subscribe(r=>t=r):this.translation.translate("configurator.a11y.itemOfAttributeUnselected",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount}).pipe(E(1)).subscribe(r=>t=r),t}static{this.\u0275fac=function(t){return new(t||i)(h(He),h(et),h(Ee))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-product-card"]],inputs:{productCardOptions:"productCardOptions"},outputs:{handleDeselect:"handleDeselect",handleQuantity:"handleQuantity",handleSelect:"handleSelect"},standalone:!1,features:[ye],decls:2,vars:3,consts:[["single",""],["select",""],["deselect",""],[4,"ngIf"],[1,"cx-product-card",3,"ngClass"],[1,"cx-product-card-rows"],[1,"cx-product-card-imgs"],["format","product","aria-hidden","true",3,"container"],[1,"cx-product-card-info"],[1,"cx-product-card-name"],["class","cx-product-card-code",4,"ngIf"],[3,"text","textSize","productName","tabIndex",4,"ngIf"],["class","cx-product-card-rows column",4,"ngIf"],[1,"cx-product-card-code"],[3,"text","textSize","productName","tabIndex"],[1,"cx-product-card-rows","column"],[1,"cx-product-card-quantity-price"],[1,"cx-product-card-quantity"],[3,"quantityOptions","changeQuantity",4,"ngIf"],[1,"cx-product-card-price"],[3,"formula"],[1,"cx-product-card-action"],["class","cx-product-card-action-btn",4,"ngIf"],[3,"changeQuantity","quantityOptions"],[1,"cx-product-card-action-btn"],[4,"ngIf","ngIfElse"],["class","btn btn-secondary",3,"cxFocus","click",4,"ngIf","ngIfElse"],[1,"btn","btn-secondary",3,"click","cxFocus"],[1,"btn","btn-primary",3,"click","disabled","cxFocus"],["class","btn btn-primary",3,"disabled","cxFocus","click",4,"ngIf","ngIfElse"],["class","btn btn-secondary",3,"disabled","cxFocus","click",4,"ngIf"],["class","cx-visually-hidden","tabindex","0",4,"ngIf"],[1,"btn","btn-secondary",3,"click","disabled","cxFocus"],["tabindex","0",1,"cx-visually-hidden"],["aria-live","assertive","aria-atomic","true","role","alert",1,"cx-product-card-rows","deselection-error-message",3,"id"],["type","ERROR",1,"deselection-error-symbol"]],template:function(t,n){t&1&&(_(0,mc,14,15,"ng-container",3),d(1,"async")),t&2&&s("ngIf",f(1,1,n.product$))},dependencies:[Pe,W,ht,yt,Ci,Re,we,xe,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Ne=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({imports:[L,Q]})}}return i})(),Ap={productConfigurator:{updateDebounceTime:{quantity:750,input:500,date:1500},addRetractOption:!1,descriptions:{attributeDescriptionLength:100,valueDescriptionLength:70}}},xt=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z(Ap)],imports:[L,Q,xi,_e]})}}return i})(),Fr=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({imports:[L,Ct,xt,Q,lt,dt,ue,le,yi,Ne,_e,be]})}}return i})(),Vt=(()=>{class i{disableQuantityActions(e){return!e||e==="0"||e===m.RetractValueCode}disableQuantityActionsMultiSelection(e){return e.dataType===m.DataType.USER_SELECTION_QTY_ATTRIBUTE_LEVEL&&(!e.values||!e.values.find(t=>t.selected)||e.quantity===0)}withQuantityOnAttributeLevel(e){return e.dataType===m.DataType.USER_SELECTION_QTY_ATTRIBUTE_LEVEL}withQuantity(e,t){switch(t){case m.UiType.DROPDOWN_PRODUCT:case m.UiType.DROPDOWN:case m.UiType.RADIOBUTTON_PRODUCT:case m.UiType.RADIOBUTTON:return e===m.DataType.USER_SELECTION_QTY_ATTRIBUTE_LEVEL;case m.UiType.CHECKBOXLIST:case m.UiType.CHECKBOXLIST_PRODUCT:return e===m.DataType.USER_SELECTION_QTY_VALUE_LEVEL;default:return!1}}allowZeroValueQuantity(e){let t=e.values?e.values.filter(n=>n.selected).length:0;return!(e.required&&t<2)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),fn=(()=>{class i extends qe{constructor(e,t,n,r,c){super(),this.quantityService=e,this.translation=t,this.attributeComponentContext=n,this.configuratorCommonsService=r,this.configuratorStorefrontUtilsService=c,this.loading$=new Ut(!1),this.showRequiredErrorMessage$=Se(!1),this.attribute=n.attribute,this.ownerKey=n.owner.key,this.ownerType=n.owner.type,this.language=n.language,this.expMode=n.expMode,this.showRequiredErrorMessage$=this.configuratorStorefrontUtilsService.isCartEntryOrGroupVisited(n.owner,n.group.id).pipe(O(g=>g&&this.isRequiredErrorMsg(this.attribute)&&this.isDropDown(this.attribute)&&this.isNoValueSelected(this.attribute)||!1)),this.initPriceChangedEvent(n.isPricingAsync,n.attribute.key)}get withQuantity(){return this.quantityService.withQuantity(this.attribute.dataType??m.DataType.NOT_IMPLEMENTED,this.attribute.uiType??m.UiType.NOT_IMPLEMENTED)}get disableQuantityActions(){return this.quantityService.disableQuantityActions(this.attribute.selectedSingleValue)}onSelect(e){this.loading$.next(!0),this.configuratorCommonsService.updateConfiguration(this.ownerKey,N(A({},this.attribute),{selectedSingleValue:e}),m.UpdateType.ATTRIBUTE)}onSelectAdditionalValue(e){let t=e.changedAttribute.userInput;t&&(this.loading$.next(!0),e.changedAttribute.selectedSingleValue=t,this.configuratorCommonsService.updateConfiguration(e.ownerKey,e.changedAttribute,m.UpdateType.ATTRIBUTE))}onHandleQuantity(e){this.loading$.next(!0),this.configuratorCommonsService.updateConfiguration(this.ownerKey,N(A({},this.attribute),{quantity:e}),m.UpdateType.ATTRIBUTE_QUANTITY)}onChangeQuantity(e,t){e?this.onHandleQuantity(e):(t&&t.setValue("0"),this.onSelect(""))}getInitialQuantity(e){let t=this.attribute.quantity??0;return e?e.value!=="0"?t:0:this.attribute.selectedSingleValue?t:0}extractQuantityParameters(e){let t=this.getInitialQuantity(e),n=this.loading$.pipe(O(r=>r||this.disableQuantityActions));return{allowZero:!this.attribute.required,initialQuantity:t,disableQuantityActions$:n}}extractPriceFormulaParameters(){return{quantity:this.attribute.quantity,price:this.getSelectedValuePrice(),priceTotal:this.attribute.attributePriceTotal,isLightedUp:!0}}extractValuePriceFormulaParameters(e){return{price:e?.valuePrice,isLightedUp:e?e.selected:!1}}getSelectedValuePrice(){return this.attribute.values?.find(e=>e.selected)?.valuePrice}get isAdditionalValueNumeric(){return this.isWithAdditionalValues(this.attribute)&&this.attribute.validationType===m.ValidationType.NUMERIC}get isAdditionalValueAlphaNumeric(){return this.isWithAdditionalValues(this.attribute)&&this.attribute.validationType===m.ValidationType.NONE}getAriaLabel(e,t){let n=this.getAriaLabelWithoutAdditionalValue(e,t);if(this.isWithAdditionalValues(this.attribute)){let r=this.getAdditionalValueAriaLabel();return n+" "+r}else return n}getAdditionalValueAriaLabel(){let e="";return this.translation.translate("configurator.a11y.additionalValue").pipe(E(1)).subscribe(t=>e=t),e}getAriaLabelWithoutAdditionalValue(e,t){return this.getAriaLabelGeneric(t,e,!0)}static{this.\u0275fac=function(t){return new(t||i)(h(Vt),h(Ee),h(Oe),h(te),h(se))}}static{this.\u0275dir=ui({type:i,features:[ye]})}}return i})(),sa=(()=>{class i extends qe{constructor(e,t,n){super(),this.quantityService=e,this.attributeComponentContext=t,this.configuratorCommonsService=n,this.loading$=new Ut(!1),this.attribute=t.attribute,this.ownerKey=t.owner.key,this.expMode=t.expMode,this.initPriceChangedEvent(t.isPricingAsync,t.attribute.key)}get withQuantityOnAttributeLevel(){return this.quantityService.withQuantityOnAttributeLevel(this.attribute)}get withQuantity(){return this.quantityService.withQuantity(this.attribute.dataType??m.DataType.NOT_IMPLEMENTED,this.attribute.uiType??m.UiType.NOT_IMPLEMENTED)}get disableQuantityActions(){return this.quantityService.disableQuantityActionsMultiSelection(this.attribute)}extractQuantityParameters(e,t){let n=this.loading$.pipe(O(r=>r||this.disableQuantityActions));return{allowZero:t??!this.attribute.required,initialQuantity:e,disableQuantityActions$:n}}onHandleAttributeQuantity(e){this.loading$.next(!0),this.configuratorCommonsService.updateConfiguration(this.ownerKey,N(A({},this.attribute),{quantity:e}),m.UpdateType.ATTRIBUTE_QUANTITY)}extractPriceFormulaParameters(){return{quantity:0,price:{value:0,currencyIso:""},priceTotal:this.attribute.attributePriceTotal,isLightedUp:!0}}static{this.\u0275fac=function(t){return new(t||i)(h(Vt),h(Oe),h(te))}}static{this.\u0275dir=ui({type:i,features:[ye]})}}return i})(),Fp=(()=>{class i extends sa{constructor(e,t,n,r){super(t,n,r),this.configUtilsService=e,this.quantityService=t,this.attributeComponentContext=n,this.configuratorCommonsService=r,this.attributeCheckBoxForms=new Array,this.logger=z($e),this.group=n.group.id}ngOnInit(){for(let e of this.attribute.values??[]){let t;e.selected?t=new Te(!0):t=new Te(!1),this.attributeCheckBoxForms.push(t)}}get allowZeroValueQuantity(){return this.quantityService.allowZeroValueQuantity(this.attribute)}onSelect(e){let t=this.configUtilsService.assembleValuesForMultiSelectAttributes(this.attributeCheckBoxForms,this.attribute);e&&this.listenForPriceChanges&&this.configUtilsService.setLastSelected(this.attribute.name,e),this.configuratorCommonsService.updateConfiguration(this.ownerKey,N(A({},this.attribute),{values:t}),m.UpdateType.ATTRIBUTE)}onChangeValueQuantity(e,t,n){if(e===0){this.attributeCheckBoxForms[n].setValue(!1),this.onSelect(t);return}let r=this.configUtilsService.assembleValuesForMultiSelectAttributes(this.attributeCheckBoxForms,this.attribute).find(c=>c.valueCode===t);if(!r){ze()&&this.logger.warn("no value for event:",e);return}r.quantity=e,this.configuratorCommonsService.updateConfiguration(this.ownerKey,N(A({},this.attribute),{values:[r]}),m.UpdateType.VALUE_QUANTITY)}onChangeQuantity(e){e?this.onHandleAttributeQuantity(e):(this.attributeCheckBoxForms.forEach((t,n)=>this.attributeCheckBoxForms[n].setValue(!1)),this.onSelect())}static{this.\u0275fac=function(t){return new(t||i)(h(se),h(Vt),h(Oe),h(te))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-checkbox-list"]],standalone:!1,features:[Ye([ot]),ye],decls:5,vars:4,consts:[[2,"display","none"],[3,"id",4,"ngIf"],[3,"id"],["class","cx-attribute-level-quantity-price",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"cx-attribute-level-quantity-price"],[3,"changeQuantity","quantityOptions"],[3,"formula"],[1,"form-check"],[1,"cx-value-label-pair"],["type","checkbox",1,"form-check-input",3,"change","id","cxFocus","value","formControl","name"],["aria-hidden","true",1,"cx-configurator-attribute-value-label","form-check-label",3,"id","for"],[3,"text","textSize","productName","tabIndex",4,"ngIf"],[1,"cx-value-price"],[3,"quantityOptions","changeQuantity",4,"ngIf"],[3,"text","textSize","productName","tabIndex"]],template:function(t,n){t&1&&(l(0,"fieldset")(1,"legend",0),y(2),p(),_(3,yc,3,3,"div",1),d(4,"async"),p()),t&2&&(a(2),ne(n.attribute.label),a(),s("ngIf",f(4,2,n.changedPrices$)))},dependencies:[we,qt,Be,Le,Ce,W,yt,Re,ht,J],encapsulation:2,changeDetection:0})}}return i})(),Dp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({productConfigurator:{assignment:{AttributeType_checkBoxList:Fp}}})],imports:[_e,ue,le,L,Q,xt,Ne,Ct]})}}return i})(),Rp=(()=>{class i extends qe{constructor(e,t){super(),this.attributeComponentContext=e,this.configuratorCommonsService=t,this.attributeCheckBoxForm=new Te(""),this.attribute=e.attribute,this.group=e.group.id,this.ownerKey=e.owner.key,this.expMode=e.expMode,this.initPriceChangedEvent(e.isPricingAsync,e.attribute.key)}ngOnInit(){this.attributeCheckBoxForm.setValue(this.attribute.selectedSingleValue),this.attributeValue=this.getValueFromAttribute()}onSelect(e){let t=this.assembleSingleValue();e&&this.listenForPriceChanges&&this.configuratorStorefrontUtilsService.setLastSelected(this.attribute.name,e),this.configuratorCommonsService.updateConfiguration(this.ownerKey,N(A({},this.attribute),{values:t}),m.UpdateType.ATTRIBUTE)}getValueFromAttribute(){return this.attribute.values?this.attribute.values[0]:{valueCode:""}}assembleSingleValue(){let e=[],t=this.getValueFromAttribute(),n={valueCode:t.valueCode};return n.name=t.name,n.selected=this.attributeCheckBoxForm.value,e.push(n),e}static{this.\u0275fac=function(t){return new(t||i)(h(Oe),h(te))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-checkbox"]],standalone:!1,features:[Ye([ot]),ye],decls:7,vars:5,consts:[[2,"display","none"],[3,"id"],["class","form-check",4,"ngIf"],[1,"form-check"],[1,"cx-value-label-pair"],["type","checkbox",1,"form-check-input",3,"change","id","value","cxFocus","formControl","name"],["aria-hidden","true",1,"form-check-label",3,"id","for"],[3,"text","textSize","productName","tabIndex",4,"ngIf"],[1,"cx-value-price"],[3,"formula"],[3,"text","textSize","productName","tabIndex"]],template:function(t,n){t&1&&(x(0),l(1,"fieldset")(2,"legend",0),y(3),p(),l(4,"div",1),_(5,bc,8,15,"div",2),d(6,"async"),p()(),b()),t&2&&(a(3),ne(n.attribute.label),a(),w("id",n.createAttributeIdForConfigurator(n.attribute)),a(),s("ngIf",f(6,3,n.changedPrices$)))},dependencies:[we,qt,Be,Le,W,Re,ht,J],encapsulation:2,changeDetection:0})}}return i})(),Np=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({productConfigurator:{assignment:{AttributeType_checkBox:Rp}}})],imports:[_e,ue,le,L,Q,Ne,Ct]})}}return i})(),ni=(()=>{class i extends qe{constructor(e,t,n,r){super(),this.config=e,this.attributeComponentContext=t,this.configuratorCommonsService=n,this.configuratorStorefrontUtilsService=r,this.attributeInputForm=new Te(""),this.showRequiredErrorMessage$=Se(!1),this.debounceForDateActive=!1,this.FALLBACK_DEBOUNCE_TIME=500,this.FALLBACK_DEBOUNCE_TIME_DATE=1500,this.attribute=t.attribute,this.group=t.group.id,this.owner=t.owner,this.ownerKey=t.owner.key,this.ownerType=t.owner.type,this.compileShowRequiredErrorMessage()}ngOnInit(){this.attributeInputForm.setValue(this.attribute.userInput),this.ownerType===ce.OwnerType.CART_ENTRY&&this.attribute.required&&this.attribute.incomplete&&!this.attributeInputForm.value&&this.attributeInputForm.markAsTouched(),this.sub=this.attributeInputForm.valueChanges.pipe(ci(()=>ai(this.calculateDebounceTime()))).subscribe(()=>{this.onChange()})}onChange(){this.attributeInputForm.invalid||this.configuratorCommonsService.updateConfiguration(this.ownerKey,N(A({},this.attribute),{userInput:this.attributeInputForm.value,selectedSingleValue:this.attributeInputForm.value}),m.UpdateType.ATTRIBUTE)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}get isUserInputEmpty(){return!this.attribute.userInput||this.attribute.userInput.trim().length===0}get isRequired(){return this.isUserInput(this.attribute)?this.attribute.required??!1:!1}get inputType(){return this.isDateBased(this.attribute)?"date":"text"}activateDebounceDate(){this.debounceForDateActive=!0}isDateBased(e){return e.uiType===m.UiType.SAP_DATE||this.isWithAdditionalValues(e)&&e.validationType===m.ValidationType.SAP_DATE}compileShowRequiredErrorMessage(){this.showRequiredErrorMessage$=this.configuratorStorefrontUtilsService.isCartEntryOrGroupVisited(this.owner,this.group).pipe(O(e=>e?this.isRequiredErrorMsg(this.attribute)&&this.isUserInput(this.attribute):!1))}calculateDebounceTime(){return this.isDateBased(this.attribute)?this.debounceForDateActive?this.config.productConfigurator?.updateDebounceTime?.date??this.FALLBACK_DEBOUNCE_TIME_DATE:0:this.config.productConfigurator?.updateDebounceTime?.input??this.FALLBACK_DEBOUNCE_TIME}static{this.\u0275fac=function(t){return new(t||i)(h(Pt),h(Oe),h(te),h(se))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-input-field"]],standalone:!1,features:[ye],decls:6,vars:28,consts:[[1,"form-group",3,"id"],["class","cx-visually-hidden",3,"id",4,"ngIf"],[1,"form-control",3,"keydown","formControl","type","ngClass","maxlength","cxFocus"],[1,"cx-visually-hidden",3,"id"]],template:function(t,n){t&1&&(l(0,"div",0),_(1,Ic,3,13,"label",1),l(2,"input",2),d(3,"async"),d(4,"cxTranslate"),d(5,"cxTranslate"),V("keydown",function(){return n.activateDebounceDate()}),p()()),t&2&&(w("id",n.createAttributeIdForConfigurator(n.attribute)),a(),s("ngIf",n.inputType==="date"),a(),ae("ng-invalid",n.isRequired&&n.isUserInputEmpty),w("type",n.inputType),w("maxlength",n.attribute.maxlength),s("formControl",n.attributeInputForm)("ngClass",G(19,sn,f(3,11,n.showRequiredErrorMessage$)))("cxFocus",G(21,je,n.createAttributeIdForConfigurator(n.attribute))),M("aria-label",n.isUserInputEmpty?$(4,13,"configurator.a11y.valueOfAttributeBlank",G(23,Qe,n.attribute.label)):$(5,16,"configurator.a11y.valueOfAttributeFull",Ue(25,Xt,n.attribute.userInput,n.attribute.label)))("aria-describedby",n.inputType==="date"?n.createAttributeUiKey("labelForDate",n.attribute.name):n.createAttributeUiKey("label",n.attribute.name)))},dependencies:[we,Kt,Be,Un,Le,Pe,W,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Mp=(()=>{class i{performValidationAccordingToMetaData(e,t,n,r,c){let g="\\",I=new RegExp(g+t,"g"),C=e.replace(I,""),v=C.split(n);return v.length>2?!0:v.length===1?C.length>r-c:v[0].length>r-c||v[1].length>c}formatIntervalValue(e,t,n){return t===void 0&&(t=0),wn(e,n,"1."+t+"-"+t)}getIntervals(e){let t=[];return e&&e.length>0&&e.forEach(n=>{let r=this.getInterval(n);r&&Object.keys(r).length!==0&&t.push(r)}),t}getInterval(e){let t={minValue:void 0,maxValue:void 0,minValueIncluded:!1,maxValueIncluded:!1};if(!e||!e.name||e.selected)return;let n,r;return e.name.includes(" - ")?{minVal:n,maxVal:r}=this.handleStandardInterval(e.name,t):{minVal:n,maxVal:r}=this.handleSingleOrInfinite(e.name,t),n&&n.length>0&&(t.minValue=+n),r&&r.length>0&&(t.maxValue=+r),t}handleSingleOrInfinite(e,t){let n="",r="";return e.includes(">")&&(n=e,t.minValueIncluded=!1,n=n.replace(/>/g,"")),e.includes("<")&&(r=e,t.maxValueIncluded=!1,r=r.replace(/</g,"")),e.includes("\u2265")&&(n=e,t.minValueIncluded=!0,n=n.replace(//g,"")),e.includes("\u2264")&&(r=e,t.maxValueIncluded=!0,r=r.replace(//g,"")),!e.includes(">")&&!e.includes("<")&&!e.includes("\u2264")&&!e.includes("\u2265")&&(n=e,r=e,t.maxValueIncluded=!0,t.minValueIncluded=!0),{minVal:n,maxVal:r}}handleStandardInterval(e,t){let n=e.indexOf(" - "),r=e.substring(0,n),c=e.substring(n+3,e.length);return t.minValueIncluded=!0,t.maxValueIncluded=!0,r.includes(">")&&(t.minValueIncluded=!1,r=r.replace(">","")),c.includes("<")&&(t.maxValueIncluded=!1,c=c.replace("<","")),{minVal:r,maxVal:c}}getPatternForValidationMessage(e,t,n,r){let c=(10**t-1).toString();e>0&&(c=c.substring(0,t-e)+"."+c.substring(t-e,t));let g=Number(c),I=wn(g,r,"1."+e+"-"+e).replace(/9/g,"#");return n&&(I="-"+I),I}getNumberFormatValidator(e,t,n,r){return c=>{let g=c.value?.trim();return g?this.getValidationErrorsNumericFormat(g,e,t,n,r):null}}getValidationErrorsNumericFormat(e,t,n,r,c){let g=$t(t,kt.Group),I=$t(t,kt.Decimal),C=c?"^-?":"^";return new RegExp(C+"[0123456789"+g+I+"]*$").test(e)?this.createValidationError(this.performValidationAccordingToMetaData(e,g,I,r+(e.includes("-")?1:0),n)):this.createValidationError(!0)}getIntervalValidator(e,t,n,r,c,g){return I=>{let C=I.value?.trim();return C&&C!==g&&c.length!==0&&this.getValidationErrorsNumericFormat(C,e,t,n,r)==null?this.createIntervalValidationError(!this.checkIfPartOfIntervals(C,e,c)):null}}checkIfPartOfIntervals(e,t,n){return n.find(r=>this.inputMatchesInterval(e,t,r))!==void 0}inputMatchesInterval(e,t,n){let r=this.parseInput(e,t),c=!0;n.minValue&&(c=n.minValueIncluded?n.minValue<=r:n.minValue<r);let g=!0;return n.maxValue&&(g=n.maxValueIncluded?n.maxValue>=r:n.maxValue>r),c&&g}parseInput(e,t){let n=$t(t,kt.Group),r=$t(t,kt.Decimal);return this.parseInputForSeparators(e,n,r)}parseInputForSeparators(e,t,n){let r="\\",c=new RegExp(r+t,"g"),g=e.replace(c,"").replace(n,".");return parseFloat(g)}createValidationError(e){return e?{wrongFormat:{}}:null}createIntervalValidationError(e){return e?{intervalNotMet:{}}:null}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Dr=(()=>{class i extends ni{constructor(e,t,n,r,c,g){super(t,r,c,g),this.configAttributeNumericInputFieldService=e,this.config=t,this.translation=n,this.attributeComponentContext=r,this.configuratorCommonsService=c,this.configuratorStorefrontUtilsService=g,this.iconType=pe,this.intervals=[],this.logger=z($e),this.language=r.language}mustDisplayValidationMessage(){return(this.attributeInputForm.dirty||this.attributeInputForm.touched)&&this.attributeInputForm.errors?.wrongFormat}mustDisplayIntervalMessage(){return(this.attributeInputForm.dirty||this.attributeInputForm.touched)&&this.attributeInputForm.errors?.intervalNotMet}ngOnInit(){this.initializeValidation(),this.attribute.userInput&&this.attributeInputForm.setValue(this.attribute.userInput),this.ownerType===ce.OwnerType.CART_ENTRY&&this.attribute.required&&this.attribute.incomplete&&!this.attributeInputForm.value&&this.attributeInputForm.markAsTouched(),this.sub=this.attributeInputForm.valueChanges.pipe(ci(()=>ai(this.config.productConfigurator?.updateDebounceTime?.input??this.FALLBACK_DEBOUNCE_TIME))).subscribe(()=>this.onChange())}initializeValidation(){this.locale=this.getInstalledLocale(this.language);let e=this.attribute.numDecimalPlaces,t=this.attribute.numTotalLength,n=this.attribute.negativeAllowed;if(e===void 0||t===void 0||n===void 0){let g=this.getDefaultSettings();e=g.numDecimalPlaces,t=g.numTotalLength,n=g.negativeAllowed,ze()&&this.logger.warn("Meta data for numeric attribute not present, falling back to defaults")}this.attribute.intervalInDomain&&(this.intervals=this.configAttributeNumericInputFieldService.getIntervals(this.attribute.values));let c=[this.configAttributeNumericInputFieldService.getNumberFormatValidator(this.locale,e,t,n),this.configAttributeNumericInputFieldService.getIntervalValidator(this.locale,e,t,n,this.intervals,this.attribute.userInput)];this.attributeInputForm=new Te("",c),this.numericFormatPattern=this.configAttributeNumericInputFieldService.getPatternForValidationMessage(e,t,n,this.locale)}ngOnDestroy(){super.ngOnDestroy()}getHelpTextForInterval(){let e="",t="";return this.intervals.forEach((n,r)=>{e=this.getIntervalText(n),r>0?(e=e.charAt(0).toLowerCase()+e.slice(1),this.translation.translate("configurator.a11y.combinedIntervalsText",{combinedInterval:t,newInterval:e}).pipe(E(1)).subscribe(c=>t=c)):t=e}),t.trim()}getAriaLabelComplete(){let e="";return this.attribute.userInput?.length===0?this.translation.translate("configurator.a11y.valueOfAttributeBlank",{attribute:this.attribute.label}).pipe(E(1)).subscribe(t=>e=t):this.translation.translate("configurator.a11y.valueOfAttributeFull",{value:this.attribute.userInput,attribute:this.attribute.label}).pipe(E(1)).subscribe(t=>e=t),e+=" ",e+=this.getHelpTextForInterval(),e}getIntervalText(e){let t="",n="",r="";if(e.minValue&&(n=this.configAttributeNumericInputFieldService.formatIntervalValue(e.minValue,this.attribute.numDecimalPlaces,this.locale)),e.maxValue&&(r=this.configAttributeNumericInputFieldService.formatIntervalValue(e.maxValue,this.attribute.numDecimalPlaces,this.locale)),e.minValue&&e.maxValue){if(e.minValue===e.maxValue)return this.translation.translate("configurator.a11y.numericIntervalSingleValue",{value:n}).pipe(E(1)).subscribe(c=>t=c),t;t=this.getTextForRealInterval(n,r,t,e)}else t=this.getTextForPartialInterval(e,t,n,r);return t}getTextForPartialInterval(e,t,n,r){return e.minValue?e.minValueIncluded?t=this.getInfiniteIntervalText("configurator.a11y.numericInfiniteIntervalMinValueIncluded",n):t=this.getInfiniteIntervalText("configurator.a11y.numericInfiniteIntervalMinValue",n):e.maxValue&&(e.maxValueIncluded?t=this.getInfiniteIntervalText("configurator.a11y.numericInfiniteIntervalMaxValueIncluded",r):t=this.getInfiniteIntervalText("configurator.a11y.numericInfiniteIntervalMaxValue",r)),t}getTextForRealInterval(e,t,n,r){let c=n;return this.translation.translate("configurator.a11y.numericIntervalStandard",{minValue:e,maxValue:t}).pipe(E(1)).subscribe(g=>c=g),(!r.minValueIncluded||!r.maxValueIncluded)&&(!r.minValueIncluded&&!r.maxValueIncluded?(c+=" ",c+=this.getAdditionalIntervalText("configurator.a11y.numericIntervalStandardOpen")):(r.minValueIncluded||(c+=" ",c+=this.getAdditionalIntervalText("configurator.a11y.numericIntervalStandardLowerEndpointNotIncluded")),r.maxValueIncluded||(c+=" ",c+=this.getAdditionalIntervalText("configurator.a11y.numericIntervalStandardUpperEndpointNotIncluded")))),c}getAdditionalIntervalText(e){let t="";return this.translation.translate(e).pipe(E(1)).subscribe(n=>t=n),t}getInfiniteIntervalText(e,t){let n="";return this.translation.translate(e,{value:t}).pipe(E(1)).subscribe(r=>n=r),n}getDefaultSettings(){return{numDecimalPlaces:2,numTotalLength:6,negativeAllowed:!1}}getInstalledLocale(e){try{return Yr(e),e}catch{return this.reportMissingLocaleData(e),"en"}}reportMissingLocaleData(e){ze()&&this.logger.warn(`ConfigAttributeNumericInputFieldComponent: No locale data registered for '${e}' (see https://angular.io/api/common/registerLocaleData).`)}static{this.\u0275fac=function(t){return new(t||i)(h(Mp),h(Pt),h(Ee),h(Oe),h(te),h(se))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-numeric-input-field"]],standalone:!1,features:[ye],decls:6,vars:20,consts:[["class","cx-intervalHelpText",4,"ngIf"],[1,"form-group",3,"id"],[1,"form-control",3,"change","formControl","ngClass","maxlength","cxFocus"],["class","cx-validation-msg","aria-live","assertive","aria-atomic","true","role","alert",3,"id",4,"ngIf"],[1,"cx-intervalHelpText"],["aria-live","assertive","aria-atomic","true","role","alert",1,"cx-validation-msg",3,"id"],[3,"type"]],template:function(t,n){t&1&&(_(0,Sc,2,1,"label",0),l(1,"div",1)(2,"input",2),d(3,"async"),V("change",function(){return n.onChange()}),p()(),_(4,Ec,4,8,"div",3)(5,wc,4,5,"div",3)),t&2&&(s("ngIf",n.attribute.intervalInDomain),a(),w("id",n.createAttributeIdForConfigurator(n.attribute)),a(),ae("ng-invalid",n.isRequired&&n.isUserInputEmpty),w("maxlength",n.attribute.maxlength),s("formControl",n.attributeInputForm)("ngClass",G(16,sn,f(3,14,n.showRequiredErrorMessage$)))("cxFocus",G(18,je,n.createAttributeIdForConfigurator(n.attribute))),M("aria-describedby",n.mustDisplayValidationMessage()?n.createAttributeUiKey("label",n.attribute.name)+" "+n.createAttributeUiKey("attribute-msg",n.attribute.name):n.createAttributeUiKey("label",n.attribute.name))("role",n.attribute.dataType)("required",n.attribute.required===!0?"required":null)("aria-label",n.getAriaLabelComplete()),a(2),s("ngIf",n.mustDisplayValidationMessage()),a(),s("ngIf",n.mustDisplayIntervalMessage()))},dependencies:[we,Kt,Be,Un,Le,Pe,W,xe,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Do=(()=>{class i extends fn{constructor(e,t,n,r,c){super(e,t,n,r,c),this.quantityService=e,this.translation=t,this.attributeComponentContext=n,this.configuratorCommonsService=r,this.configuratorStorefrontUtilsService=c,this.attributeDropDownForm=new Te(""),this.config=z(Ke),this.group=n.group.id}ngOnInit(){this.attributeDropDownForm.setValue(this.attribute.selectedSingleValue)}getSelectedValue(){return this.attribute.values?.find(e=>e?.selected)}getSelectedValueDescription(){return this.getSelectedValue()?.description??""}static{this.\u0275fac=function(t){return new(t||i)(h(Vt),h(Ee),h(Oe),h(te),h(se))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-drop-down"]],standalone:!1,features:[Ye([ot]),ye],decls:4,vars:5,consts:[[4,"ngIf"],["class","cx-configurator-attribute-additional-value",4,"ngIf"],["class","form-group",4,"ngIf"],["class","cx-attribute-level-quantity-price",4,"ngIf"],[1,"form-group"],[1,"cx-visually-hidden",3,"for"],[1,"cx-value-label-pair"],[1,"form-control",3,"change","id","ngClass","formControl","cxFocus"],[3,"selected","label","value",4,"ngFor","ngForOf"],[3,"text","textSize","productName","tabIndex",4,"ngIf"],["class","cx-value-price",4,"ngIf"],[3,"selected","label","value"],[3,"text","textSize","productName","tabIndex"],[1,"cx-value-price"],[3,"formula"],[1,"cx-attribute-level-quantity-price"],[3,"changeQuantity","quantityOptions"],[3,"formula",4,"ngIf"],[1,"cx-configurator-attribute-additional-value"]],template:function(t,n){t&1&&(_(0,Mc,3,2,"ng-container",0),d(1,"async"),_(2,Pc,2,3,"cx-configurator-attribute-numeric-input-field",1)(3,Vc,2,3,"cx-configurator-attribute-input-field",1)),t&2&&(s("ngIf",f(1,3,n.changedPrices$)),a(2),s("ngIf",n.isAdditionalValueNumeric),a(),s("ngIf",n.isAdditionalValueAlphaNumeric))},dependencies:[Pe,Ce,W,yt,Vn,Gn,Pn,Be,we,Le,Re,Dr,ni,ht,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Rr=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({productConfigurator:{assignment:{AttributeType_string:ni,AttributeType_sap_date:ni}}})],imports:[_e,ue,le,L,Q]})}}return i})(),Nr=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({productConfigurator:{assignment:{AttributeType_numeric:Dr}}})],imports:[_e,ue,le,L,Q,be]})}}return i})(),Pp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({productConfigurator:{assignment:{AttributeType_dropdown:Do,AttributeType_dropdown_add:Do}}})],imports:[L,xt,ue,Q,_e,Je,le,Ne,Nr,Rr,Ct,jt]})}}return i})(),Vp=(()=>{class i extends sa{constructor(){super(...arguments),this.preventAction$=new Ut(!1),this.multipleSelectionValues=[]}ngOnInit(){this.initialize()}initialize(){this.attribute.values&&this.attribute.values.length>0&&(this.multipleSelectionValues=this.attribute.values.map(({name:e,quantity:t,selected:n,valueCode:r})=>({name:e,quantity:t,selected:n,valueCode:r}))),this.attribute.required&&this.multipleSelectionValues.filter(e=>e.selected).length<2&&this.preventAction$.next(!0)}updateMultipleSelectionValues(e,t){let n=this.multipleSelectionValues.findIndex(c=>c.valueCode===e);return this.multipleSelectionValues[n]=N(A({},this.multipleSelectionValues[n]),{selected:t}),{changedAttribute:N(A({},this.attribute),{values:this.multipleSelectionValues}),ownerKey:this.ownerKey,updateType:m.UpdateType.ATTRIBUTE}}updateMultipleSelectionValuesQuantity(e){let t=this.multipleSelectionValues.find(r=>r.valueCode===e.valueCode);return t?(t.quantity=e.quantity,{changedAttribute:N(A({},this.attribute),{values:[t]}),ownerKey:this.ownerKey,updateType:m.UpdateType.VALUE_QUANTITY}):void 0}onSelect(e){this.loading$.next(!0);let t=this.updateMultipleSelectionValues(e,!0);this.configuratorCommonsService.updateConfiguration(t.ownerKey,t.changedAttribute,t.updateType)}onDeselect(e){this.loading$.next(!0);let t=this.updateMultipleSelectionValues(e,!1);this.configuratorCommonsService.updateConfiguration(t.ownerKey,t.changedAttribute,t.updateType)}onDeselectAll(){this.loading$.next(!0),this.configuratorCommonsService.updateConfiguration(this.ownerKey,N(A({},this.attribute),{values:[]}),m.UpdateType.ATTRIBUTE)}onChangeValueQuantity(e){this.loading$.next(!0);let t=this.updateMultipleSelectionValuesQuantity(e);t&&this.configuratorCommonsService.updateConfiguration(t.ownerKey,t.changedAttribute,t.updateType)}onChangeAttributeQuantity(e){this.loading$.next(!0),e?this.onHandleAttributeQuantity(e):this.onDeselectAll()}extractPriceFormulaParameters(){return{quantity:0,price:{value:0,currencyIso:""},priceTotal:this.attribute.attributePriceTotal,isLightedUp:!0}}extractProductCardParameters(e,t,n,r){return{disableAllButtons:e??!1,hideRemoveButton:t??!1,productBoundValue:n,multiSelect:!0,withQuantity:this.withQuantity,loading$:this.loading$,attributeId:this.getAttributeCode(this.attribute),attributeLabel:this.attribute.label,attributeName:this.attribute.name,itemCount:this.attribute.values?.length?this.attribute.values.length:0,itemIndex:r}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=xn(i)))(n||i)}})()}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-multi-selection-bundle"]],standalone:!1,features:[ye],decls:1,vars:1,consts:[[3,"id",4,"ngIf"],[3,"id"],["class","cx-attribute-level-quantity-price",4,"ngIf"],[3,"id","productCardOptions","handleDeselect","handleQuantity","handleSelect",4,"ngFor","ngForOf"],[1,"cx-attribute-level-quantity-price"],[3,"changeQuantity","quantityOptions"],[3,"formula"],[3,"handleDeselect","handleQuantity","handleSelect","id","productCardOptions"]],template:function(t,n){t&1&&_(0,Bc,3,3,"div",0),t&2&&s("ngIf",n.attribute==null||n.attribute.values==null?null:n.attribute.values.length)},dependencies:[Ce,W,Ar,yt,Re,J],encapsulation:2,changeDetection:0})}}return i})(),Gp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({productConfigurator:{assignment:{AttributeType_checkBoxListProduct:Vp}}})],imports:[L,Fr,ue,Q,_e,le,lt,dt,xt,Ne]})}}return i})(),Ro=(()=>{class i extends qe{constructor(e,t,n){super(),this.configUtilsService=e,this.attributeComponentContext=t,this.configuratorCommonsService=n,this.iconTypes=pe,this.config=z(Ke),this.attributeCheckBoxForms=new Array,this.attribute=t.attribute,this.ownerKey=t.owner.key,this.expMode=t.expMode,this.initPriceChangedEvent(t.isPricingAsync,t.attribute.key),mi("a11yDifferentiateFocusedAndSelected")}ngOnInit(){let e=this.attribute.values;if(e)for(let t of e){let n;t.selected?n=new Te(!0):n=new Te(!1),this.attributeCheckBoxForms.push(n)}}onSelect(e){this.attributeCheckBoxForms[e].setValue(!this.attributeCheckBoxForms[e].value);let t=this.configUtilsService.assembleValuesForMultiSelectAttributes(this.attributeCheckBoxForms,this.attribute);this.listenForPriceChanges&&this.configUtilsService.setLastSelected(this.attribute.name,t[e].valueCode),this.configuratorCommonsService.updateConfiguration(this.ownerKey,N(A({},this.attribute),{values:t}),m.UpdateType.ATTRIBUTE)}static{this.\u0275fac=function(t){return new(t||i)(h(se),h(Oe),h(te))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-multi-selection-image"]],standalone:!1,features:[Ye([ot]),ye],decls:3,vars:4,consts:[[1,"cx-row",3,"id"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","cx-configurator-select",3,"id",4,"ngIf"],[1,"cx-configurator-select",3,"id"],["type","checkbox",1,"form-input",3,"click","id","value","formControl","name","cxFocus"],[1,"cx-label-container"],[1,"form-check-label",3,"id","for"],[3,"ngClass","src","alt","title",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"cxPopover","cxPopoverOptions","title",4,"ngIf"],[3,"formula"],[3,"ngClass","src","alt","title"],[3,"ngClass"],[3,"cxPopover","cxPopoverOptions","title"],[3,"type"]],template:function(t,n){t&1&&(l(0,"div",0),_(1,Hc,2,1,"ng-container",1),d(2,"async"),p()),t&2&&(w("id",n.createAttributeIdForConfigurator(n.attribute)),a(),s("ngIf",f(2,2,n.changedPrices$)))},dependencies:[we,qt,Be,Le,Pe,Ce,W,xe,Re,Bn,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Up=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({productConfigurator:{assignment:{AttributeType_multi_selection_image:Ro,AttributeType_read_only_multi_selection_image:Ro}}})],imports:[_e,ue,le,L,Q,be,Ne,Ln]})}}return i})(),Bp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-not-supported"]],standalone:!1,decls:3,vars:3,template:function(t,n){t&1&&(l(0,"em"),y(1),d(2,"cxTranslate"),p()),t&2&&(a(),ne(f(2,1,"configurator.attribute.notSupported")))},dependencies:[ee],encapsulation:2,changeDetection:0})}}return i})(),Lp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({productConfigurator:{assignment:{AttributeType_not_implemented:Bp}}})],imports:[L,Q]})}}return i})(),No=(()=>{class i extends fn{constructor(e,t,n,r,c){super(e,t,n,r,c),this.quantityService=e,this.translation=t,this.attributeComponentContext=n,this.configuratorCommonsService=r,this.configuratorStorefrontUtilsService=c,this.attributeRadioButtonForm=new Te("")}ngOnInit(){this.attributeRadioButtonForm.setValue(this.attribute.selectedSingleValue)}static{this.\u0275fac=function(t){return new(t||i)(h(Vt),h(Ee),h(Oe),h(te),h(se))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-radio-button"]],standalone:!1,features:[Ye([ot]),ye],decls:9,vars:8,consts:[[2,"display","none"],[3,"id"],["class","cx-attribute-level-quantity-price",4,"ngIf"],[4,"ngIf"],["class","cx-configurator-attribute-additional-value",4,"ngIf"],[1,"cx-attribute-level-quantity-price"],[3,"changeQuantity","quantityOptions"],[3,"formula",4,"ngIf"],[3,"formula"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],[1,"cx-value-label-pair"],["type","radio","formcontrolname","attributeRadioButtonForm",1,"form-check-input",3,"change","id","formControl","value","name","cxFocus"],["aria-hidden","true",1,"form-check-label","form-radio-label",3,"id","for"],[3,"text","textSize","productName","tabIndex",4,"ngIf"],[1,"cx-value-price"],[3,"text","textSize","productName","tabIndex"],[1,"cx-configurator-attribute-additional-value"]],template:function(t,n){t&1&&(l(0,"fieldset")(1,"legend",0),y(2),p(),l(3,"div",1),_(4,Wc,3,2,"div",2)(5,Xc,2,1,"ng-container",3),d(6,"async"),_(7,Zc,1,0,"cx-configurator-attribute-numeric-input-field",4)(8,Jc,1,0,"cx-configurator-attribute-input-field",4),p()()),t&2&&(a(2),ne(n.attribute.label),a(),w("id",n.createAttributeIdForConfigurator(n.attribute)),a(),s("ngIf",n.withQuantity),a(),s("ngIf",f(6,6,n.changedPrices$)),a(2),s("ngIf",n.isAdditionalValueNumeric),a(),s("ngIf",n.isAdditionalValueAlphaNumeric))},dependencies:[Ce,W,yt,Kt,Mn,Be,we,Le,Re,Dr,ni,ht,J],encapsulation:2,changeDetection:0})}}return i})(),kp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({productConfigurator:{assignment:{AttributeType_radioGroup:No,AttributeType_radioGroup_add:No}}})],imports:[L,xt,ue,Q,_e,le,Ne,Nr,Rr,Ct]})}}return i})(),$p=(()=>{class i extends qe{constructor(e,t){super(),this.translationService=e,this.attributeComponentContext=t,this.attribute=t.attribute,this.group=t.group.id,this.expMode=t.expMode,this.initPriceChangedEvent(t.isPricingAsync,t.attribute.key)}getCurrentValueName(e,t){let n="";return e.selectedSingleValue&&!t?n=e.selectedSingleValue:e.userInput&&!t?n=e.userInput:t&&t.valueDisplay&&(n=t?.valueDisplay),n}getAriaLabel(e,t){let n="";if(t){let r=this.getCurrentValueName(e,t);t.valuePrice&&t.valuePrice?.value!==0?t.valuePriceTotal&&t.valuePriceTotal?.value!==0?n=this.translate("configurator.a11y.readOnlyValueOfAttributeFullWithPrice",r,e,t.valuePriceTotal?.formattedValue):n=this.translate("configurator.a11y.readOnlyValueOfAttributeFullWithPrice",r,e,t.valuePrice?.formattedValue):n=this.translate("configurator.a11y.readOnlyValueOfAttributeFull",r,e)}else{let r=this.getCurrentValueName(e);n=this.translate("configurator.a11y.readOnlyValueOfAttributeFull",r,e)}return n}translate(e,t,n,r){let c="",g=r?{value:t,attribute:n.label,price:r}:{value:t,attribute:n.label};return this.translationService.translate(e,g).pipe(E(1)).subscribe(I=>c=I),c}static{this.\u0275fac=function(t){return new(t||i)(h(Ee),h(Oe))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-read-only"]],standalone:!1,features:[Ye([ot]),ye],decls:5,vars:3,consts:[["noStaticDomain",""],[3,"id"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],["class","form-check",4,"ngIf"],[1,"form-check"],["role","note","tabindex","0",1,"cx-visually-hidden",3,"id"],[1,"cx-value-label-pair"],["aria-hidden","true",1,"cx-read-only-attribute-label",3,"id"],[3,"text","textSize","productName","tabIndex",4,"ngIf"],[1,"cx-value-price"],[3,"formula"],[3,"text","textSize","productName","tabIndex"],[4,"ngIf"],["aria-hidden","true",1,"cx-read-only-attribute-label"],["aria-hidden","true"]],template:function(t,n){if(t&1&&(l(0,"fieldset")(1,"div",1),_(2,ns,2,1,"ng-container",2)(3,as,2,2,"ng-template",null,0,de),p()()),t&2){let r=oe(4);a(),w("id",n.createAttributeIdForConfigurator(n.attribute)),a(),s("ngIf",n.attribute.values&&n.attribute.values.length>0)("ngIfElse",r)}},dependencies:[Re,ht,Ce,W,J],encapsulation:2,changeDetection:0})}}return i})(),jp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({productConfigurator:{assignment:{AttributeType_readonly:$p}}})],imports:[_e,ue,le,Ne,Ct,L,Q]})}}return i})(),qp=(()=>{class i extends fn{constructor(e,t,n,r,c){super(e,t,n,r,c),this.quantityService=e,this.translation=t,this.attributeComponentContext=n,this.configuratorCommonsService=r,this.configuratorStorefrontUtilsService=c,this.RETRACT_VALUE_CODE=m.RetractValueCode,this.attributeDropDownForm=new Te(""),this.group=n.group.id}ngOnInit(){this.attributeDropDownForm.setValue(this.attribute.selectedSingleValue);let e=this.attribute.values;if(e&&e.length>0){let t=e.find(n=>n.selected);t&&(this.selectionValue=t)}}get selectedValue(){let e;if(this.selectionValue)e=this.selectionValue;else throw new Error("selectedValue called without a defined selectionValue");return e}extractProductCardParameters(){return{hideRemoveButton:!0,productBoundValue:this.selectedValue,singleDropdown:!0,withQuantity:!1,loading$:this.loading$,attributeId:this.getAttributeCode(this.attribute),attributeName:this.attribute.name,itemCount:0,itemIndex:0}}isNotRetractValue(){return(this.selectionValue&&this.selectionValue?.valueCode!==m.RetractValueCode)??!1}isRetractValue(e){return e===m.RetractValueCode}static{this.\u0275fac=function(t){return new(t||i)(h(Vt),h(Ee),h(Oe),h(te),h(se))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-single-selection-bundle-dropdown"]],standalone:!1,features:[ye],decls:3,vars:3,consts:[["class","form-group",4,"ngIf"],[3,"id","productCardOptions","handleDeselect",4,"ngIf"],["class","cx-attribute-level-quantity-price",4,"ngIf"],[1,"form-group"],[1,"cx-visually-hidden",3,"for"],[1,"form-control",3,"change","id","ngClass","formControl","cxFocus"],[3,"label","selected","value",4,"ngFor","ngForOf"],[3,"label","selected","value"],[3,"handleDeselect","id","productCardOptions"],[1,"cx-attribute-level-quantity-price"],[3,"changeQuantity","quantityOptions"],[3,"formula"]],template:function(t,n){t&1&&_(0,ss,7,19,"div",0)(1,us,1,2,"cx-configurator-attribute-product-card",1)(2,ls,3,2,"div",2),t&2&&(s("ngIf",n.attribute==null||n.attribute.values==null?null:n.attribute.values.length),a(),s("ngIf",n.isNotRetractValue()),a(),s("ngIf",n.withQuantity))},dependencies:[Pe,Ce,W,Ar,Vn,Gn,Pn,Be,we,Le,yt,Re,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Kp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({productConfigurator:{assignment:{AttributeType_dropdownProduct:qp}}})],imports:[L,Fr,ue,Q,_e,Je,le,xt,Ne]})}}return i})(),Hp=(()=>{class i extends fn{extractProductCardParameters(e,t){return{hideRemoveButton:this.attribute.required,fallbackFocusId:this.getFocusIdOfNearestValue(e),productBoundValue:e,loading$:this.loading$,attributeId:this.getAttributeCode(this.attribute),attributeLabel:this.attribute.label,attributeName:this.attribute.name,itemCount:this.attribute.values?.length?this.attribute.values.length:0,itemIndex:t}}getFocusIdOfNearestValue(e){if(!this.attribute.values)return"n/a";let t=this.attribute.values.findIndex(n=>n.valueCode===e.valueCode);return t--,t<0&&(t=this.attribute.values.length>1?1:0),this.createFocusId(this.getAttributeCode(this.attribute).toString(),this.attribute.values[t].valueCode)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=xn(i)))(n||i)}})()}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-single-selection-bundle"]],standalone:!1,features:[ye],decls:1,vars:1,consts:[[3,"id",4,"ngIf"],[3,"id"],["class","cx-attribute-level-quantity-price",4,"ngIf"],[3,"id","productCardOptions","handleDeselect","handleSelect",4,"ngFor","ngForOf"],[1,"cx-attribute-level-quantity-price"],[3,"changeQuantity","quantityOptions"],[3,"formula"],[3,"handleDeselect","handleSelect","id","productCardOptions"]],template:function(t,n){t&1&&_(0,gs,3,3,"div",0),t&2&&s("ngIf",n.attribute==null||n.attribute.values==null?null:n.attribute.values.length)},dependencies:[Ce,W,Ar,yt,Re],encapsulation:2,changeDetection:0})}}return i})(),Qp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({productConfigurator:{assignment:{AttributeType_radioGroupProduct:Hp}}})],imports:[L,Fr,xt,ue,Q,xi,_e,le,lt,dt,Ne]})}}return i})(),Mo=(()=>{class i extends qe{constructor(e,t){mi("a11yDifferentiateFocusedAndSelected"),super(),this.attributeComponentContext=e,this.configuratorCommonsService=t,this.attributeRadioButtonForm=new Te(""),this.iconTypes=pe,this.config=z(Ke),this.featureConfigService=z(pt),this.attribute=e.attribute,this.ownerKey=e.owner.key,this.expMode=e.expMode,this.initPriceChangedEvent(e.isPricingAsync,e.attribute.key)}ngOnInit(){this.attributeRadioButtonForm.setValue(this.attribute.selectedSingleValue)}onClick(e){this.configuratorCommonsService.updateConfiguration(this.ownerKey,N(A({},this.attribute),{selectedSingleValue:e}),m.UpdateType.ATTRIBUTE)}extractValuePriceFormulaParameters(e){return{price:e?.valuePrice,isLightedUp:e?e.selected:!1}}getValueDescriptionStyleClasses(){return this.featureConfigService?.isEnabled("a11yImproveContrast")?"cx-value-description santorini-updated":"cx-value-description"}static{this.\u0275fac=function(t){return new(t||i)(h(Oe),h(te))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-attribute-single-selection-image"]],standalone:!1,features:[Ye([ot]),ye],decls:3,vars:4,consts:[["role","radiogroup",1,"cx-row",3,"id"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","cx-configurator-select",3,"id",4,"ngIf"],[1,"cx-configurator-select",3,"id"],["type","radio","formcontrolname","attributeRadioButtonForm","role","radio",1,"form-input",3,"click","id","value","formControl","name","cxFocus"],[1,"cx-label-container"],[1,"form-check-label","form-radio-label",3,"id","for"],[3,"ngClass","src","alt","title",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"cxPopover","cxPopoverOptions","title",4,"ngIf"],[3,"formula"],[3,"ngClass","src","alt","title"],[3,"ngClass"],[3,"cxPopover","cxPopoverOptions","title"],[3,"type"]],template:function(t,n){t&1&&(l(0,"div",0),_(1,ys,2,1,"ng-container",1),d(2,"async"),p()),t&2&&(w("id",n.createAttributeIdForConfigurator(n.attribute)),a(),s("ngIf",f(2,2,n.changedPrices$)))},dependencies:[we,Kt,Mn,Be,Le,Pe,Ce,W,xe,Re,Bn,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Wp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({productConfigurator:{assignment:{AttributeType_single_selection_image:Mo,AttributeType_read_only_single_selection_image:Mo}}})],imports:[_e,ue,le,L,Q,be,Ne,Ln]})}}return i})(),cn=class{};gt.CONFLICT_SOLVER="CONFLICT_SOLVER";gt.CONFIGURATOR_OV_FILTER="CONFIGURATOR_OV_FILTER";gt.CONFIGURATOR_RESTART_DIALOG="CONFIGURATOR_RESTART_DIALOG";var Yp=(()=>{class i{toggleWarnings(){this.showWarnings=!this.showWarnings}toggleErrors(){this.showErrors=!this.showErrors}constructor(e,t){this.configuratorCommonsService=e,this.configRouterExtractorService=t,this.iconTypes=pe,this.configuration$=this.configRouterExtractorService.extractRouterData().pipe(R(n=>this.configuratorCommonsService.getConfiguration(n.owner))),this.showWarnings=!1,this.showErrors=!1}static{this.\u0275fac=function(t){return new(t||i)(h(te),h(ve))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configuration-conflict-and-error-messages"]],standalone:!1,decls:2,vars:3,consts:[[4,"ngIf"],["aria-live","assertive","aria-atomic","true",1,"alert-message","alert-message-invalid-warning"],[1,"alert-icon"],["type","WARNING"],["class","cx-warning-text",4,"ngIf"],["class","cx-warning-toggle",3,"click",4,"ngIf"],[1,"cx-warning-messages"],["class","cx-warning-message",3,"open",4,"ngFor","ngForOf"],[1,"cx-warning-text"],[1,"cx-warning-toggle",3,"click"],["type","CARET_DOWN"],["type","CARET_UP"],[1,"cx-warning-message"],["aria-live","assertive","aria-atomic","true","role","alert",1,"alert-message","alert-message-error"],["type","ERROR"],["class","cx-error-text",4,"ngIf"],["class","cx-error-toggle",3,"click",4,"ngIf"],[1,"cx-error-messages"],["class","cx-error-message",3,"open",4,"ngFor","ngForOf"],[1,"cx-error-text"],[1,"cx-error-toggle",3,"click"],[1,"cx-error-message"]],template:function(t,n){t&1&&(_(0,Ns,3,2,"ng-container",0),d(1,"async")),t&2&&s("ngIf",f(1,1,n.configuration$))},dependencies:[Ce,W,xe,J,ee],encapsulation:2,changeDetection:0})}}return i})(),zp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{CpqConfiguratorConflictAndErrorMessagesComponent:{component:Yp}}})],imports:[L,lt,dt,Q,be]})}}return i})(),Xp=(()=>{class i{constructor(){this.groupType=m.GroupType,this.iconTypes=pe,this.tabindex="0",this.role="note"}displayConflictDescription(e){return e.groupType===m.GroupType.CONFLICT_GROUP}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-conflict-description"]],hostVars:2,hostBindings:function(t,n){t&2&&In("tabindex",n.tabindex)("role",n.role)},inputs:{currentGroup:"currentGroup"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],["aria-hidden","true",3,"type"]],template:function(t,n){t&1&&_(0,Ms,3,2,"ng-container",0),t&2&&s("ngIf",n.displayConflictDescription(n.currentGroup))},dependencies:[W,xe],encapsulation:2,changeDetection:0})}}return i})(),Zp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({imports:[L,be]})}}return i})(),Jp=(()=>{class i{constructor(){this.groupType=m.GroupType,this.tabindex="0",this.role="note"}displayConflictSuggestion(e){return e.groupType===m.GroupType.CONFLICT_GROUP&&e.attributes?e.attributes.length>0:!1}createSuggestionUiKey(){return"suggestion--"+this.suggestionNumber}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-conflict-suggestion"]],hostVars:2,hostBindings:function(t,n){t&2&&In("tabindex",n.tabindex)("role",n.role)},inputs:{currentGroup:"currentGroup",attribute:"attribute",suggestionNumber:"suggestionNumber"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],[1,"cx-title"],["aria-hidden","true"]],template:function(t,n){t&1&&_(0,Ps,10,23,"ng-container",0),t&2&&s("ngIf",n.displayConflictSuggestion(n.currentGroup))},dependencies:[W,ee],encapsulation:2,changeDetection:0})}}return i})(),ed=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({imports:[L,Q]})}}return i})(),td=(()=>{class i{constructor(e,t,n,r,c,g,I){this.productService=e,this.routingService=t,this.configRouterExtractorService=n,this.configuratorCommonsService=r,this.breakpointService=c,this.windowRef=g,this.location=I,this.container$=this.configRouterExtractorService.extractRouterData().pipe(R(C=>this.configuratorCommonsService.getConfiguration(C.owner).pipe(O(v=>({routerData:C,configuration:v}))).pipe(R(v=>this.productService.get(v.configuration.productCode).pipe(O(K=>({routerData:v.routerData,configuration:v.configuration,product:K})))))))}navigateToCart(){this.routingService.go("cart")}exitConfiguration(){this.container$.pipe(E(1)).subscribe(e=>{e.routerData.owner.type===ce.OwnerType.CART_ENTRY?this.navigateToCart():this.routingService.go({cxRoute:"product",params:e.product})})}isDesktop(){return this.breakpointService.isUp(wt.md)}isMobile(){return this.breakpointService.isDown(wt.sm)}static{this.\u0275fac=function(t){return new(t||i)(h(He),h(Ze),h(ve),h(te),h(Ot),h(Et),h(Wr))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-exit-button"]],standalone:!1,decls:2,vars:3,consts:[[4,"ngIf"],["tabindex","0",1,"btn","btn-tertiary",3,"click"]],template:function(t,n){t&1&&(_(0,$s,6,7,"ng-container",0),d(1,"async")),t&2&&s("ngIf",f(1,1,n.container$))},dependencies:[W,J,ee],encapsulation:2})}}return i})(),id=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorExitButton:{component:td}}}),Et],imports:[L,Q]})}}return i})(),bt=(()=>{class i{constructor(){this._expModeRequested=new oi(1),this._expModeActive=new oi(1)}setExpModeRequested(e){this._expModeRequested.next(e)}getExpModeRequested(){return this._expModeRequested}setExpModeActive(e){this._expModeActive.next(e)}getExpModeActive(){return this._expModeActive}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Mr=(()=>{class i{constructor(e,t,n,r,c){this.configuratorCommonsService=e,this.configuratorGroupsService=t,this.languageService=n,this.configUtils=r,this.configExpertModeService=c,this.typePrefix="AttributeType_",this.activeLanguage$=this.languageService.getActive(),this.uiType=m.UiType,this.featureConfigService=z(pt),this.trackByFn=(g,I)=>this.featureConfigService.isEnabled("productConfiguratorDeltaRendering")?I.key:I}updateConfiguration(e){this.configuratorCommonsService.updateConfiguration(e.ownerKey,e.changedAttribute,e.updateType)}isConflictGroupType(e){return e?this.configuratorGroupsService.isConflictGroupType(e):!1}displayConflictDescription(e){return e.groupType!==void 0&&this.configuratorGroupsService.isConflictGroupType(e.groupType)&&e.name!==""}createGroupId(e){return this.configUtils.createGroupId(e)}createAttributeUiKey(e,t){return this.configUtils.createAttributeUiKey(e,t)}get expMode(){return this.configExpertModeService.getExpModeActive()}getComponentKey(e){return e.uiTypeVariation?.includes(m.CustomUiTypeIndicator)?this.typePrefix+e.uiTypeVariation:this.typePrefix+e.uiType}static{this.\u0275fac=function(t){return new(t||i)(h(te),h(We),h(go),h(se),h(bt))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-group"]],inputs:{group:"group",owner:"owner",isNavigationToGroupEnabled:"isNavigationToGroupEnabled",isPricingAsync:"isPricingAsync"},standalone:!1,decls:3,vars:4,consts:[["role","tabpanel",3,"id"],[4,"ngIf"],["class","cx-group-attribute",3,"id","cx-hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"currentGroup"],[1,"cx-group-attribute",3,"id"],[3,"currentGroup","attribute","suggestionNumber"],[3,"cxConfiguratorAttributeComponent"]],template:function(t,n){t&1&&(l(0,"div",0),_(1,Hs,2,1,"ng-container",1)(2,Ys,4,7,"div",2),p()),t&2&&(w("id",n.createGroupId(n.group.id)),a(),s("ngIf",n.displayConflictDescription(n.group)),a(),s("ngForOf",n.group.attributes)("ngForTrackBy",n.trackByFn))},dependencies:[Ce,W,Xp,Jp,bp,J],encapsulation:2,changeDetection:0})}}return i})(),nd=(()=>{class i{constructor(e,t,n,r){this.configuratorStorefrontUtilsService=e,this.configuratorCommonsService=t,this.launchDialogService=n,this.focusService=r,this.iconTypes=pe,this.uiType=m.UiType,this.focusConfig={trap:!0,block:!0,autofocus:!0,focusOnEscape:!0},this.subscription=new Ve}init(e,t){this.focusService.clear(),this.conflictGroup$=e,this.routerData$=t}ngOnInit(){this.subscription.add(this.launchDialogService.data$.subscribe(e=>{this.init(e.conflictGroup,e.routerData)}))}ngOnDestroy(){this.subscription?.unsubscribe()}dismissModal(e){this.routerData$.pipe(E(1)).subscribe(t=>this.configuratorCommonsService.dismissConflictSolverDialog(t.owner)),this.launchDialogService.closeDialog(e),this.configuratorStorefrontUtilsService.scrollToConfigurationElement(".VariantConfigurationTemplate"),this.configuratorStorefrontUtilsService.focusFirstAttribute()}static{this.\u0275fac=function(t){return new(t||i)(h(se),h(te),h(ft),h(et))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-conflict-solver-dialog"]],standalone:!1,decls:20,vars:20,consts:[["role","dialog","aria-modal","true","aria-labelledby","dialogTitle",1,"cx-modal-container"],["aria-atomic","true","aria-live","assertive","role","alert","aria-relevant","additions",1,"cx-visually-hidden"],[1,"cx-modal-content",3,"cxFocus"],[1,"cx-dialog-header","modal-header"],["id","dialogTitle","class","cx-dialog-title modal-title","tabindex","0",4,"cxFeature"],["type","button",1,"close",3,"click","title"],["aria-hidden","true"],[3,"type"],[1,"cx-dialog-body","modal-body"],[1,"cx-msg-warning"],[4,"ngIf"],["id","dialogTitle","tabindex","0",1,"cx-dialog-title","modal-title"],[3,"group","owner","isNavigationToGroupEnabled"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"div",1),y(2),d(3,"cxTranslate"),p(),l(4,"div",2)(5,"div",3),_(6,zs,3,3,"h3",4)(7,Xs,3,3,"div",4),l(8,"button",5),d(9,"cxTranslate"),d(10,"cxTranslate"),V("click",function(){return n.dismissModal("Close conflict solver dialog")}),l(11,"span",6),T(12,"cx-icon",7),p()()(),l(13,"div",8)(14,"div",9),T(15,"cx-icon",7),y(16),d(17,"cxTranslate"),p(),_(18,Js,3,3,"ng-container",10),d(19,"async"),p()()()),t&2&&(a(2),S(" ",f(3,10,"configurator.header.conflictWarning")," "),a(2),s("cxFocus",n.focusConfig),a(2),s("cxFeature","a11yDialogsHeading"),a(),s("cxFeature","!a11yDialogsHeading"),a(),w("title",f(9,12,"configurator.a11y.closeConflictSolverModal")),M("aria-label",f(10,14,"configurator.a11y.closeConflictSolverModal")),a(4),s("type",n.iconTypes.CLOSE),a(3),s("type",n.iconTypes.ERROR),a(),S(" ",f(17,16,"configurator.header.conflictWarning")," "),a(2),s("ngIf",f(19,18,n.routerData$)))},dependencies:[W,xe,Mr,we,fi,J,ee],encapsulation:2,changeDetection:0})}}return i})(),rd=(()=>{class i{constructor(e,t,n){this.launchDialogService=e,this.configRouterExtractorService=t,this.configuratorGroupsService=n,this.subscription=new Ve,this.routerData$=this.configRouterExtractorService.extractRouterData(),this.conflictGroupAndRouterData$=this.routerData$.pipe(R(r=>this.configuratorGroupsService.getConflictGroupForImmediateConflictResolution(r.owner).pipe(O(c=>({conflictGroup:c,routerData:r})))),Me(0)),this.controlDialog()}controlDialog(){this.subscription.add(this.conflictGroupAndRouterData$.pipe(Y(e=>!!e.conflictGroup),Tt((e,t)=>e.conflictGroup===t.conflictGroup&&e.routerData.navigationId===t.routerData.navigationId)).subscribe(()=>{this.openModal(),this.subscribeToCloseDialog()}))}subscribeToCloseDialog(){this.subscription.add(this.conflictGroupAndRouterData$.pipe(Lr(e=>!e.conflictGroup)).subscribe(()=>this.closeModal("CLOSE_NO_CONFLICTS_EXIST")))}openModal(){this.launchDialogService.openDialogAndSubscribe(gt.CONFLICT_SOLVER,void 0,{conflictGroup:this.conflictGroupAndRouterData$.pipe(O(e=>e.conflictGroup)),routerData:this.routerData$})}closeModal(e){this.launchDialogService.closeDialog(e)}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)(P(ft),P(ve),P(We))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Pr=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorForm:{component:Mr}}})],imports:[ue,le,L,Q,Je,Lp,Rr,Tp,Nr,Op,kp,Qp,Gp,jp,Wp,Kp,Np,Dp,Pp,Up,Zp,ed,ca]})}}return i})(),od={launch:{CONFLICT_SOLVER:{inlineRoot:!0,component:nd,dialogType:vi.DIALOG}}},ad=(()=>{class i{constructor(e){}static{this.\u0275fac=function(t){return new(t||i)(P(rd))}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z(od)],imports:[L,be,Q,Pr,_e,jt]})}}return i})(),cd=(()=>{class i{constructor(e,t,n,r,c,g){this.configuratorCommonsService=e,this.configuratorGroupsService=t,this.configRouterExtractorService=n,this.configExpertModeService=r,this.launchDialogService=c,this.globalMessageService=g,this.subscription=new Ve,this.keyboardFocusService=z(et),this.routerData$=this.configRouterExtractorService.extractRouterData(),this.configuration$=this.routerData$.pipe(Y(I=>I.pageType===At.PageType.CONFIGURATION),R(I=>this.configuratorCommonsService.getOrCreateConfiguration(I.owner,I.configIdTemplate))),this.currentGroup$=this.routerData$.pipe(R(I=>this.configuratorGroupsService.getCurrentGroup(I.owner)))}ngOnDestroy(){this.subscription.unsubscribe()}listenForConflictResolution(){this.subscription.add(this.routerData$.pipe(R(e=>this.configuratorCommonsService.hasConflicts(e.owner)),Tt(),$r(1),Y(e=>!e)).subscribe(()=>this.displayConflictResolvedMessage()))}displayConflictResolvedMessage(){this.globalMessageService.add({key:"configurator.header.conflictsResolved"},Dn.MSG_TYPE_CONFIRMATION)}ngOnInit(){this.listenForConflictResolution(),this.routerData$.pipe(R(e=>this.configuratorCommonsService.getConfiguration(e.owner)),E(1)).subscribe(e=>{this.configuratorCommonsService.checkConflictSolverDialog(e.owner)}),this.routerData$.pipe(Y(e=>e.displayRestartDialog===!0),R(e=>this.configuratorCommonsService.getConfiguration(e.owner)),E(1),Y(e=>e.interactionState.newConfiguration===!1),Me(0)).subscribe(e=>{this.launchDialogService.openDialogAndSubscribe(gt.CONFIGURATOR_RESTART_DIALOG,void 0,{owner:e.owner})}),this.routerData$.pipe(E(1)).subscribe(e=>{e.resolveIssues?this.configuratorCommonsService.hasConflicts(e.owner).pipe(E(1)).subscribe(t=>{t&&!e.skipConflicts?this.configuratorGroupsService.navigateToConflictSolver(e.owner):this.configuratorGroupsService.navigateToFirstIncompleteGroup(e.owner)}):this.keyboardFocusService.clear(),e.expMode&&this.configExpertModeService?.setExpModeRequested(e.expMode)})}isNavigationToGroupEnabled(e){return!e.immediateConflictResolution}isDialogActive(e){return e.interactionState.showConflictSolverDialog??!1}static{this.\u0275fac=function(t){return new(t||i)(h(te),h(We),h(ve),h(bt),h(ft),h(Rn))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-form"]],standalone:!1,decls:4,vars:4,consts:[["ghostForm",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"group","owner","isNavigationToGroupEnabled","isPricingAsync"],[4,"ngFor","ngForOf"],[1,"cx-ghost-attribute"],[1,"cx-ghost-header"],[1,"cx-ghost-title","ghost"],[1,"cx-ghost-icon","ghost"],[1,"cx-ghost-body"],[1,"cx-ghost-text","ghost"],[1,"cx-ghost-price","ghost"],[1,"cx-ghost-description-box"],[1,"cx-ghost-description","ghost"],["class","cx-ghost-radiobutton-value",4,"ngFor","ngForOf"],[1,"cx-ghost-radiobutton-value"],[1,"cx-ghost-value-label-pair"],[1,"cx-ghost-value-icon","ghost"],[1,"cx-ghost-label","ghost"],[1,"cx-ghost-value-price","ghost"],[1,"cx-ghost-price"]],template:function(t,n){if(t&1&&(_(0,iu,2,2,"ng-container",1),d(1,"async"),_(2,au,1,2,"ng-template",null,0,de)),t&2){let r=oe(3);s("ngIf",f(1,2,n.configuration$))("ngIfElse",r)}},dependencies:[Ce,W,Mr,J],encapsulation:2,changeDetection:0})}}return i})(),Po=class{},sd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorForm:{component:cd}}})],imports:[L,Q,Je,Pr]})}}return i})(),ud=(()=>{class i{constructor(e){this.windowRef=e}getFocusedGroupIndex(e){if(e){let t=e.find(n=>n.nativeElement?.id===this.windowRef?.document?.activeElement?.id);if(t)return e.toArray().indexOf(t)}}updateCurrentGroupIndex(e,t){return t&&t!==e?t:e}focusNextGroup(e,t){let n=this.getFocusedGroupIndex(t);e=this.updateCurrentGroupIndex(e,n),t&&(e===t.length-1?t.first?.nativeElement?.focus():t.toArray()[e+1]?.nativeElement.focus())}focusPreviousGroup(e,t){let n=this.getFocusedGroupIndex(t);e=this.updateCurrentGroupIndex(e,n),t&&(e===0?t.last?.nativeElement?.focus():t.toArray()[e-1]?.nativeElement?.focus())}switchGroupOnArrowPress(e,t,n){e.preventDefault(),e.code==="ArrowUp"?this.focusPreviousGroup(t,n):e.code==="ArrowDown"&&this.focusNextGroup(t,n)}isBackBtnFocused(e){if(e)return e.first?.nativeElement?.classList?.value?.indexOf("cx-menu-back")!==-1&&this.windowRef?.document?.activeElement===e.first?.nativeElement}isActiveGroupInGroupList(e){let t;return e&&(t=e.find(n=>n.nativeElement?.classList?.value?.indexOf("active")!==-1)),t!==void 0}static{this.\u0275fac=function(t){return new(t||i)(P(Et))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),ld=(()=>{class i{constructor(e,t,n,r,c,g,I,C,v){this.configCommonsService=e,this.configuratorGroupsService=t,this.hamburgerMenuService=n,this.configRouterExtractorService=r,this.configUtils=c,this.configGroupMenuService=g,this.directionService=I,this.translation=C,this.configExpertModeService=v,this.breakpointService=z(Ot),this.featureConfigService=z(pt),this.routerData$=this.configRouterExtractorService.extractRouterData(),this.configuration$=this.routerData$.pipe(R(K=>this.configCommonsService.getConfiguration(K.owner).pipe(O(re=>({routerData:K,configuration:re})),Y(re=>re.configuration.complete&&re.configuration.consistent||re.configuration.interactionState.issueNavigationDone||!re.routerData.resolveIssues)).pipe(O(re=>re.configuration)))),this.currentGroup$=this.routerData$.pipe(R(K=>this.configuratorGroupsService.getCurrentGroup(K.owner))),this.displayedParentGroup$=this.configuration$.pipe(R(K=>this.configuratorGroupsService.getMenuParentGroup(K.owner)),R(K=>K?this.getCondensedParentGroup(K):Se(K))),this.displayedGroups$=this.displayedParentGroup$.pipe(R(K=>this.configuration$.pipe(O(re=>K?this.condenseGroups(K.subGroups):this.condenseGroups(re.groups))))),this.iconTypes=pe,this.ERROR=" ERROR",this.COMPLETE=" COMPLETE",this.WARNING=" WARNING",this.ICON="ICON",this.trackByFn=(K,re)=>this.featureConfigService.isEnabled("productConfiguratorDeltaRendering")?re.id:re}click(e,t){this.configuration$.pipe(E(1)).subscribe(n=>{n.interactionState.currentGroup!==e.id&&(this.configuratorGroupsService.hasSubGroups(e)?(this.configuratorGroupsService.setMenuParentGroup(n.owner,e.id),t&&this.setFocusForSubGroup(e,t.id)):(this.configuratorGroupsService.navigateToGroup(n,e.id),this.hamburgerMenuService.toggle(!0),this.configUtils.scrollToConfigurationElement(".VariantConfigurationTemplate, .CpqConfigurationTemplate")))})}navigateUp(e){this.displayedParentGroup$.pipe(E(1)).subscribe(t=>{if(t){let n=this.getParentGroup(t);this.configuration$.pipe(E(1)).subscribe(r=>{n.pipe(E(1)).subscribe(c=>{this.configuratorGroupsService.setMenuParentGroup(r.owner,c?c.id:void 0)})})}}),e&&this.setFocusForMainMenu(e.id)}getConflictNumber(e){return e&&e.groupType===m.GroupType.CONFLICT_HEADER_GROUP?"("+e.subGroups.length+")":""}hasSubGroups(e){return this.configuratorGroupsService.hasSubGroups(e)}getParentGroup(e){return this.configuration$.pipe(O(t=>this.configuratorGroupsService.getParentGroup(t.groups,e)))}getCondensedParentGroup(e){return e&&e.subGroups&&e.subGroups.length===1&&e.groupType!==m.GroupType.CONFLICT_HEADER_GROUP?this.getParentGroup(e).pipe(R(t=>t?this.getCondensedParentGroup(t):Se(t))):Se(e)}condenseGroups(e){return e.flatMap(t=>t.subGroups.length===1&&t.groupType!==m.GroupType.CONFLICT_HEADER_GROUP?this.condenseGroups(t.subGroups):t)}isGroupVisited(e,t){return this.configuratorGroupsService.isGroupVisited(t.owner,e.id).pipe(O(n=>n&&!this.isConflictGroupType(e.groupType??m.GroupType.ATTRIBUTE_GROUP)),E(1))}isConflictGroupType(e){return e?this.configuratorGroupsService.isConflictGroupType(e):!1}isConflictHeader(e){return e&&e.groupType===m.GroupType.CONFLICT_HEADER_GROUP}isConflictGroup(e){return e&&e.groupType===m.GroupType.CONFLICT_GROUP}getGroupStatusStyles(e,t){return this.isGroupVisited(e,t).pipe(O(n=>{let r="CLOUDCPQCONFIGURATOR",c="cx-menu-item";return t.owner.configuratorType!==r&&!e.consistent&&(c=c+this.WARNING),t.owner.configuratorType!==r&&e.complete&&e.consistent&&n&&(c=c+this.COMPLETE),!e.complete&&n&&(c=c+this.ERROR),c}))}isLTRDirection(){return this.directionService.getDirection()===hi.LTR}isRTLDirection(){return this.directionService.getDirection()===hi.RTL}isForwardsNavigation(e){return e.code==="ArrowRight"&&this.isLTRDirection()||e.code==="ArrowLeft"&&this.isRTLDirection()}isBackNavigation(e){return e.code==="ArrowLeft"&&this.isLTRDirection()||e.code==="ArrowRight"&&this.isRTLDirection()}switchGroupOnArrowPress(e,t,n,r){this.handleFocusLoopInMobileMode(e),e.code==="ArrowUp"||e.code==="ArrowDown"?this.configGroupMenuService.switchGroupOnArrowPress(e,t,this.groups):this.isForwardsNavigation(e)?n&&this.hasSubGroups(n)&&this.click(n,r):this.isBackNavigation(e)&&this.configGroupMenuService.isBackBtnFocused(this.groups)&&this.navigateUp(r)}handleFocusLoopInMobileMode(e){this.breakpointService.isDown(wt.md).pipe(E(1)).subscribe(t=>{t&&e.code==="Tab"&&!e.shiftKey&&(this.configGroupMenuService.isBackBtnFocused(this.groups)?this.configGroupMenuService.isActiveGroupInGroupList(this.groups)||(e.preventDefault(),this.configUtils.focusFirstActiveElement("cx-hamburger-menu")):(e.preventDefault(),this.configUtils.focusFirstActiveElement("cx-hamburger-menu")))})}setFocusForMainMenu(e){let t=e;this.configuration$.pipe(E(1)).subscribe(n=>{n.groups?.forEach(r=>{r.subGroups?.length!==1&&(this.isGroupSelected(r.id,e)||this.containsSelectedGroup(r,e))&&(t=r.id)})}),this.configUtils.setFocus(t)}setFocusForSubGroup(e,t){let n="cx-menu-back";this.containsSelectedGroup(e,t)&&(n=t),this.configUtils.setFocus(n)}containsSelectedGroup(e,t){return!!e.subGroups?.find(n=>this.isGroupSelected(n.id,t)||this.containsSelectedGroup(n,t))}getTabIndex(e,t){return this.isGroupSelected(e.id,t)||this.containsSelectedGroup(e,t)?0:-1}isGroupSelected(e,t){return e===t}createAriaControls(e){return this.configUtils.createGroupId(e)}getAriaLabel(e){let t="";return e&&e.groupType&&this.isConflictGroupType(e.groupType)?this.isConflictHeader(e)?this.translation.translate("configurator.a11y.conflictsInConfiguration",{numberOfConflicts:this.getConflictNumber(e)}).pipe(E(1)).subscribe(n=>t=n):t=e.description?e.description:"":this.translation.translate("configurator.a11y.groupName",{group:e.description}).pipe(E(1)).subscribe(n=>t=n),t}createIconId(e,t){return this.ICON+e+t}getAriaDescribedby(e,t){return this.isGroupVisited(e,t).pipe(O(n=>{let r="CLOUDCPQCONFIGURATOR",c="";return t.owner.configuratorType!==r&&!e.consistent&&e.groupType&&!this.isConflictGroupType(e.groupType)&&(c=c+this.createIconId(pe.WARNING,e.id)),t.owner.configuratorType!==r&&e.complete&&e.consistent&&n&&(c=c+" "+this.createIconId(pe.SUCCESS,e.id)),!e.complete&&n&&(c=c+" "+this.createIconId(pe.ERROR,e.id)),this.hasSubGroups(e)&&(c=c+" "+this.createIconId(pe.CARET_RIGHT,e.id)),c=c+" inListOfGroups",c}))}getGroupMenuTitle(e){let t=e.description;return!this.isConflictHeader(e)&&!this.isConflictGroup(e)&&this.configExpertModeService.getExpModeActive().pipe(E(1)).subscribe(n=>{n&&(t+=` / [${e.name}]`)}),t}displayMenuItem(e){return this.configuration$.pipe(O(t=>{let n=!0;return t.immediateConflictResolution&&e.groupType===m.GroupType.CONFLICT_HEADER_GROUP&&(n=!1),n}))}isDialogActive(e){return e.interactionState.showConflictSolverDialog??!1}static{this.\u0275fac=function(t){return new(t||i)(h(te),h(We),h(jn),h(ve),h(se),h(ud),h($n),h(Ee),h(bt))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-group-menu"]],viewQuery:function(t,n){if(t&1&&at(cu,5),t&2){let r;ct(r=st())&&(n.groups=r)}},standalone:!1,decls:4,vars:4,consts:[["ghostGroups",""],["groupItem",""],[4,"ngIf","ngIfElse"],["role","tablist",1,"cx-group-menu"],["id","listOfGroups",1,"cx-visually-hidden"],["id","inListOfGroups","aria-hidden","true",1,"cx-visually-hidden"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","cx-menu-back","role","tab","aria-describedby","listOfGroups",3,"cxFocus","click","keydown",4,"ngIf"],["role","tab","aria-describedby","listOfGroups",1,"cx-menu-back",3,"click","keydown","cxFocus"],[3,"type"],["role","tab",3,"click","keydown","id","ngClass","cxFocus","tabindex"],[3,"title"],[1,"groupIndicators"],[1,"conflictNumberIndicator"],[1,"groupStatusIndicator"],[1,"WARNING",3,"type","id","title"],[1,"ERROR",3,"type","id","title"],[1,"COMPLETE",3,"type","id","title"],[1,"subGroupIndicator"],[3,"type","id","title",4,"ngIf"],[3,"type","id","title"],[1,"cx-ghost-group-menu"],["class","cx-ghost-menu-item",4,"ngFor","ngForOf"],[1,"cx-ghost-menu-item"],[1,"cx-ghost-item-title","ghost"]],template:function(t,n){if(t&1&&(_(0,hu,2,2,"ng-container",2),d(1,"async"),_(2,yu,2,2,"ng-template",null,0,de)),t&2){let r=oe(3);s("ngIf",f(1,2,n.configuration$))("ngIfElse",r)}},dependencies:[Pe,Ce,W,xe,we,J,ee],encapsulation:2,changeDetection:0})}}return i})(),pd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorMenu:{component:ld}}})],imports:[L,Q,be,_e]})}}return i})(),dd=(()=>{class i{constructor(e,t,n,r,c,g,I){this.configuratorCommonsService=e,this.configuratorGroupsService=t,this.configRouterExtractorService=n,this.configExpertModeService=r,this.breakpointService=c,this.configuratorStorefrontUtilsService=g,this.hamburgerMenuService=I,this.ghostStyle=!0,this.subscription=new Ve,this.PRE_HEADER=".PreHeader",this.ADD_TO_CART_BUTTON="cx-configurator-add-to-cart-button",this.focusFirstElementInMobileGroupList=!1,this.displayedGroup$=this.configRouterExtractorService.extractRouterData().pipe(R(C=>this.configuratorGroupsService.getCurrentGroup(C.owner).pipe(he(()=>{this.ghostStyle=!1})))),this.iconTypes=pe}ngOnInit(){this.subscription.add(this.hamburgerMenuService.isExpanded.subscribe(e=>{e?(this.configuratorStorefrontUtilsService.changeStyling(this.PRE_HEADER,"display","block"),this.configuratorStorefrontUtilsService.changeStyling(this.ADD_TO_CART_BUTTON,"z-index","0"),this.focusFirstElementInMobileGroupList=!0):(this.configuratorStorefrontUtilsService.changeStyling(this.PRE_HEADER,"display","none"),this.configuratorStorefrontUtilsService.changeStyling(this.ADD_TO_CART_BUTTON,"z-index","calc(var(--cx-popover-z-index) + 10)"),this.configuratorStorefrontUtilsService.focusFirstActiveElement(".cx-group-title"))}))}ngAfterContentChecked(){this.focusFirstElementInMobileGroupList&&(this.configuratorStorefrontUtilsService.focusFirstActiveElement("cx-configurator-group-menu"),this.focusFirstElementInMobileGroupList=!1)}ngOnDestroy(){this.subscription.unsubscribe(),this.configuratorStorefrontUtilsService.removeStyling(this.PRE_HEADER,"display")}getGroupTitle(e){let t=e.description;return e.groupType!==m.GroupType.CONFLICT_GROUP&&this.configExpertModeService.getExpModeActive().pipe(E(1)).subscribe(n=>{n&&(t+=` / [${e.name}]`)}),t}isMobile(){return this.breakpointService.isDown(wt.md)}static{this.\u0275fac=function(t){return new(t||i)(h(te),h(We),h(ve),h(bt),h(Ot),h(se),h(jn))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-group-title"]],hostVars:2,hostBindings:function(t,n){t&2&&ae("ghost",n.ghostStyle)},standalone:!1,decls:4,vars:4,consts:[["ghostGroup",""],[4,"ngIf","ngIfElse"],[1,"cx-group-title"],[4,"ngIf"],[1,"cx-ghost-group-title"]],template:function(t,n){if(t&1&&(_(0,bu,5,4,"ng-container",1),d(1,"async"),_(2,Iu,1,0,"ng-template",null,0,de)),t&2){let r=oe(3);s("ngIf",f(1,2,n.displayedGroup$))("ngIfElse",r)}},dependencies:[W,xo,J],encapsulation:2,changeDetection:0})}}return i})(),gd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorGroupTitle:{component:dd}}})],imports:[L,bo]})}}return i})(),fd=(()=>{class i{constructor(e){this.breakpointService=e}extractPriceFormulaParameters(){return{quantity:this.attributeOverview.quantity,price:this.attributeOverview.valuePrice,priceTotal:this.attributeOverview.valuePriceTotal,isLightedUp:!0}}isDesktop(){return this.breakpointService.isUp(wt.md)}static{this.\u0275fac=function(t){return new(t||i)(h(Ot))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-overview-attribute"]],inputs:{attributeOverview:"attributeOverview"},standalone:!1,decls:11,vars:26,consts:[["mobile",""],[1,"cx-visually-hidden"],["aria-hidden","true",1,"cx-attribute-value"],[4,"ngIf","ngIfElse"],["aria-hidden","true",1,"cx-attribute-label"],["aria-hidden","true",1,"cx-attribute-price"],[3,"formula"]],template:function(t,n){if(t&1&&(l(0,"span",1),y(1),d(2,"cxTranslate"),d(3,"cxTranslate"),d(4,"cxTranslate"),p(),l(5,"div",2),y(6),p(),_(7,Tu,5,2,"ng-container",3),d(8,"async"),_(9,Su,4,2,"ng-template",null,0,de)),t&2){let r=oe(10);a(),S(" ",n.attributeOverview.valuePrice&&(n.attributeOverview.valuePrice==null?null:n.attributeOverview.valuePrice.value)!==0?n.attributeOverview.valuePriceTotal&&(n.attributeOverview.valuePriceTotal==null?null:n.attributeOverview.valuePriceTotal.value)!==0?$(2,4,"configurator.a11y.valueOfAttributeFullWithPrice",St(15,Hn,n.attributeOverview.value,n.attributeOverview.attribute,n.attributeOverview.valuePriceTotal.formattedValue)):$(3,7,"configurator.a11y.valueOfAttributeFullWithPrice",St(19,Hn,n.attributeOverview.value,n.attributeOverview.attribute,n.attributeOverview.valuePrice.formattedValue)):$(4,10,"configurator.a11y.valueOfAttributeFull",Ue(23,Xt,n.attributeOverview.value,n.attributeOverview.attribute)),`
`),a(5),S(" ",n.attributeOverview.value,`
`),a(),s("ngIf",f(8,13,n.isDesktop()))("ngIfElse",r)}},dependencies:[W,Re,J,ee],encapsulation:2,changeDetection:0})}}return i})(),ua=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({imports:[L,Q,Ne]})}}return i})(),md=(()=>{class i{constructor(e,t){this.productService=e,this.translation=t}ngOnInit(){let e={images:{}};this.attributeOverview.productCode?this.product$=this.productService.get(this.attributeOverview.productCode,_i.LIST).pipe(O(t=>t||e)):this.product$=Se(e)}getProductPrimaryImage(e){return e?.images?.PRIMARY}extractPriceFormulaParameters(){return{quantity:this.attributeOverview.quantity,price:this.attributeOverview.valuePrice,priceTotal:this.attributeOverview.valuePriceTotal,isLightedUp:!0}}displayQuantity(){let e=this.attributeOverview.quantity;return e!==void 0&&e>0}displayPrice(){return this.attributeOverview.valuePrice?.value!==void 0&&this.attributeOverview.valuePrice?.value>0}getAriaLabel(){let e="";return this.displayQuantity()?this.attributeOverview.valuePrice?.value!==void 0&&this.attributeOverview.valuePrice?.value!==0?this.translation.translate("configurator.a11y.itemOfAttributeFullWithPriceAndQuantity",{item:this.attributeOverview.value,attribute:this.attributeOverview.attribute,price:this.attributeOverview.valuePriceTotal?.formattedValue,quantity:this.attributeOverview.quantity}).pipe(E(1)).subscribe(t=>e=t):this.translation.translate("configurator.a11y.itemOfAttributeFullWithQuantity",{item:this.attributeOverview.value,attribute:this.attributeOverview.attribute,quantity:this.attributeOverview.quantity}).pipe(E(1)).subscribe(t=>e=t):this.attributeOverview.valuePrice?.value!==void 0&&this.attributeOverview.valuePrice?.value!==0?this.translation.translate("configurator.a11y.itemOfAttributeFullWithPrice",{item:this.attributeOverview.value,attribute:this.attributeOverview.attribute,price:this.attributeOverview.valuePriceTotal?.formattedValue}).pipe(E(1)).subscribe(t=>e=t):this.translation.translate("configurator.a11y.itemOfAttributeFull",{item:this.attributeOverview.value,attribute:this.attributeOverview.attribute}).pipe(E(1)).subscribe(t=>e=t),e}static{this.\u0275fac=function(t){return new(t||i)(h(He),h(Ee))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-cpq-overview-attribute"]],inputs:{attributeOverview:"attributeOverview"},standalone:!1,decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-value-container"],[1,"cx-thumbnail"],["format","product","aria-hidden","true",3,"container"],[1,"cx-visually-hidden"],["aria-hidden","true",1,"cx-value-info"],["class","cx-code",4,"ngIf"],["class","cx-quantity",4,"ngIf"],["class","cx-price",4,"ngIf"],["aria-hidden","true",1,"cx-attribute-price-container"],[1,"cx-attribute-label"],[3,"formula"],[1,"cx-code"],[1,"cx-quantity"],[1,"cx-identifier"],[1,"cx-item"],[1,"cx-price"]],template:function(t,n){t&1&&(_(0,Au,16,8,"ng-container",0),d(1,"async")),t&2&&s("ngIf",f(1,1,n.product$))},dependencies:[W,Ci,Re,J,ee,Nn],encapsulation:2,changeDetection:0})}}return i})(),_d=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({imports:[L,yi,Q,Ne]})}}return i})(),la=(()=>{class i{constructor(e){this.configuratorCommonsService=e,this.PREFIX_ID="cx-overview-filter-applied-",this.FIRST_FILTER_CHECKBOX_ID="cx-configurator-overview-filter-option-price",this.configuratorStorefrontUtilsService=z(se),this.iconTypes=pe,this.attributeFilterTypes=m.OverviewFilter}getGroupFilterDescription(e,t){return e.possibleGroups?.find(n=>n.id===t)?.groupDescription??""}onAttrFilterRemove(e,t){let[n,r]=this.getInputFilters(e.overview),c=n.indexOf(t);n=n.filter(I=>t!==I);let g=this.getNextElementIdToFocusForAttributeFilter(c,n);g===null&&(g=this.getNextElementIdToFocusForGroupFilter(0,n,r)),this.focusElementById(g),this.configuratorCommonsService.updateConfigurationOverview(this.createInputConfig(e,n,r))}onGroupFilterRemove(e,t){let[n,r]=this.getInputFilters(e.overview),c=r.indexOf(t);r=r.filter(I=>t!==I);let g=this.getNextElementIdToFocusForGroupFilter(c,n,r);this.focusElementById(g),this.configuratorCommonsService.updateConfigurationOverview(this.createInputConfig(e,n,r))}getNextElementIdToFocusForAttributeFilter(e,t){let n;return e<t.length?n=this.PREFIX_ID+t[e]:n=null,n}getNextElementIdToFocusForGroupFilter(e,t,n){let r;return e<n.length?r=this.PREFIX_ID+n[e]:t.length+n.length>1?r=this.PREFIX_ID+"REMOVE_ALL":r=this.FIRST_FILTER_CHECKBOX_ID,r}focusElementById(e){let t=this.configuratorStorefrontUtilsService.getElement("#"+e);t&&t.focus()}isShowRemoveAll(e){return(e.attributeFilters?.length??0)+(e.groupFilters?.length??0)>1}onRemoveAll(e){this.focusElementById(this.FIRST_FILTER_CHECKBOX_ID),this.configuratorCommonsService.updateConfigurationOverview(this.createInputConfig(e,[],[]))}getInputFilters(e){return[e.attributeFilters??[],e.groupFilters??[]]}createInputConfig(e,t,n){return N(A({},e),{overview:{configId:e.configId,productCode:e.productCode,attributeFilters:t,groupFilters:n,possibleGroups:e.overview?.possibleGroups}})}static{this.\u0275fac=function(t){return new(t||i)(h(te))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-overview-filter-bar"]],inputs:{config:"config"},standalone:!1,decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],["aria-keyshortcuts","Delete",1,"cx-overview-filter-applied",3,"keydown.delete","click","id","title"],["aria-hidden","true"],[3,"type"],["id","cx-overview-filter-applied-REMOVE_ALL","aria-keyshortcuts","Delete",1,"cx-overview-filter-applied",3,"keydown.delete","click","title"]],template:function(t,n){t&1&&_(0,Fu,7,9,"ng-container",0)(1,Du,6,10,"ng-container",0)(2,Ru,7,7,"ng-container",1),t&2&&(s("ngForOf",n.config.overview.attributeFilters),a(),s("ngForOf",n.config.overview.groupFilters),a(),s("ngIf",n.isShowRemoveAll(n.config.overview)))},dependencies:[Ce,W,xe,ee],encapsulation:2})}}return i})(),pa=(()=>{class i{constructor(e){this.configuratorCommonsService=e,this.configuratorStorefrontUtilsService=z(se),this.showFilterBar=!0,this.priceFilter=new Te(""),this.mySelectionsFilter=new Te(""),this.groupFilters=new Array}ngOnChanges(){this.extractAttrFilterState(this.config),this.extractGroupFilterState(this.config)}onFilter(e){let t=this.createInputConfig(e,this.collectAttrFilters(),this.collectGroupFilters(e.overview));this.configuratorCommonsService.updateConfigurationOverview(t)}isDisplayOnlyVariant(){return this.configuratorStorefrontUtilsService.isDisplayOnlyVariant()}extractGroupFilterState(e){this.groupFilters=[],e.overview.possibleGroups?.forEach(t=>{let n=!1;e.overview.groupFilters&&(n=e.overview.groupFilters.indexOf(t.id)>=0),this.groupFilters.push(new Te(n))})}extractAttrFilterState(e){if(e.overview.attributeFilters){let t=e.overview.attributeFilters.indexOf(m.OverviewFilter.PRICE_RELEVANT)>=0;this.priceFilter.setValue(t);let n=e.overview.attributeFilters.indexOf(m.OverviewFilter.USER_INPUT)>=0;this.mySelectionsFilter.setValue(n)}}collectGroupFilters(e){let t=[],n=0;return this.groupFilters.forEach(r=>{r.value&&e?.possibleGroups&&t.push(e.possibleGroups[n].id),n++}),t}collectAttrFilters(){let e=[];return this.priceFilter.value&&e.push(m.OverviewFilter.PRICE_RELEVANT),this.mySelectionsFilter.value&&e.push(m.OverviewFilter.USER_INPUT),e}createInputConfig(e,t,n){return N(A({},e),{overview:{configId:e.configId,productCode:e.productCode,attributeFilters:t,groupFilters:n,possibleGroups:e.overview?.possibleGroups}})}static{this.\u0275fac=function(t){return new(t||i)(h(te))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-overview-filter"]],inputs:{showFilterBar:"showFilterBar",config:"config"},standalone:!1,features:[yn],decls:6,vars:8,consts:[[4,"ngIf"],["class","cx-no-overview-filters-available",4,"ngIf"],[3,"config"],[1,"cx-overview-filter-header"],[1,"cx-overview-filter-option"],[1,"form-check"],["id","cx-configurator-overview-filter-option-price","type","checkbox","name","config-overview-price-filter",1,"form-check-input",3,"change","formControl"],["for","cx-configurator-overview-filter-option-price",1,"form-check-label"],["id","cx-configurator-overview-filter-option-mySelections","type","checkbox","name","config-overview-my-selection-filter",1,"form-check-input",3,"change","formControl"],["for","cx-configurator-overview-filter-option-mySelections",1,"form-check-label"],[4,"ngFor","ngForOf"],["type","checkbox",1,"form-check-input",3,"change","id","formControl","name"],[1,"form-check-label",3,"for"],[1,"cx-no-overview-filters-available"]],template:function(t,n){t&1&&(_(0,Mu,2,1,"ng-container",0)(1,Pu,18,17,"ng-container",0),d(2,"async"),_(3,Gu,5,4,"ng-container",0)(4,Uu,3,3,"div",1),d(5,"async")),t&2&&(s("ngIf",n.showFilterBar),a(),s("ngIf",!f(2,4,n.isDisplayOnlyVariant())),a(2),s("ngIf",n.config.overview.possibleGroups&&n.config.overview.possibleGroups.length>1),a(),s("ngIf",f(5,6,n.isDisplayOnlyVariant())&&(n.config.overview.possibleGroups==null?null:n.config.overview.possibleGroups.length)===1))},dependencies:[Ce,W,qt,Be,Le,la,J,ee],encapsulation:2})}}return i})(),da=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({imports:[L,Q,be,ue,le]})}}return i})(),Vr=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({imports:[L,Q,ue,le,da]})}}return i})(),vd=(()=>{class i{constructor(e,t,n){this.launchDialogService=e,this.configuratorCommonsService=t,this.configRouterExtractorService=n,this.configuratorStorefrontUtilsService=z(se),this.ghostStyle=!0,this.configurationWithOv$=this.configRouterExtractorService.extractRouterData().pipe(R(r=>this.configuratorCommonsService.getConfiguration(r.owner)),Y(r=>r.overview!=null),he(()=>{this.ghostStyle=!1}))}getNumFilters(e){return(e.attributeFilters?.length??0)+(e.groupFilters?.length??0)}openFilterModal(e){this.launchDialogService.openDialogAndSubscribe(gt.CONFIGURATOR_OV_FILTER,this.filterButton,e)}isDisplayOnlyVariant(){return this.configuratorStorefrontUtilsService.isDisplayOnlyVariant()}static{this.\u0275fac=function(t){return new(t||i)(h(ft),h(te),h(ve))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-overview-filter-button"]],viewQuery:function(t,n){if(t&1&&at(Bu,5),t&2){let r;ct(r=st())&&(n.filterButton=r.first)}},hostVars:2,hostBindings:function(t,n){t&2&&ae("ghost",n.ghostStyle)},standalone:!1,decls:4,vars:4,consts:[["ghostFilterButton",""],["filterButton",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"config"],["tabindex","0",1,"btn","btn-secondary","cx-config-filter-button",3,"click","title"],[1,"cx-ghost-filter-button","ghost"]],template:function(t,n){if(t&1&&(_(0,ku,4,4,"ng-container",2),d(1,"async"),_(2,$u,1,0,"ng-template",null,0,de)),t&2){let r=oe(3);s("ngIf",f(1,2,n.configurationWithOv$))("ngIfElse",r)}},dependencies:[W,la,J,ee],encapsulation:2})}}return i})(),hd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorOverviewFilterButton:{component:vd}}})],imports:[L,Q,da]})}}return i})(),Cd=(()=>{class i{constructor(e){this.launchDialogService=e,this.config$=this.launchDialogService.data$,this.iconTypes=pe,this.focusConfig={trap:!0,block:!0,autofocus:"button",focusOnEscape:!0}}closeFilterModal(){this.launchDialogService.closeDialog("Close Filtering")}static{this.\u0275fac=function(t){return new(t||i)(h(ft))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-overview-filter-dialog"]],standalone:!1,decls:11,vars:10,consts:[["role","dialog","aria-labelledby","dialogTitle",1,"cx-configurator-overview-filter-dialog","cx-modal-container",3,"click"],[1,"cx-modal-content",3,"click","esc","cxFocus"],[1,"cx-dialog-header","modal-header"],["id","dialogTitle","class","cx-dialog-title modal-title",4,"cxFeature"],["type","button",1,"close",3,"click","title"],["aria-hidden","true"],[3,"type"],[4,"ngIf"],["id","dialogTitle",1,"cx-dialog-title","modal-title"],[1,"cx-dialog-body","modal-body"],[3,"config","showFilterBar"]],template:function(t,n){t&1&&(l(0,"div",0),V("click",function(){return n.closeFilterModal()}),l(1,"div",1),V("click",function(c){return c.stopPropagation()})("esc",function(){return n.closeFilterModal()}),l(2,"div",2),_(3,ju,3,3,"h3",3)(4,qu,3,3,"div",3),l(5,"button",4),d(6,"cxTranslate"),V("click",function(){return n.closeFilterModal()}),l(7,"span",5),T(8,"cx-icon",6),p()()(),_(9,Ku,3,2,"ng-container",7),d(10,"async"),p()()),t&2&&(a(),s("cxFocus",n.focusConfig),a(2),s("cxFeature","a11yDialogsHeading"),a(),s("cxFeature","!a11yDialogsHeading"),a(),w("title",f(6,6,"configurator.a11y.closeFilterMenu")),a(3),s("type",n.iconTypes.CLOSE),a(),s("ngIf",f(10,8,n.config$)))},dependencies:[W,xe,pa,we,fi,J,ee],encapsulation:2})}}return i})(),yd={launch:{CONFIGURATOR_OV_FILTER:{inlineRoot:!0,component:Cd,dialogType:vi.DIALOG}}},xd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z(yd)],imports:[L,Q,be,Vr,_e,jt]})}}return i})(),bd=(()=>{class i{constructor(e,t,n){this.configuratorCommonsService=e,this.configRouterExtractorService=t,this.configuratorStorefrontUtilsService=n,this.ghostStyle=!0,this.attributeOverviewType=m.AttributeOverviewType,this.configuration$=this.configRouterExtractorService.extractRouterData().pipe(R(r=>this.configuratorCommonsService.getOrCreateConfiguration(r.owner)),Br("configId"),R(r=>this.configuratorCommonsService.getConfigurationWithOverview(r)),Y(r=>r.overview!=null),he(()=>{this.ghostStyle=!1}))}hasAttributes(e){return this.hasGroupWithAttributes(e.overview?.groups)}hasGroupWithAttributes(e){if(e){let t=e.find(n=>(n.attributes?n.attributes.length:0)>0)!==void 0;return t||(t=e.find(n=>this.hasGroupWithAttributes(n.subGroups))!==void 0),t}else return!1}isSameAttribute(e,t){return e.length>1?t===0?e[t]?.attribute===e[t+1]?.attribute:e[t]?.attribute===e[t-1]?.attribute:!1}getStyleClasses(e,t){let n="";switch(e[t]?.type){case this.attributeOverviewType.BUNDLE:n+="bundle";break;case this.attributeOverviewType.GENERAL:n+="general";break}return(t===0||!this.isSameAttribute(e,t))&&(n+=" margin"),!this.isSameAttribute(e,t+1)&&!n.includes("bundle")&&(n+=" last-value-pair"),n}getGroupLevelStyleClasses(e,t){let n="cx-group";return e===1?(n+=" topLevel",t&&t.length>0&&(n+=" subgroupTopLevel")):(n+=" subgroup",n+=" subgroupLevel"+e),n}getPrefixId(e,t){return this.configuratorStorefrontUtilsService.getPrefixId(e,t)}getGroupId(e,t){return this.configuratorStorefrontUtilsService.createOvGroupId(e,t)}static{this.\u0275fac=function(t){return new(t||i)(h(te),h(ve),h(se))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-overview-form"]],hostVars:2,hostBindings:function(t,n){t&2&&ae("ghost",n.ghostStyle)},standalone:!1,decls:8,vars:4,consts:[["noAttributes",""],["groups",""],["ghostForm",""],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cx-no-attribute-value-pairs"],[1,"cx-visually-hidden"],[4,"ngFor","ngForOf"],[3,"id","ngClass"],["aria-hidden","true"],["class","cx-attribute-value-pair",3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"cx-attribute-value-pair",3,"ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"attributeOverview"],[1,"cx-ghost-group"],[1,"cx-ghost-header","ghost"],[1,"cx-ghost-body"],[1,"cx-ghost-attribute-value"],[1,"cx-ghost-value","ghost"],[1,"cx-ghost-attribute-label"],[1,"cx-ghost-label","ghost"],[1,"cx-ghost-attribute-price","ghost"]],template:function(t,n){if(t&1&&(_(0,Yu,2,2,"ng-container",3),d(1,"async"),_(2,zu,7,6,"ng-template",null,0,de)(4,rl,4,4,"ng-template",null,1,de)(6,cl,1,2,"ng-template",null,2,de)),t&2){let r=oe(7);s("ngIf",f(1,2,n.configuration$))("ngIfElse",r)}},dependencies:[Pe,Ce,W,On,zr,Xr,Zr,fd,md,J,ee],encapsulation:2})}}return i})(),Id=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorOverviewForm:{component:bd}}})],imports:[L,ua,_d,Q]})}}return i})(),Td=(()=>{class i{constructor(e){this.configuratorStorefrontUtilsService=e,this.height=this.getHeight(),this.VARIANT_CONFIG_OVERVIEW_NAVIGATION_SLOT="cx-page-slot.VariantConfigOverviewNavigation",this.CX_CONFIGURATOR_OVERVIEW_MENU="cx-configurator-overview-menu",this.CX_MENU_ITEM_BUTTONS="button.cx-menu-item",this.CX_GROUPS="div.cx-group",this.CX_MENU_GROUP="cx-menu-group",this.OV_MENU_ITEM="-ovMenuItem",this.OV_GROUP="-ovGroup",this.ACTIVE_CLASS="active",this.MENU_ITEM_HEIGHT=39.5,this.iconTypes=pe,this.styles=[["margin-block-end","268px"],["position","-webkit-sticky"],["position","sticky"],["top","0"]]}ngAfterViewInit(){this.amount=this.getAmount(this.config),this.menuItemsHeight=this.getMenuItemsHeight(),this.adjustStyling(),this.onScroll()}onScroll(){this.menuItem=this.getMenuItemToHighlight(),this.highlight(this.menuItem),this.height=this.getHeight(),this.ensureElementVisible(this.menuItem)}onResize(){this.height=this.getHeight(),this.ensureElementVisible(this.menuItem)}getAmount(e){return e.overview?.groups?this.getAmountOfGroups(0,e.overview.groups):0}getAmountOfGroups(e,t){return t&&(e=e+t.length,t.forEach(n=>{n.subGroups&&(e=this.getAmountOfGroups(e,n.subGroups))})),e}getMenuItemsHeight(){return this.amount*this.MENU_ITEM_HEIGHT}adjustStyling(){this.amount>=1?this.changeStyling():this.removeStyling()}getHeight(){let e=this.configuratorStorefrontUtilsService.getSpareViewportHeight();return this.menuItemsHeight>e?e+"px":""}changeStyling(){this.styles.forEach(e=>{this.configuratorStorefrontUtilsService.changeStyling(this.VARIANT_CONFIG_OVERVIEW_NAVIGATION_SLOT,e[0],e[1])})}removeStyling(){this.styles.forEach(e=>{this.configuratorStorefrontUtilsService.removeStyling(this.VARIANT_CONFIG_OVERVIEW_NAVIGATION_SLOT,e[0])})}getMenuItemToHighlight(){let e,t=this.configuratorStorefrontUtilsService.getElements(this.CX_GROUPS),n=this.configuratorStorefrontUtilsService.getVerticallyScrolledPixels();return t?.forEach(r=>{if(n&&n>=r.offsetTop){let c=r.id.replace(this.OV_GROUP,this.OV_MENU_ITEM);if(c){let g="#"+c;e=this.configuratorStorefrontUtilsService.getElement(g)}}}),e}highlight(e){e&&this.configuratorStorefrontUtilsService.getElements(this.CX_MENU_ITEM_BUTTONS)?.forEach(n=>{n.classList.remove(this.ACTIVE_CLASS),n.id===e.id&&e.classList.add(this.ACTIVE_CLASS)})}ensureElementVisible(e){e&&this.configuratorStorefrontUtilsService.hasScrollbar(this.CX_CONFIGURATOR_OVERVIEW_MENU)&&this.configuratorStorefrontUtilsService.ensureElementVisible(this.CX_CONFIGURATOR_OVERVIEW_MENU,e)}getGroupLevelStyleClasses(e){return this.CX_MENU_GROUP+" groupLevel"+e}navigateToGroup(e,t){let n=this.configuratorStorefrontUtilsService.createOvGroupId(e,t);this.configuratorStorefrontUtilsService.scrollToConfigurationElement("#"+n+" h2")}getPrefixId(e,t){return this.configuratorStorefrontUtilsService.getPrefixId(e,t)}getGroupId(e,t){return this.configuratorStorefrontUtilsService.createOvGroupId(e,t)}getMenuItemId(e,t){return this.configuratorStorefrontUtilsService.createOvMenuItemId(e,t)}static{this.\u0275fac=function(t){return new(t||i)(h(se))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-overview-menu"]],hostVars:2,hostBindings:function(t,n){t&1&&V("scroll",function(c){return n.onScroll(c)},!1,bn)("resize",function(c){return n.onResize(c)},!1,bn),t&2&&li("height",n.height)},inputs:{config:"config"},standalone:!1,decls:3,vars:1,consts:[["groups",""],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"cx-menu-item",3,"click","id"],["aria-hidden","true"],["aria-hidden","true",3,"type"]],template:function(t,n){t&1&&_(0,ul,2,4,"ng-container",1)(1,gl,2,1,"ng-template",null,0,de),t&2&&s("ngIf",n.config)},dependencies:[Pe,Ce,W,On,xe,ee],encapsulation:2,changeDetection:0})}}return i})(),ga=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({imports:[L,Q,be]})}}return i})(),Sd=(()=>{class i{constructor(e,t,n){this.configuratorCommonsService=e,this.configRouterExtractorService=t,this.commonConfigUtilsService=n,this.routerData$=this.configRouterExtractorService.extractRouterData(),this.configuration$=this.routerData$.pipe(Y(r=>r.owner.type===ce.OwnerType.PRODUCT||r.owner.type===ce.OwnerType.CART_ENTRY),R(r=>this.configuratorCommonsService.getConfiguration(r.owner))),this.configurationOverview$=this.configuration$.pipe(O(r=>r.overview)),this.numberOfIssues$=this.configuration$.pipe(O(r=>{let c=r.overview;return c?.totalNumberOfIssues?c.numberOfIncompleteCharacteristics!==void 0?c.numberOfIncompleteCharacteristics:c.totalNumberOfIssues:r.totalNumberOfIssues?r.totalNumberOfIssues:0})),this.numberOfConflicts$=this.configuration$.pipe(O(r=>r.overview?.numberOfConflicts??0)),this.skipConflictsOnIssueNavigation$=this.configuration$.pipe(O(r=>(r.overview?.numberOfConflicts??0)>0)),this.iconTypes=pe}static{this.\u0275fac=function(t){return new(t||i)(h(te),h(ve),h(it))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-overview-notification-banner"]],standalone:!1,decls:2,vars:3,consts:[[4,"ngIf"],["class","cx-error-notification-banner",4,"ngIf"],["class","cx-conflict-notification-banner",4,"ngIf"],[1,"cx-error-notification-banner"],[3,"type"],["id","cx-configurator-overview-error-msg",1,"cx-error-msg"],["aria-describedby","cx-configurator-overview-error-msg","cxAutoFocus","",1,"link","cx-action-link",3,"routerLink","queryParams"],[1,"cx-conflict-notification-banner"],["id","cx-configurator-overview-conflict-msg",1,"cx-conflict-msg"],["aria-describedby","cx-configurator-overview-conflict-msg","cxAutoFocus","",1,"link","cx-action-link",3,"routerLink","queryParams"]],template:function(t,n){t&1&&(_(0,Cl,3,3,"ng-container",0),d(1,"async")),t&2&&s("ngIf",f(1,1,n.routerData$))},dependencies:[W,xe,ro,J,ee,mo],encapsulation:2,changeDetection:0})}}return i})(),Ed=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorOverviewBanner:{component:Sd}}})],imports:[L,Q,dt,be,lt]})}}return i})(),wd=(()=>{class i{constructor(e,t,n){this.configuratorCommonsService=e,this.configRouterExtractorService=t,this.configuratorStorefrontUtilsService=n,this.ghostStyle=!0,this.showFilter=!1,this.configurationWithOv$=this.configRouterExtractorService.extractRouterData().pipe(R(r=>this.configuratorCommonsService.getConfiguration(r.owner)),Y(r=>r.overview!=null),he(r=>{r&&(this.ghostStyle=!1)}))}onFilter(){this.showFilter=!0}onMenu(){this.showFilter=!1}getTabIndexForMenuTab(){return this.showFilter?-1:0}getTabIndexForFilterTab(){return this.showFilter?0:-1}switchTabOnArrowPress(e,t){(e.code==="ArrowLeft"||e.code==="ArrowRight")&&(e.preventDefault(),t==="#menuTab"?this.filterTab.nativeElement?.focus():this.menuTab.nativeElement?.focus())}static{this.\u0275fac=function(t){return new(t||i)(h(te),h(ve),h(se))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-overview-sidebar"]],viewQuery:function(t,n){if(t&1&&(at(yl,5),at(xl,5)),t&2){let r;ct(r=st())&&(n.menuTab=r.first),ct(r=st())&&(n.filterTab=r.first)}},hostVars:2,hostBindings:function(t,n){t&2&&ae("ghost",n.ghostStyle)},standalone:!1,decls:4,vars:4,consts:[["ghostSidebar",""],["menuTab",""],["filterTab",""],[4,"ngIf","ngIfElse"],["role","tablist",1,"cx-menu-bar"],["role","tab",3,"keydown","keydown.enter","keydown.space","click","tabindex"],[3,"config",4,"ngIf"],[3,"config"],[1,"cx-ghost-menu"],[1,"cx-ghost-menu-bar","ghost"],[4,"ngFor","ngForOf"],[1,"cx-ghost-menu-level1"],[1,"cx-ghost-menu-item"],[1,"cx-ghost-menu-item-title","ghost"],[4,"ngIf"],[1,"cx-ghost-menu-level2"],["class","cx-ghost-menu-item",4,"ngFor","ngForOf"],[1,"cx-ghost-menu-level3"]],template:function(t,n){if(t&1&&(_(0,Sl,12,16,"ng-container",3),d(1,"async"),_(2,Pl,3,2,"ng-template",null,0,de)),t&2){let r=oe(3);s("ngIf",f(1,2,n.configurationWithOv$))("ngIfElse",r)}},dependencies:[Ce,W,pa,Td,J,ee],encapsulation:2})}}return i})(),Od=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorOverviewSidebar:{component:wd}}})],imports:[L,Q,Vr,ga]})}}return i})(),Ad=(()=>{class i{constructor(e,t,n,r){this.configuratorGroupsService=e,this.configuratorCommonsService=t,this.configRouterExtractorService=n,this.configUtils=r,this.configuration$=this.configRouterExtractorService.extractRouterData().pipe(R(c=>this.configuratorCommonsService.getConfiguration(c.owner)))}onPrevious(e){this.configuratorGroupsService.getPreviousGroupId(e.owner).pipe(E(1)).subscribe(t=>{t&&(this.configuratorGroupsService.navigateToGroup(e,t),this.focusFirstAttribute())}),this.configUtils.scrollToConfigurationElement(".VariantConfigurationTemplate, .CpqConfigurationTemplate")}onNext(e){this.configuratorGroupsService.getNextGroupId(e.owner).pipe(E(1)).subscribe(t=>{t&&(this.configuratorGroupsService.navigateToGroup(e,t),this.focusFirstAttribute())}),this.configUtils.scrollToConfigurationElement(".VariantConfigurationTemplate, .CpqConfigurationTemplate")}getPreviousGroupDescription(e){return this.configuratorGroupsService.getPreviousGroupDescription(e)}getNextGroupDescription(e){return this.configuratorGroupsService.getNextGroupDescription(e)}isFirstGroup(e){return this.configuratorGroupsService.getPreviousGroupId(e).pipe(O(t=>!t))}isLastGroup(e){return this.configuratorGroupsService.getNextGroupId(e).pipe(O(t=>!t))}focusFirstAttribute(){this.configRouterExtractorService.extractRouterData().pipe(R(e=>this.configuratorCommonsService.isConfigurationLoading(e.owner).pipe(Y(t=>t),E(1),R(()=>this.configuratorCommonsService.isConfigurationLoading(e.owner).pipe(Y(t=>!t),E(1),Me(0)))))).subscribe(()=>this.configUtils.focusFirstAttribute())}static{this.\u0275fac=function(t){return new(t||i)(h(We),h(te),h(ve),h(se))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-previous-next-buttons"]],standalone:!1,decls:2,vars:3,consts:[[4,"ngIf"],[1,"btn","btn-block","btn-secondary","cx-previous",3,"click","disabled"],[1,"btn","btn-block","btn-secondary","cx-next",3,"click","disabled"]],template:function(t,n){t&1&&(_(0,Gl,2,1,"ng-container",0),d(1,"async")),t&2&&s("ngIf",f(1,1,n.configuration$))},dependencies:[W,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Fd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorPrevNext:{component:Ad}}})],imports:[L,Q,_e]})}}return i})(),Dd=(()=>{class i{constructor(e,t){this.configuratorCommonsService=e,this.configRouterExtractorService=t,this.configuration$=this.configRouterExtractorService.extractRouterData().pipe(R(n=>this.configuratorCommonsService.getConfiguration(n.owner)))}static{this.\u0275fac=function(t){return new(t||i)(h(te),h(ve))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-price-summary"]],standalone:!1,decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-price-summary-container"],[1,"cx-total-summary"],[1,"cx-summary-row","cx-total-price"],[1,"cx-label"],[1,"cx-amount"],[1,"cx-summary-row","cx-base-price"],[1,"cx-summary-row","cx-selected-options"]],template:function(t,n){t&1&&(_(0,Ll,2,1,"ng-container",0),d(1,"async")),t&2&&s("ngIf",f(1,1,n.configuration$))},dependencies:[W,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Rd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorPriceSummary:{component:Dd}}})],imports:[ue,le,L,Q]})}}return i})(),Nd=(()=>{class i{getProductCode(e){return e.routerData.productCode?e.routerData.productCode:e.configuration.productCode?e.configuration.productCode:e.configuration.overview?.productCode}constructor(e,t,n,r){this.configuratorCommonsService=e,this.configRouterExtractorService=t,this.productService=n,this.configExpertModeService=r,this.ghostStyle=!0,this.routerData$=this.configRouterExtractorService.extractRouterData(),this.configuration$=this.routerData$.pipe(R(c=>this.configuratorCommonsService.getConfiguration(c.owner))),this.product$=this.routerData$.pipe(R(c=>this.configuration$.pipe(O(g=>({routerData:c,configuration:g}))).pipe(O(g=>this.getProductCode(g)),R(g=>g?this.productService.get(g,_i.LIST):vn)).pipe(he(()=>{this.ghostStyle=!1})))),this.showMore=!1,this.iconTypes=pe,mi("a11yWideScreenImprovements")}triggerDetails(){this.showMore=!this.showMore}get expMode(){return this.configExpertModeService.getExpModeActive()}static{this.\u0275fac=function(t){return new(t||i)(h(te),h(ve),h(He),h(bt))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-product-title"]],hostVars:2,hostBindings:function(t,n){t&2&&ae("ghost",n.ghostStyle)},standalone:!1,decls:4,vars:4,consts:[["ghostProductTitle",""],[4,"ngIf","ngIfElse"],[1,"cx-general-product-info"],[1,"cx-title"],[3,"click"],[4,"ngIf"],[1,"cx-details"],["aria-hidden","true",1,"cx-details-image"],["format","product",3,"container"],[1,"cx-details-content"],[1,"cx-detail-title"],[1,"cx-code"],[1,"cx-description"],[1,"cx-toggle-details-link-text"],["aria-hidden","true"],[3,"type"],["aria-hidden","true",1,"cx-toggle-details-link-text"],[1,"cx-kb-key-details"],[1,"cx-kb-pair"],[1,"cx-label"],[1,"cx-value"],[1,"cx-ghost-general-product-info"]],template:function(t,n){if(t&1&&(_(0,ip,20,14,"ng-container",1),d(1,"async"),_(2,np,1,0,"ng-template",null,0,de)),t&2){let r=oe(3);s("ngIf",f(1,2,n.product$))("ngIfElse",r)}},dependencies:[W,xe,Ci,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Md=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorProductTitle:{component:Nd}}})],imports:[ue,le,Je,L,Q,be,yi]})}}return i})(),Pd=(()=>{class i{constructor(e,t,n,r){this.launchDialogService=e,this.configuratorCommonsService=t,this.routingService=n,this.productService=r,this.dialogData$=this.launchDialogService.data$.pipe(Y(c=>c&&c.owner)),this.product$=this.dialogData$.pipe(R(c=>this.productService.get(c.owner.id))),this.iconTypes=pe,this.focusConfig={trap:!0,block:!0,autofocus:".btn-primary",focusOnEscape:!0}}close(){this.launchDialogService.closeDialog("Close restart configuration dialog")}resume(e){this.close(),this.routingService.go({cxRoute:"configure"+e.configuratorType,params:{ownerType:ce.OwnerType.PRODUCT,entityKey:e.code}},{queryParams:{productCode:e.code}})}restart(e){this.configuratorCommonsService.forceNewConfiguration(e),this.close()}backToPDP(e){this.close(),this.routingService.go({cxRoute:"product",params:e})}static{this.\u0275fac=function(t){return new(t||i)(h(ft),h(te),h(Ze),h(He))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-restart-dialog"]],standalone:!1,decls:3,vars:3,consts:[["role","dialog","aria-modal","true","aria-labelledby","dialogTitle",1,"cx-modal-container"],[4,"ngIf"],[1,"cx-modal-content",3,"esc","cxFocus"],[1,"cx-dialog-header","modal-header"],["id","dialogTitle","class","cx-dialog-title modal-title",4,"cxFeature"],["type","button",1,"close",3,"click","title"],["aria-hidden","true"],[3,"type"],[1,"cx-dialog-body","modal-body"],["id","cx-configurator-restart-dialog-description"],["aria-describedby","cx-configurator-restart-dialog-description",1,"btn","btn-primary","btn-block",3,"click"],["type","button","aria-describedby","cx-configurator-restart-dialog-description",1,"btn","btn-secondary","btn-block",3,"click"],["id","dialogTitle",1,"cx-dialog-title","modal-title"]],template:function(t,n){t&1&&(l(0,"div",0),_(1,cp,3,3,"ng-container",1),d(2,"async"),p()),t&2&&(a(),s("ngIf",f(2,1,n.dialogData$)))},dependencies:[W,xe,we,fi,J,ee],encapsulation:2})}}return i})(),Vd={launch:{CONFIGURATOR_RESTART_DIALOG:{inlineRoot:!0,component:Pd,dialogType:vi.DIALOG}}},Gd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z(Vd)],imports:[L,Q,be,_e,jt]})}}return i})(),Ud=(()=>{class i{static{this.TAB_BAR_QUERY_SELECTOR="cx-configurator-tab-bar"}determinePageFromRouterData(e){return e.pageType??At.PageType.CONFIGURATION}isOverviewPage(e){return e===At.PageType.OVERVIEW}navigateToOverview(e){this.routingService.go({cxRoute:"configureOverview"+e.owner.configuratorType,params:{entityKey:e.owner.id,ownerType:e.owner.type}},{queryParams:{productCode:e.productCode}}).then(()=>{this.focusOverviewInTabBar()})}navigateToConfiguration(e){this.routingService.go({cxRoute:"configure"+e.owner.configuratorType,params:{entityKey:e.owner.id,ownerType:e.owner.type}},{queryParams:{productCode:e.productCode}}).then(()=>{this.focusConfigurationInTabBar()})}focusOverviewInTabBar(){this.configRouterExtractorService.extractRouterData().pipe(R(e=>this.configuratorCommonsService.getConfiguration(e.owner)),Y(e=>e.overview!=null),E(1),Me(0)).subscribe(()=>{this.focusService.clear(),this.configUtils.focusFirstActiveElement(i.TAB_BAR_QUERY_SELECTOR)})}focusConfigurationInTabBar(){this.configRouterExtractorService.extractRouterData().pipe(Y(e=>e.pageType===At.PageType.CONFIGURATION),R(e=>this.configuratorCommonsService.getConfiguration(e.owner)),E(1),Me(0)).subscribe(()=>{this.focusService.clear(),this.configUtils.focusFirstActiveElement(i.TAB_BAR_QUERY_SELECTOR)})}getTabIndexForConfigTab(e){return this.isOverviewPage(e)?-1:0}getTabIndexForOverviewTab(e){return this.isOverviewPage(e)?0:-1}switchTabOnArrowPress(e,t){(e.code==="ArrowLeft"||e.code==="ArrowRight")&&(e.preventDefault(),t==="#configTab"?this.overviewTab.nativeElement?.focus():this.configTab.nativeElement?.focus())}constructor(e,t){this.configRouterExtractorService=e,this.configuratorCommonsService=t,this.ghostStyle=!0,this.routingService=z(Ze),this.configUtils=z(se),this.focusService=z(et),this.routerData$=this.configRouterExtractorService.extractRouterData(),this.configuration$=this.routerData$.pipe(R(n=>this.configuratorCommonsService.getConfiguration(n.owner).pipe(he(()=>{this.ghostStyle=!1})))),this.pageType$=this.routerData$.pipe(O(n=>this.determinePageFromRouterData(n)))}static{this.\u0275fac=function(t){return new(t||i)(h(ve),h(te))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-tab-bar"]],viewQuery:function(t,n){if(t&1&&(at(sp,5),at(up,5)),t&2){let r;ct(r=st())&&(n.configTab=r.first),ct(r=st())&&(n.overviewTab=r.first)}},hostVars:2,hostBindings:function(t,n){t&2&&ae("ghost",n.ghostStyle)},standalone:!1,decls:2,vars:3,consts:[["ghostTabBar",""],["configTab",""],["overviewTab",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],["class","cx-tab-bar","role","tablist",4,"ngIf"],["role","tablist",1,"cx-tab-bar"],["role","tab",3,"keydown","keydown.enter","keydown.space","click","tabindex"],[1,"cx-ghost-tab-bar"]],template:function(t,n){t&1&&(_(0,fp,5,4,"ng-container",3),d(1,"async")),t&2&&s("ngIf",f(1,1,n.routerData$))},dependencies:[W,J,ee],encapsulation:2})}}return i})(),Bd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorTabBar:{component:Ud}}})],imports:[ue,le,_e,Je,L,Q,dt,lt]})}}return i})(),Ld={productConfigurator:{updateConfigurationMessage:{waitingTime:1e3}}},kd=(()=>{class i{constructor(e,t,n){this.configuratorCommonsService=e,this.configRouterExtractorService=t,this.config=n,this.hasPendingChanges$=this.configRouterExtractorService.extractRouterData().pipe(R(r=>this.configuratorCommonsService.hasPendingChanges(r.owner)),Tt(),R(r=>r?Se(r).pipe(Me(this.config.productConfigurator?.updateConfigurationMessage?.waitingTime||1e3)):Se(r)))}static{this.\u0275fac=function(t){return new(t||i)(h(te),h(ve),h(cn))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-update-message"]],standalone:!1,decls:7,vars:7,consts:[["aria-live","polite","aria-atomic","false"],[1,"cx-update-msg"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"div",1),d(2,"async"),T(3,"cx-spinner"),l(4,"strong"),y(5),d(6,"cxTranslate"),p()()()),t&2&&(a(),ae("visible",f(2,3,n.hasPendingChanges$)),a(4),ne(f(6,5,"configurator.header.updateMessage")))},dependencies:[vo,J,ee],encapsulation:2,changeDetection:0})}}return i})(),$d=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorUpdateMessage:{component:kd}}}),Z(Ld),{provide:cn,useExisting:Ke}],imports:[L,Co,Q]})}}return i})(),jd=(()=>{class i{constructor(e,t,n,r){this.productService=e,this.translationService=t,this.configuratorRouterExtractorService=n,this.configuratorCommonsService=r,this.configuration$=this.configuratorRouterExtractorService.extractRouterData().pipe(R(c=>this.configuratorCommonsService.getConfiguration(c.owner))),this.title$=this.translationService.translate("configurator.variantCarousel.title"),this.items$=this.configuration$.pipe(O(c=>c.variants?c.variants:[]),O(c=>c.map(g=>this.productService.get(g.productCode))))}static{this.\u0275fac=function(t){return new(t||i)(h(He),h(Ee),h(ve),h(te))}}static{this.\u0275cmp=k({type:i,selectors:[["cx-configurator-variant-carousel"]],standalone:!1,decls:3,vars:5,consts:[["carouselItem",""],[4,"ngIf"],[1,"cx-variant-carousel-container"],["role","region","itemWidth","285px",3,"items","title","template"],[3,"item"]],template:function(t,n){if(t&1&&(_(0,vp,8,13,"ng-container",1),d(1,"async"),d(2,"async")),t&2){let r;s("ngIf",((r=(r=f(1,1,n.items$))==null?null:r.length)!==null&&r!==void 0?r:0)>0&&f(2,3,n.items$))}},dependencies:[W,ho,Io,J,ee],encapsulation:2,changeDetection:0})}}return i})(),qd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Z({cmsComponents:{ConfiguratorVariantCarousel:{component:jd}}})],imports:[ue,le,L,Q,yo,To]})}}return i})(),Kd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({imports:[Rd,yp,pd,Md,Bd,Pr,sd,gd,$d,Fd,ua,Id,ga,Ed,zp,id,ca,qd,Vr,hd,xd,Od,ad,Gd]})}}return i})(),fa=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:function(t){let n=null;return t?n=new(t||i):n=P(Ke),n},providedIn:"root"})}}return i})(),Vo=class{},vt=class i{static{this.CONFIGURATOR_ADAPTER_LIST=new Ge("ConfiguratorAdapterList")}constructor(o,e,t){this.adapters=o,this.configUtilsService=e,this.config=t}createConfiguration(o,e,t=!1){return this.getAdapter(o.configuratorType).createConfiguration(o,e,t)}readConfiguration(o,e,t,n){return this.getAdapter(t.configuratorType).readConfiguration(o,e,t,n)}updateConfiguration(o){return this.getAdapter(o.owner.configuratorType).updateConfiguration(o)}addToCart(o){return this.getAdapter(o.owner.configuratorType).addToCart(o)}readConfigurationForCartEntry(o){return this.getAdapter(o.owner.configuratorType).readConfigurationForCartEntry(o)}updateConfigurationForCartEntry(o){return this.getAdapter(o.configuration.owner.configuratorType).updateConfigurationForCartEntry(o)}readConfigurationForOrderEntry(o){return this.getAdapter(o.owner.configuratorType).readConfigurationForOrderEntry(o)}readPriceSummary(o){return this.getAdapter(o.owner.configuratorType).readPriceSummary(o)}getConfigurationOverview(o){return this.getAdapter(o.owner.configuratorType).getConfigurationOverview(o.configId)}updateConfigurationOverview(o){let e=o.overview;return e?this.getAdapter(o.owner.configuratorType).updateConfigurationOverview(e):this.getAdapter(o.owner.configuratorType).getConfigurationOverview(o.configId)}searchVariants(o){return this.getAdapter(o.owner.configuratorType).searchVariants(o.configId)}getAdapter(o){let e=this.adapters.find(t=>this.isAdapterMatching(t,o));if(e)return e;throw new Error("No adapter found for configurator type: "+o)}isAdapterMatching(o,e){return o.getConfiguratorType()===e}static{this.\u0275fac=function(e){return new(e||i)(P(i.CONFIGURATOR_ADAPTER_LIST),P(it),P(fa))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac})}},Hd=(()=>{class i{constructor(e,t,n){this.configuratorCartService=e,this.routingService=t,this.configuratorQuantityService=n,this.subscription=new Ve,this.observeRouterChanges()}observeRouterChanges(){this.subscription.add(this.routingService.getRouterState().subscribe(e=>{this.isConfiguratorRelatedRoute(e.state.semanticRoute)||(this.configuratorCartService.removeCartBoundConfigurations(),this.configuratorQuantityService.setQuantity(1))}))}isConfiguratorRelatedRoute(e){return e?e.includes("configure"):!1}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)(P(Or),P(Ze),P(aa))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Qd=(()=>{class i{constructor(e){}static{this.\u0275fac=function(t){return new(t||i)(P(Hd))}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({})}}return i})(),Wd={productConfigurator:{enableVariantSearch:!1}},ma=(()=>{class i{getFirstGroupWithAttributes(e,t=!1){let n=this.getFirstGroupWithAttributesForList(e.groups,t);if(n)return n;throw new Error("Configuration does not have any attributes")}getFirstGroupWithAttributesForList(e,t){let n;t&&e.length>0&&e[0].groupType===m.GroupType.CONFLICT_HEADER_GROUP&&(n=e[0].subGroups.filter(c=>c.attributes&&c.attributes.length>0).shift()),n===void 0&&(n=e.filter(c=>c.attributes&&c.attributes.length>0&&c.groupType!==m.GroupType.CONFLICT_GROUP).shift());let r;return n?r=n.id:r=e.filter(c=>c.subGroups&&c.subGroups.length>0).flatMap(c=>this.getFirstGroupWithAttributesForList(c.subGroups,t)).filter(c=>c).shift(),r}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Yd=(()=>{class i{constructor(e,t,n,r,c,g,I){this.actions$=e,this.configuratorCommonsConnector=t,this.commonConfigUtilsService=n,this.configuratorGroupUtilsService=r,this.configuratorGroupStatusService=c,this.store=g,this.configuratorBasicEffectService=I,this.logger=z($e),this.featureConfigService=z(pt),this.createConfiguration$=fe(()=>this.actions$.pipe(me(or),ke(C=>this.configuratorCommonsConnector.createConfiguration(C.payload.owner,C.payload.configIdTemplate,C.payload.forceReset).pipe(R(v=>{let K=this.configuratorBasicEffectService.getFirstGroupWithAttributes(v);return this.store.dispatch(new nt(N(A({},v),{interactionState:{currentGroup:K}}))),[new Ui(v),new Nt(v)]}),Ae(v=>[new Gi({ownerKey:C.payload.owner.key,error:De(v,this.logger)})]))))),this.readConfiguration$=fe(()=>this.actions$.pipe(me(cr),ke(C=>this.configuratorCommonsConnector.readConfiguration(C.payload.configuration.configId,C.payload.groupId,C.payload.configuration.owner).pipe(R(v=>[new Dt(v)]),Ae(v=>[new Ft({ownerKey:C.payload.configuration.owner.key,error:De(v,this.logger)})]))))),this.readAttributeDomain$=fe(()=>this.actions$.pipe(me(Er),ke(C=>this.configuratorCommonsConnector.readConfiguration(C.payload.configuration.configId,C.payload.groupId,C.payload.configuration.owner,C.payload.attributeKey).pipe(R(v=>[new Dt(v),new nt(N(A({},v),{interactionState:{currentGroup:C.payload.groupId}}))]),Ae(v=>[new Ft({ownerKey:C.payload.configuration.owner.key,error:De(v,this.logger)})]))))),this.updateConfiguration$=fe(()=>this.actions$.pipe(me(ur),O(C=>C.payload),ke(C=>this.configuratorCommonsConnector.updateConfiguration(C).pipe(O(v=>new $i(N(A({},v),{interactionState:{isConflictResolutionMode:C.interactionState.isConflictResolutionMode}}))),Ae(v=>{let K=De(v,this.logger);return[new ki({configuration:C,error:K})]}))))),this.updatePriceSummary$=fe(()=>this.actions$.pipe(me(fr),O(C=>C.payload),Y(C=>C.pricingEnabled===!0),ke(C=>this.configuratorCommonsConnector.readPriceSummary(C).pipe(O(v=>new Hi(v,{isDeltaRendering:this.featureConfigService.isEnabled("productConfiguratorDeltaRendering")})),Ae(v=>{let K=De(v,this.logger);return[new Ki({ownerKey:C.owner.key,error:K})]}))))),this.getOverview$=fe(()=>this.actions$.pipe(me(_r),O(C=>C.payload),ke(C=>this.configuratorCommonsConnector.getConfigurationOverview(C).pipe(O(v=>new Yi({ownerKey:C.owner.key,overview:v})),Ae(v=>{let K=De(v,this.logger);return[new Wi({ownerKey:C.owner.key,error:K})]}))))),this.updateOverview$=fe(()=>this.actions$.pipe(me(hr),O(C=>C.payload),ke(C=>this.configuratorCommonsConnector.updateConfigurationOverview(C).pipe(O(v=>new Zi({ownerKey:C.owner.key,overview:v})),Ae(v=>{let K=De(v,this.logger);return[new Xi({ownerKey:C.owner.key,error:K})]}))))),this.updateConfigurationSuccess$=fe(()=>this.actions$.pipe(me(pr),O(C=>C.payload),ke(C=>this.store.pipe(Ie(zt(C.owner.key)),E(1),Y(v=>v===!1),R(()=>this.store.pipe(Ie(ia(C.owner.key)),E(1),O(v=>{let K=this.configuratorBasicEffectService.getFirstGroupWithAttributes(C,C.interactionState.isConflictResolutionMode),re=this.configuratorGroupUtilsService.getParentGroup(C.groups,this.configuratorGroupUtilsService.getGroupById(C.groups,K),void 0);return{currentGroupId:v,groupIdFromPayload:K,parentGroupFromPayload:re}}),R(v=>{let K=new ji(C),re=new nt(N(A({},C),{interactionState:{currentGroup:v.groupIdFromPayload}})),It=new Nt(C);return v.currentGroupId===v.groupIdFromPayload?[K,re,It]:[K,re,It,new ti({configuration:C,groupId:v.groupIdFromPayload,parentGroupId:v.parentGroupFromPayload?.id})]}))))))),this.updateConfigurationFail$=fe(()=>this.actions$.pipe(me(lr),O(C=>C.payload),ke(C=>this.store.pipe(Ie(zt(C.configuration.owner.key)),E(1),Y(v=>v===!1),O(()=>new qi(C.configuration)))))),this.handleErrorOnUpdate$=fe(()=>this.actions$.pipe(me(gr),O(C=>C.payload),O(C=>new Bi({configuration:C,groupId:this.configuratorBasicEffectService.getFirstGroupWithAttributes(C)})))),this.groupChange$=fe(()=>this.actions$.pipe(me(pn),R(C=>this.store.pipe(Ie(zt(C.payload.configuration.owner.key)),E(1),Y(v=>v===!1),R(()=>this.configuratorCommonsConnector.readConfiguration(C.payload.configuration.configId,C.payload.groupId,C.payload.configuration.owner).pipe(R(v=>[new en({entityKey:C.payload.configuration.owner.key,currentGroup:C.payload.groupId}),new ii({entityKey:C.payload.configuration.owner.key,menuParentGroup:C.payload.parentGroupId}),new Dt(v),new nt(N(A({},v),{interactionState:{currentGroup:C.payload.groupId}}))]),Ae(v=>[new Ft({ownerKey:C.payload.configuration.owner.key,error:De(v,this.logger)})]))))))),this.removeProductBoundConfigurations$=fe(()=>this.actions$.pipe(me(Tr),R(()=>this.store.pipe(Ie(gn),E(1),O(C=>{let v=C.configurations.entities,K=[];for(let re in v)re.includes(ce.OwnerType.PRODUCT)&&K.push(re);return new _t({ownerKey:K})})))))}static{this.\u0275fac=function(t){return new(t||i)(P(pi),P(vt),P(it),P(Mt),P(oa),P(ut),P(ma))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac})}}return i})(),zd="Entry number is required in addToCart response",Xd=(()=>{class i{constructor(e,t,n,r,c,g){this.actions$=e,this.configuratorCommonsConnector=t,this.commonConfigUtilsService=n,this.configuratorGroupUtilsService=r,this.store=c,this.configuratorBasicEffectService=g,this.logger=z($e),this.addToCart$=fe(()=>this.actions$.pipe(me(er),O(I=>I.payload),R(I=>this.configuratorCommonsConnector.addToCart(I).pipe(R(C=>{let v=C.entry?.entryNumber;if(v===void 0)throw Error(zd);return[new Ri({ownerKey:I.owner.key,cartEntryNo:v.toString()}),new Qt.CartAddEntrySuccess(N(A({},C),{userId:I.userId,cartId:I.cartId,productCode:I.productCode,quantity:I.quantity,deliveryModeChanged:C.deliveryModeChanged,entry:C.entry,quantityAdded:C.quantityAdded,statusCode:C.statusCode,statusMessage:C.statusMessage}))]}),Ae(C=>Se(new Qt.CartAddEntryFail({userId:I.userId,cartId:I.cartId,productCode:I.productCode,quantity:I.quantity,error:De(C,this.logger)}))))))),this.updateCartEntry$=fe(()=>this.actions$.pipe(me(ln),O(I=>I.payload),R(I=>this.configuratorCommonsConnector.updateConfigurationForCartEntry(I).pipe(R(C=>[new Qt.CartUpdateEntrySuccess({userId:I.userId,cartId:I.cartId,entryNumber:I.cartEntryNumber,quantity:C.quantity})]),Ae(C=>Se(new Qt.CartUpdateEntryFail({userId:I.userId,cartId:I.cartId,entryNumber:I.cartEntryNumber,error:De(C,this.logger)}))))))),this.readConfigurationForCartEntry$=fe(()=>this.actions$.pipe(me(zn),R(I=>{let C=I.payload;return this.configuratorCommonsConnector.readConfigurationForCartEntry(C).pipe(R(v=>{let K=new nt(N(A({},v),{interactionState:{currentGroup:this.configuratorBasicEffectService.getFirstGroupWithAttributes(v,!v.immediateConflictResolution)}}));return[new Si(v),K,new Nt(v)]}),Ae(v=>[new Ei({ownerKey:I.payload.owner.key,error:De(v,this.logger)})]))}))),this.readConfigurationForOrderEntry$=fe(()=>this.actions$.pipe(me(Zn),R(I=>{let C=I.payload;return this.configuratorCommonsConnector.readConfigurationForOrderEntry(C).pipe(R(v=>[new Oi(v)]),Ae(v=>[new Ai({ownerKey:I.payload.owner.key,error:De(v,this.logger)})]))}))),this.removeCartBoundConfigurations$=fe(()=>this.actions$.pipe(me(nr),R(()=>this.store.pipe(Ie(gn),E(1),O(I=>{let C=I.configurations.entities,v=[],K=[];for(let re in C)re.includes(ce.OwnerType.CART_ENTRY)?v.push(re):re.includes(ce.OwnerType.PRODUCT)&&K.push(re);return K.forEach(re=>{C[re].value?.nextOwner!==void 0&&v.push(re)}),new _t({ownerKey:v})}))))),this.addOwner$=fe(()=>this.actions$.pipe(me(tr),R(I=>this.store.pipe(Ie(rt(I.payload.ownerKey)),E(1),R(C=>{let v=tt.createOwner(ce.OwnerType.CART_ENTRY,I.payload.cartEntryNo);return this.commonConfigUtilsService.setOwnerKey(v),[new Mi({configuration:C,cartEntryNo:I.payload.cartEntryNo}),new Ji({entityKey:v.key,interactionState:C.interactionState})]})))))}static{this.\u0275fac=function(t){return new(t||i)(P(pi),P(vt),P(it),P(Mt),P(ut),P(ma))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac})}}return i})(),Zd=(()=>{class i{constructor(e,t,n){this.actions$=e,this.configuratorCommonsConnector=t,this.configuratorCoreConfig=n,this.logger=z($e),this.searchVariants$=fe(()=>this.actions$.pipe(me(Pi),Y(()=>this.configuratorCoreConfig.productConfigurator?.enableVariantSearch===!0),Y(r=>r.payload.owner.configuratorType===Wt.VARIANT),R(r=>this.configuratorCommonsConnector.searchVariants(r.payload).pipe(R(c=>[new Jt({ownerKey:r.payload.owner.key,variants:c})]),Ae(c=>[new Vi({ownerKey:r.payload.owner.key,error:De(c,this.logger)})]))))),this.searchVariantsInCaseNotActive$=fe(()=>this.actions$.pipe(me(Pi),Y(r=>this.configuratorCoreConfig.productConfigurator?.enableVariantSearch===!1||r.payload.owner.configuratorType!==Wt.VARIANT),O(r=>new Jt({ownerKey:r.payload.owner.key,variants:[]}))))}static{this.\u0275fac=function(t){return new(t||i)(P(pi),P(vt),P(fa))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac})}}return i})(),Jd=[Yd,Xd,Zd],Yn=class i{static mergeGroupsWithSupplements(o,e){let t=[];return o.forEach(n=>t.push(this.mergeGroupWithSupplements(n,e))),t}static mergeGroupWithSupplements(o,e){return this.isTargetGroup(o,e)?this.mergeTargetGroupWithSupplements(o,e):N(A({},o),{subGroups:this.mergeGroupsWithSupplements(o.subGroups,e)})}static mergeTargetGroupWithSupplements(o,e){let t=o.attributes;return e.forEach(n=>{let r=i.getAttributeName(n.attributeUiKey);t=this.updateArrayElement(t,c=>c.name===r,c=>N(A({},c),{values:this.mergeValuesWithSupplement(c.values,n)}))}),N(A({},o),{attributes:t})}static mergeValuesWithSupplement(o,e){let t=o;return e.valueSupplements.forEach(n=>{t=this.updateArrayElement(t,r=>r.valueCode===n.attributeValueKey,r=>N(A({},r),{valuePrice:n.priceValue}))}),t}static isTargetGroup(o,e){let t=e[0];if(t){let n=i.getAttributeName(t.attributeUiKey),r=i.getKey(t.attributeUiKey,n);return o.id.indexOf(r)>=0}else throw new Error("We expect at least one attribute supplement")}static updateArrayElement(o,e,t){if(o){let n=o.findIndex(e);if(n===-1)return o;let r=o[n],c=t(r,n),g=[...o];return g[n]=c,g}}static getAttributeName(o){let e=o.lastIndexOf("@");return o.slice(e+1)}static getKey(o,e){return o.replace("@"+e,"")}},eg={configId:"",productCode:"",groups:[],flatGroups:[],interactionState:{currentGroup:void 0,groupsVisited:{},menuParentGroup:void 0},owner:tt.createInitialOwner()};var ge;function tg(i=eg,o){return ig(),ge.has(o.type)?ge.get(o.type)(i,o):i}function ig(){ge===void 0&&(ge=new Map,ge.set(dr,ng),ge.set(ln,ag),ge.set(ar,cg),ge.set(sr,sg),ge.set(Xn,ug),ge.set(mr,lg),ge.set(vr,pg),ge.set(Cr,dg),ge.set(rr,gg),ge.set(Jn,fg),ge.set(ir,mg),ge.set(yr,_g),ge.set(xr,vg),ge.set(br,hg),ge.set(Ir,Cg),ge.set(dn,rg),ge.set(Sr,og),ge.set(pn,yg))}function ng(i,o){let e=_n(o,i);return ri(e),e.isCartEntryUpdateRequired=!0,e.overview=void 0,i.interactionState.newConfiguration!==void 0&&(e.interactionState.newConfiguration=!1),e}function ri(i){i.interactionState.showConflictSolverDialog=i.immediateConflictResolution&&!i.consistent,i.interactionState.showConflictSolverDialog&&(i.interactionState.issueNavigationDone=!0)}function rg(i,o){if(o.type===dn)return N(A({},i),{interactionState:N(A({},i.interactionState),{showConflictSolverDialog:!1})})}function og(i){let o=N(A({},i),{interactionState:A({},i.interactionState)});return ri(o),o}function ag(i){let o=A({},i);return o.isCartEntryUpdateRequired=!1,o}function cg(i,o){let e=mn(_n(o,i));return ri(e),e.interactionState.newConfiguration=e.newConfiguration,e}function sg(i,o){let e=mn(_n(o,i));return ri(e),e}function ug(i,o){return mn(_n(o,i))}function lg(i,o){return mn(xg(o,i))}function pg(i,o){let e=N(A({},o.payload.overview),{possibleGroups:o.payload.overview.groups});return N(A({},i),{overview:e,priceSummary:e.priceSummary,interactionState:N(A({},i.interactionState),{issueNavigationDone:!1})})}function dg(i,o){let e=A({},o.payload.overview);return N(A({},i),{overview:e,priceSummary:e.priceSummary,interactionState:N(A({},i.interactionState),{issueNavigationDone:!1})})}function gg(i,o){return N(A({},i),{variants:o.payload.variants})}function fg(i,o){let e=o.payload.overview,t=e?N(A({},o.payload),{overview:N(A({},e),{possibleGroups:e.groups})}):o.payload;return N(A(A({},i),t),{priceSummary:t.overview?.priceSummary})}function mg(i,o){let e=A({},o.payload.configuration);return e.nextOwner=tt.createOwner(ce.OwnerType.CART_ENTRY,o.payload.cartEntryNo),A(A({},i),e)}function _g(i,o){let e=o.payload.interactionState;return N(A({},i),{interactionState:e})}function vg(i,o){let e=o.payload.currentGroup,t=N(A({},i),{interactionState:N(A({},i.interactionState),{currentGroup:e})});return ri(t),t}function hg(i,o){let e=o.payload.menuParentGroup;return N(A({},i),{interactionState:N(A({},i.interactionState),{menuParentGroup:e})})}function Cg(i,o){let e=o.payload.visitedGroups,t={groupsVisited:{}};return i.interactionState.groupsVisited&&Object.keys(i.interactionState.groupsVisited).forEach(n=>Go(t,n)),e.forEach(n=>Go(t,n)),N(A({},i),{interactionState:N(A({},i.interactionState),{groupsVisited:t.groupsVisited})})}function yg(i,o){let e=o.payload.conflictResolutionMode;return N(A({},i),{interactionState:N(A({},i.interactionState),{isConflictResolutionMode:e})})}function Go(i,o){let e=i.groupsVisited;e&&(e[o]=!0)}function mn(i){if(i.interactionState.currentGroup)return i;let o,e=i.flatGroups;e&&e.length>0&&(o=i.immediateConflictResolution?e.find(n=>!n.id.startsWith(m.ConflictIdPrefix))?.id:e[0].id);let t=o?.startsWith(m.ConflictIdPrefix)?m.ConflictHeaderId:void 0;return N(A({},i),{interactionState:N(A({},i.interactionState),{currentGroup:o,menuParentGroup:t})})}function _n(i,o){let e=A({},i.payload),t=e.groups.length>0?e.groups:o.groups,n=N(A(A({},o),e),{groups:t,interactionState:N(A(A({},o.interactionState),e.interactionState),{showConflictSolverDialog:o.interactionState.showConflictSolverDialog,issueNavigationDone:!0})});return n.priceSupplements&&(n.priceSupplements=void 0),n}function xg(i,o){let e=A({},i.payload),t=e.priceSupplements,n=!i.isDeltaRendering&&t&&t.length>0?Yn.mergeGroupsWithSupplements(o.groups,t):o.groups;return N(A(A({},o),e),{groups:n,interactionState:N(A(A({},o.interactionState),e.interactionState),{issueNavigationDone:!0})})}function bg(){return{configurations:q.entityProcessesLoaderReducer(X,tg)}}var _a=new Ge("ConfiguratorReducers"),Ig={provide:_a,useFactory:bg},Tg=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[Ig],imports:[L,so,io.forFeature(Ko,_a),no.forFeature(Jd)]})}}return i})(),Sg=(()=>{class i{constructor(e,t,n){this.eventService=e,this.configExpertModeService=t,this.configuratorCommonsService=n,this.subscription=new Ve,this.onLogout()}onLogout(){this.subscription.add(hn(this.eventService.get(uo)).subscribe(()=>{this.configExpertModeService.setExpModeActive(!1),this.configExpertModeService.setExpModeRequested(!1),this.configuratorCommonsService.removeProductBoundConfigurations()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)(P(di),P(bt),P(te))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Eg=(()=>{class i{constructor(){this.subscription=new Ve,this.eventService=z(di),this.configuratorCommonsService=z(te),this.onLanguageSet()}onLanguageSet(){this.subscription.add(hn(this.eventService.get(fo)).subscribe(()=>{this.configuratorCommonsService.removeProductBoundConfigurations()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),wg=(()=>{class i{constructor(e,t){}static{this.\u0275fac=function(t){return new(t||i)(P(Sg),P(Eg))}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[vt,Z(Wd)],imports:[Tg,Qd]})}}return i})(),Og=(()=>{class i{constructor(){}convert(e,t){return N(A({},t),{userId:e.userId,cartId:e.cartId,product:{code:e.productCode},quantity:e.quantity,configId:e.configId})}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),j;(function(i){let o;(function(g){g.CSTIC_GROUP="CSTIC_GROUP",g.INSTANCE="INSTANCE",g.CONFLICT_HEADER="CONFLICT_HEADER",g.CONFLICT="CONFLICT"})(o=i.GroupType||(i.GroupType={}));let e;(function(g){g.STRING="STRING",g.NUMERIC="NUMERIC",g.SAP_DATE="SAP_DATE",g.CHECK_BOX="CHECK_BOX",g.CHECK_BOX_LIST="CHECK_BOX_LIST",g.RADIO_BUTTON="RADIO_BUTTON",g.RADIO_BUTTON_ADDITIONAL_INPUT="RADIO_BUTTON_ADDITIONAL_INPUT",g.DROPDOWN="DROPDOWN",g.DROPDOWN_ADDITIONAL_INPUT="DROPDOWN_ADDITIONAL_INPUT",g.READ_ONLY="READ_ONLY",g.READ_ONLY_SINGLE_SELECTION_IMAGE="READ_ONLY_SINGLE_SELECTION_IMAGE",g.READ_ONLY_MULTI_SELECTION_IMAGE="READ_ONLY_MULTI_SELECTION_IMAGE",g.NOT_IMPLEMENTED="NOT_IMPLEMENTED",g.SINGLE_SELECTION_IMAGE="SINGLE_SELECTION_IMAGE",g.MULTI_SELECTION_IMAGE="MULTI_SELECTION_IMAGE"})(e=i.UiType||(i.UiType={}));let t;(function(g){g.BUY="BUY"})(t=i.PriceType||(i.PriceType={}));let n;(function(g){g.VALUE_IMAGE="VALUE_IMAGE",g.CSTIC_IMAGE="CSTIC_IMAGE"})(n=i.ImageFormatType||(i.ImageFormatType={}));let r;(function(g){g.PRIMARY="PRIMARY",g.GALLERY="GALLERY"})(r=i.ImageType||(i.ImageType={}));let c;(function(g){g.VISIBLE="PRIMARY",g.USER_INPUT="USER_INPUT",g.PRICE_RELEVANT="PRICE_RELEVANT"})(c=i.OverviewFilterEnum||(i.OverviewFilterEnum={}))})(j||(j={}));var Ag=(()=>{class i{constructor(e,t,n){this.config=e,this.translation=t,this.uiSettingsConfig=n}convert(e,t){let n=N(A({},t),{owner:t?.owner??tt.createInitialOwner(),interactionState:t?.interactionState??{},configId:e.configId,complete:e.complete,consistent:e.consistent,totalNumberOfIssues:e.totalNumberOfIssues,productCode:e.rootProduct,groups:[],flatGroups:[],kbKey:e.kbKey??void 0,pricingEnabled:e.pricingEnabled??!0,hideBasePriceAndSelectedOptions:e.hideBasePriceAndSelectedOptions,immediateConflictResolution:e.immediateConflictResolution??!1,newConfiguration:e.newConfiguration,isPricingAsync:!0}),r=[];return e.groups?.forEach(c=>this.convertGroup(c,n.groups,r)),n.flatGroups=r,n}convertGroup(e,t,n){let r=[];e.attributes&&e.attributes.forEach(g=>this.convertAttribute(g,r));let c={description:e.description,configurable:e.configurable,complete:e.complete,consistent:e.consistent,groupType:this.convertGroupType(e.groupType),name:e.name,id:e.id,attributes:r,subGroups:[]};this.setGroupDescription(c),e.subGroups&&e.subGroups.forEach(g=>this.convertGroup(g,c.subGroups,n)),(c.groupType===m.GroupType.ATTRIBUTE_GROUP||c.groupType===m.GroupType.CONFLICT_GROUP)&&n.push(c),t.push(c)}getGroupId(e,t){return e.replace("@"+t,"")}convertAttribute(e,t){let n=e.conflicts?e.conflicts.length:0,r=[],c=[];e.images&&e.images.forEach(C=>this.convertImage(C,r)),this.addRetractValue(e,c),e.domainValues&&e.domainValues.forEach(C=>this.convertValue(C,c));let g=this.convertAttributeType(e),I={name:e.name,label:e.langDepName,required:e.required,uiType:g,uiTypeVariation:e.type,groupId:this.getGroupId(e.key,e.name),userInput:this.compileUserInput(e),maxlength:(e.maxlength??0)+(e.negativeAllowed?1:0),numDecimalPlaces:e.numberScale,negativeAllowed:e.negativeAllowed,numTotalLength:e.typeLength,selectedSingleValue:void 0,hasConflicts:n>0,images:r,values:c,intervalInDomain:e.intervalInDomain,key:e.key,validationType:e.validationType,visible:e.visible,description:e.longText,domainOnDemand:e.domainOnDemand};this.setSelectedSingleValue(I),this.compileAttributeIncomplete(I),t.push(I)}compileUserInput(e){let t;return(e.type===j.UiType.NUMERIC||e.type===j.UiType.STRING||e.type===j.UiType.READ_ONLY)&&(t=e.formattedValue?e.formattedValue:""),e.type===j.UiType.SAP_DATE&&(t=e.value?e.value:""),t}setSelectedSingleValue(e){if(e.values){let t=e.values.map(n=>n).filter(n=>n.selected);t&&t.length===1&&(e.selectedSingleValue=t[0].valueCode)}}isRetractValueSelected(e){return!(e.domainValues&&e.domainValues.filter(t=>t.selected).length)}setRetractValueDisplay(e,t){(e===m.UiType.DROPDOWN||e===m.UiType.RADIOBUTTON||e===m.UiType.SINGLE_SELECTION_IMAGE)&&(e===m.UiType.DROPDOWN&&t.selected?this.translation.translate("configurator.attribute.dropDownSelectMsg").pipe(E(1)).subscribe(n=>t.valueDisplay=n):this.translation.translate("configurator.attribute.noOptionSelectedMsg").pipe(E(1)).subscribe(n=>t.valueDisplay=n))}hasSourceAttributeConflicts(e){return e.conflicts?e.conflicts.length>0:!1}isSourceAttributeTypeReadOnly(e){return e.type===j.UiType.READ_ONLY||e.type===j.UiType.READ_ONLY_SINGLE_SELECTION_IMAGE||e.type===j.UiType.READ_ONLY_MULTI_SELECTION_IMAGE}isRetractBlocked(e){return e.retractBlocked?e.retractBlocked:!1}addRetractValue(e,t){let n=this.isRetractBlocked(e),r=this.hasSourceAttributeConflicts(e);if(!n&&(this.uiSettingsConfig?.productConfigurator?.addRetractOption||this.isSourceAttributeTypeReadOnly(e)&&r&&!e.domainOnDemand)){let c=this.convertAttributeType(e);if(c===m.UiType.RADIOBUTTON||c===m.UiType.DROPDOWN||c===m.UiType.SINGLE_SELECTION_IMAGE){let g={valueCode:m.RetractValueCode,selected:this.isRetractValueSelected(e)};this.setRetractValueDisplay(c,g),t.push(g)}}}convertValue(e,t){let n=[];e.images&&e.images.forEach(c=>this.convertImage(c,n));let r={valueCode:e.key,valueDisplay:e.langDepName,name:e.name,selected:e.selected,images:n,description:e.longText};t.push(r)}convertImage(e,t){let n={url:(this.config?.backend?.media?.baseUrl||this.config?.backend?.occ?.baseUrl||"")+e.url,altText:e.altText,galleryIndex:e.galleryIndex,type:this.convertImageType(e.imageType),format:this.convertImageFormatType(e.format)};t.push(n)}getSingleSelectionUiType(e,t){switch(e){case j.UiType.RADIO_BUTTON:{t=m.UiType.RADIOBUTTON;break}case j.UiType.RADIO_BUTTON_ADDITIONAL_INPUT:{t=m.UiType.RADIOBUTTON_ADDITIONAL_INPUT;break}case j.UiType.DROPDOWN:{t=m.UiType.DROPDOWN;break}case j.UiType.DROPDOWN_ADDITIONAL_INPUT:{t=m.UiType.DROPDOWN_ADDITIONAL_INPUT;break}case j.UiType.CHECK_BOX:{t=m.UiType.CHECKBOX;break}case j.UiType.SINGLE_SELECTION_IMAGE:{t=m.UiType.SINGLE_SELECTION_IMAGE;break}}return t}getMultiSelectionUiType(e,t){switch(e){case j.UiType.CHECK_BOX_LIST:{t=m.UiType.CHECKBOXLIST;break}case j.UiType.MULTI_SELECTION_IMAGE:{t=m.UiType.MULTI_SELECTION_IMAGE;break}}return t}getReadOnlyUiType(e,t,n){switch(t){case j.UiType.READ_ONLY:{n=!e.retractBlocked&&this.hasSourceAttributeConflicts(e)?m.UiType.RADIOBUTTON:m.UiType.READ_ONLY;break}case j.UiType.READ_ONLY_SINGLE_SELECTION_IMAGE:{n=!e.retractBlocked&&this.hasSourceAttributeConflicts(e)?m.UiType.SINGLE_SELECTION_IMAGE:m.UiType.READ_ONLY_SINGLE_SELECTION_IMAGE;break}case j.UiType.READ_ONLY_MULTI_SELECTION_IMAGE:{n=!e.retractBlocked&&this.hasSourceAttributeConflicts(e)?m.UiType.MULTI_SELECTION_IMAGE:m.UiType.READ_ONLY_MULTI_SELECTION_IMAGE;break}}return n}getInputUiType(e,t){switch(e){case j.UiType.STRING:{t=m.UiType.STRING;break}case j.UiType.NUMERIC:{t=m.UiType.NUMERIC;break}case j.UiType.SAP_DATE:{t=m.UiType.SAP_DATE;break}}return t}convertAttributeType(e){let t=m.UiType.NOT_IMPLEMENTED,n=e.type?.toString()??"",r=this.determineCoreUiType(n);return t=this.getSingleSelectionUiType(r,t),t=this.getMultiSelectionUiType(r,t),t=this.getInputUiType(r,t),t=this.getReadOnlyUiType(e,r,t),t}determineCoreUiType(e){let t=e.indexOf(m.CustomUiTypeIndicator);return t>0?e.substring(0,t):e}convertGroupType(e){switch(e){case j.GroupType.CSTIC_GROUP:return m.GroupType.ATTRIBUTE_GROUP;case j.GroupType.INSTANCE:return m.GroupType.SUB_ITEM_GROUP;case j.GroupType.CONFLICT_HEADER:return m.GroupType.CONFLICT_HEADER_GROUP;case j.GroupType.CONFLICT:return m.GroupType.CONFLICT_GROUP}}setGroupDescription(e){switch(e.groupType){case m.GroupType.CONFLICT_HEADER_GROUP:this.translation.translate("configurator.group.conflictHeader").pipe(E(1)).subscribe(n=>e.description=n);break;case m.GroupType.CONFLICT_GROUP:let t=e.description;this.translation.translate("configurator.group.conflictGroup",{attribute:e.name}).pipe(E(1)).subscribe(n=>e.description=n),e.name=t;break;default:if(e.name!=="_GEN")return;this.translation.translate("configurator.group.general").pipe(E(1)).subscribe(n=>e.description=n)}}convertImageType(e){switch(e){case j.ImageType.GALLERY:return m.ImageType.GALLERY;case j.ImageType.PRIMARY:return m.ImageType.PRIMARY}}convertImageFormatType(e){switch(e){case j.ImageFormatType.VALUE_IMAGE:return m.ImageFormatType.VALUE_IMAGE;case j.ImageFormatType.CSTIC_IMAGE:return m.ImageFormatType.ATTRIBUTE_IMAGE}}compileAttributeIncomplete(e){e.incomplete=!1;let t=[m.UiType.RADIOBUTTON,m.UiType.RADIOBUTTON_ADDITIONAL_INPUT,m.UiType.DROPDOWN_ADDITIONAL_INPUT,m.UiType.DROPDOWN],n=[m.UiType.NUMERIC,m.UiType.SAP_DATE,m.UiType.STRING],r=[m.UiType.CHECKBOXLIST,m.UiType.CHECKBOX,m.UiType.MULTI_SELECTION_IMAGE],c=e.uiType??m.UiType.NOT_IMPLEMENTED;t.includes(c)?this.compileAttributeIncompleteSingleLevel(e):c===m.UiType.SINGLE_SELECTION_IMAGE?this.compileAttributeIncompleteSingleSelectionImage(e):n.includes(c)?this.compileAttributeIncompleteInputTypes(e):r.includes(c)&&this.compileAttributeIncompleteMultiSelect(e)}compileAttributeIncompleteSingleLevel(e){(!e.selectedSingleValue||e.selectedSingleValue===m.RetractValueCode)&&(e.incomplete=!0)}compileAttributeIncompleteSingleSelectionImage(e){e.selectedSingleValue||(e.incomplete=!0)}compileAttributeIncompleteInputTypes(e){e.userInput||(e.incomplete=!0)}compileAttributeIncompleteMultiSelect(e){let t=e.values?.find(n=>n.selected)!==void 0;e.incomplete=!t}static{this.\u0275fac=function(t){return new(t||i)(P(ao),P(Ee),P(Pt))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Yt=new Ge("VariantConfiguratorNormalizer"),va=new Ge("VariantConfiguratorSerializer"),ha=new Ge("VariantConfiguratorPriceSummaryNormalizer"),Ca=new Ge("VariantConfiguratorPriceNormalizer"),ya=new Ge("VariantConfiguratorAddToCartSerializer"),xa=new Ge("VariantConfiguratorUpdateCartEntrySerializer"),bi=new Ge("VariantConfiguratorOverviewNormalizer"),ba=new Ge("VariantConfiguratorOverviewSerializer"),Fg=(()=>{class i{constructor(e,t){this.translation=e,this.converterService=t}convert(e,t){let n={priceSummary:e.pricing,configId:e.id},r=N(A({},t),{configId:e.id,groups:e.groups?.flatMap(c=>this.convertGroup(c)),priceSummary:this.converterService.convert(n,ha),productCode:e.productCode});return this.setIssueCounters(r,e),r}convertGroup(e){let t=[],n=e.characteristicValues,r=e.subGroups,c={id:e.id,groupDescription:e.groupDescription,attributes:n?n.map(g=>({attribute:g.characteristic,attributeId:g.characteristicId,value:g.value,valueId:g.valueId,valuePrice:g.price})):[]};if(this.setGeneralDescription(c),r){let g=[];r.forEach(I=>this.convertGroup(I).forEach(C=>g.push(C))),c.subGroups=g}return t.push(c),t}setGeneralDescription(e){e.id==="_GEN"&&this.translation.translate("configurator.group.general").pipe(E(1)).subscribe(t=>e.groupDescription=t)}setIssueCounters(e,t){e.totalNumberOfIssues=t.totalNumberOfIssues,e.numberOfConflicts=t.numberOfConflicts,e.numberOfIncompleteCharacteristics=t.numberOfIncompleteCharacteristics}static{this.\u0275fac=function(t){return new(t||i)(P(Ee),P(gi))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Dg=(()=>{class i{constructor(e){this.converterService=e}convert(e,t){return N(A({},t),{id:e.configId,productCode:e.productCode,appliedCsticFilter:this.convertAttributeFilters(e.attributeFilters),groupFilterList:this.convertGroupFilters(e.groupFilters)})}convertAttributeFilters(e){let t=[];return e?.forEach(n=>{t.push({key:n,selected:!0})}),t}convertGroupFilters(e){let t=[];return e?.forEach(n=>{t.push({key:n,selected:!0})}),t}static{this.\u0275fac=function(t){return new(t||i)(P(gi))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Rg=(()=>{class i{convert(e,t){return A(A({},t),e.priceSummary)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ng=(()=>{class i{convert(e,t){let n=[];return e.groups.forEach(c=>this.convertGroup(c,n)),N(A({},t),{configId:e.configId,rootProduct:e.productCode,complete:e.complete,groups:n})}convertGroup(e,t){let n=[],r=[];e.attributes&&e.attributes.forEach(g=>this.convertAttribute(g,r)),e.subGroups&&e.subGroups.forEach(g=>this.convertGroup(g,n));let c={name:e.name,id:e.id,configurable:e.configurable,groupType:this.convertGroupType(e.groupType??m.GroupType.ATTRIBUTE_GROUP),description:e.description,attributes:r,subGroups:n};t.push(c)}isRetractValue(e){return e.selectedSingleValue===m.RetractValueCode}getRetractedValue(e){return e.values?.find(t=>t.selected)?.valueCode}retractValue(e,t){this.isRetractValue(e)?(t.value=this.getRetractedValue(e),t.retractTriggered=!0):t.value=e.selectedSingleValue}convertAttribute(e,t){let n=e.uiType??m.UiType.NOT_IMPLEMENTED,r={key:e.name,name:e.name,langDepName:e.label,required:e.required,retractTriggered:e.retractTriggered,type:this.convertCharacteristicType(n)},c=[m.UiType.RADIOBUTTON,m.UiType.RADIOBUTTON_ADDITIONAL_INPUT,m.UiType.DROPDOWN_ADDITIONAL_INPUT,m.UiType.DROPDOWN,m.UiType.SINGLE_SELECTION_IMAGE],g=[m.UiType.CHECKBOXLIST,m.UiType.CHECKBOX,m.UiType.MULTI_SELECTION_IMAGE],I=[m.UiType.STRING,m.UiType.SAP_DATE],C=[m.UiType.NUMERIC];if(c.includes(n))this.retractValue(e,r);else if(I.includes(n))r.value=e.userInput;else if(C.includes(n))r.formattedValue=e.userInput;else if(g.includes(n)){let v=[];e.values&&e.values.forEach(K=>{this.convertValue(K,v)}),r.domainValues=v}t.push(r)}convertValue(e,t){t.push({key:e.valueCode,langDepName:e.valueDisplay,name:e.name,selected:e.selected})}convertCharacteristicType(e){return[m.UiType.RADIOBUTTON,m.UiType.RADIOBUTTON_ADDITIONAL_INPUT,m.UiType.DROPDOWN_ADDITIONAL_INPUT,m.UiType.DROPDOWN,m.UiType.SINGLE_SELECTION_IMAGE].includes(e)?this.convertCharacteristicTypeSingleValue(e):this.convertCharacteristicTypeMultiValueAndInput(e)}convertCharacteristicTypeSingleValue(e){let t;switch(e){case m.UiType.RADIOBUTTON:{t=j.UiType.RADIO_BUTTON;break}case m.UiType.RADIOBUTTON_ADDITIONAL_INPUT:{t=j.UiType.RADIO_BUTTON_ADDITIONAL_INPUT;break}case m.UiType.DROPDOWN:{t=j.UiType.DROPDOWN;break}case m.UiType.DROPDOWN_ADDITIONAL_INPUT:{t=j.UiType.DROPDOWN_ADDITIONAL_INPUT;break}case m.UiType.SINGLE_SELECTION_IMAGE:{t=j.UiType.SINGLE_SELECTION_IMAGE;break}default:t=j.UiType.NOT_IMPLEMENTED}return t}convertCharacteristicTypeMultiValueAndInput(e){let t;switch(e){case m.UiType.STRING:{t=j.UiType.STRING;break}case m.UiType.NUMERIC:{t=j.UiType.NUMERIC;break}case m.UiType.SAP_DATE:{t=j.UiType.SAP_DATE;break}case m.UiType.CHECKBOX:{t=j.UiType.CHECK_BOX;break}case m.UiType.CHECKBOXLIST:{t=j.UiType.CHECK_BOX_LIST;break}case m.UiType.MULTI_SELECTION_IMAGE:{t=j.UiType.MULTI_SELECTION_IMAGE;break}default:t=j.UiType.NOT_IMPLEMENTED}return t}convertGroupType(e){switch(e){case m.GroupType.ATTRIBUTE_GROUP:return j.GroupType.CSTIC_GROUP;case m.GroupType.SUB_ITEM_GROUP:return j.GroupType.INSTANCE;case m.GroupType.CONFLICT_GROUP:return j.GroupType.CONFLICT;case m.GroupType.CONFLICT_HEADER_GROUP:return j.GroupType.CONFLICT_HEADER}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Mg=(()=>{class i{convert(e,t){return N(A({},t),{userId:e.userId,cartId:e.cartId,product:{code:e.configuration.productCode},entryNumber:e.cartEntryNumber,configId:e.configuration.configId,configurationInfos:[{configuratorType:Wt.VARIANT}]})}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Pg=(()=>{class i{constructor(e,t,n,r){this.http=e,this.occEndpointsService=t,this.converterService=n,this.configExpertModeService=r}getConfiguratorType(){return Wt.VARIANT}getExpModeRequested(){let e=!1;return this.configExpertModeService.getExpModeRequested().pipe(E(1)).subscribe(t=>e=t),e}setExpModeActive(e){this.configExpertModeService.setExpModeActive(e)}createConfiguration(e,t,n=!1){let r=e.id,c=this.getExpModeRequested();return this.http.get(this.occEndpointsService.buildUrl("createVariantConfiguration",{urlParams:{productCode:r},queryParams:t?{configIdTemplate:t,expMode:c,forceReset:n}:{expMode:c,forceReset:n}}),{context:this.indicateSendUserForAsm()}).pipe(this.converterService.pipeable(Yt),he(g=>{this.setExpModeActive(g.kbKey!==void 0)}),O(g=>N(A({},g),{owner:e})))}readConfiguration(e,t,n,r){let c=this.getExpModeRequested(),g=r;return this.http.get(this.occEndpointsService.buildUrl("readVariantConfiguration",{urlParams:{configId:e},queryParams:{groupId:t,expMode:c,attributeKeyRequiresDomain:g}}),{context:this.indicateSendUserForAsm()}).pipe(this.converterService.pipeable(Yt),he(I=>{this.setExpModeActive(I.kbKey!==void 0)}),O(I=>N(A({},I),{owner:n,newConfiguration:!1})))}updateConfiguration(e){let t=e.configId,n=this.getExpModeRequested(),r=this.occEndpointsService.buildUrl("updateVariantConfiguration",{urlParams:{configId:t},queryParams:{expMode:n}}),c=this.converterService.convert(e,va);return this.http.patch(r,c,{context:this.indicateSendUserForAsm()}).pipe(this.converterService.pipeable(Yt),he(g=>{this.setExpModeActive(g.kbKey!==void 0)}),O(g=>N(A({},g),{owner:e.owner})))}addToCart(e){let t=this.occEndpointsService.buildUrl("addVariantConfigurationToCart",{urlParams:{userId:e.userId,cartId:e.cartId}}),n=this.converterService.convert(e,ya),r=new An({"Content-Type":"application/json"});return this.http.post(t,n,{headers:r}).pipe(this.converterService.pipeable(qn))}readConfigurationForCartEntry(e){let t=this.getExpModeRequested(),n=this.occEndpointsService.buildUrl("readVariantConfigurationForCartEntry",{urlParams:{userId:e.userId,cartId:e.cartId,cartEntryNumber:e.cartEntryNumber},queryParams:{expMode:t}});return this.http.get(n).pipe(this.converterService.pipeable(Yt),he(r=>{this.setExpModeActive(r.kbKey!==void 0)}),O(r=>N(A({},r),{owner:e.owner})))}updateConfigurationForCartEntry(e){let t=this.occEndpointsService.buildUrl("updateVariantConfigurationForCartEntry",{urlParams:{userId:e.userId,cartId:e.cartId,cartEntryNumber:e.cartEntryNumber}}),n=new An({"Content-Type":"application/json"}),r=this.converterService.convert(e,xa);return this.http.put(t,r,{headers:n}).pipe(this.converterService.pipeable(qn))}readConfigurationForOrderEntry(e){let t=e.owner.type,n;return t===ce.OwnerType.QUOTE_ENTRY?n=this.occEndpointsService.buildUrl("readVariantConfigurationOverviewForQuoteEntry",{urlParams:{userId:e.userId,quoteId:e.orderId,quoteEntryNumber:e.orderEntryNumber}}):t===ce.OwnerType.SAVED_CART_ENTRY?n=this.occEndpointsService.buildUrl("readVariantConfigurationOverviewForSavedCartEntry",{urlParams:{userId:e.userId,cartId:e.orderId,cartEntryNumber:e.orderEntryNumber}}):n=this.occEndpointsService.buildUrl("readVariantConfigurationOverviewForOrderEntry",{urlParams:{userId:e.userId,orderId:e.orderId,orderEntryNumber:e.orderEntryNumber}}),this.http.get(n).pipe(this.converterService.pipeable(bi),O(r=>({configId:r.configId,productCode:r.productCode,groups:[],flatGroups:[],interactionState:{},overview:r,owner:tt.createInitialOwner()})),O(r=>N(A({},r),{owner:e.owner})))}readPriceSummary(e){let t=this.occEndpointsService.buildUrl("readVariantConfigurationPriceSummary",{urlParams:{configId:e.configId},queryParams:{groupId:e.interactionState.currentGroup}});return this.http.get(t,{context:this.indicateSendUserForAsm()}).pipe(this.converterService.pipeable(Ca),O(n=>N(A({},e),{priceSummary:n.priceSummary,priceSupplements:n.priceSupplements})))}getConfigurationOverview(e){let t=this.occEndpointsService.buildUrl("getVariantConfigurationOverview",{urlParams:{configId:e}});return this.http.get(t,{context:this.indicateSendUserForAsm()}).pipe(this.converterService.pipeable(bi))}updateConfigurationOverview(e){let t=this.occEndpointsService.buildUrl("getVariantConfigurationOverview",{urlParams:{configId:e.configId}}),n=this.converterService.convert(e,ba);return this.http.patch(t,n,{context:this.indicateSendUserForAsm()}).pipe(this.converterService.pipeable(bi),O(r=>N(A({},r),{attributeFilters:e.attributeFilters,groupFilters:e.groupFilters,possibleGroups:e.possibleGroups})))}searchVariants(e){let t=this.occEndpointsService.buildUrl("searchConfiguratorVariants",{urlParams:{configId:e}});return this.http.get(t,{context:this.indicateSendUserForAsm()})}indicateSendUserForAsm(){return new Jr().set(po,{sendUserIdAsHeader:!0})}static{this.\u0275fac=function(t){return new(t||i)(P(eo),P(co),P(gi),P(bt))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac})}}return i})(),Vg=(()=>{class i{convert(e,t){let n=[];return e.attributes?.forEach(c=>{this.convertAttributeSupplements(c,n)}),N(A({},t),{configId:e.configId,productCode:"",groups:[],flatGroups:[],owner:tt.createInitialOwner(),interactionState:{},priceSummary:e?.priceSummary,priceSupplements:n})}convertAttributeSupplements(e,t){let n={attributeUiKey:e?.csticUiKey,valueSupplements:[]};e?.priceSupplements?.forEach(r=>{this.convertValueSupplement(r,n?.valueSupplements)}),t.push(n)}convertValueSupplement(e,t){let n={attributeValueKey:e?.attributeValueKey,priceValue:e?.priceValue,obsoletePriceValue:e?.obsoletePriceValue};t.push(n)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Gg(){return{backend:{occ:{endpoints:{createVariantConfiguration:"products/${productCode}/configurators/ccpconfigurator",readVariantConfiguration:"ccpconfigurator/${configId}",updateVariantConfiguration:"ccpconfigurator/${configId}",addVariantConfigurationToCart:"users/${userId}/carts/${cartId}/entries/ccpconfigurator",readVariantConfigurationForCartEntry:"users/${userId}/carts/${cartId}/entries/${cartEntryNumber}/ccpconfigurator",updateVariantConfigurationForCartEntry:"users/${userId}/carts/${cartId}/entries/${cartEntryNumber}/ccpconfigurator",readVariantConfigurationOverviewForOrderEntry:"users/${userId}/orders/${orderId}/entries/${orderEntryNumber}/ccpconfigurator/configurationOverview",readVariantConfigurationOverviewForSavedCartEntry:"users/${userId}/carts/${cartId}/entries/${cartEntryNumber}/ccpconfigurator/configurationOverview",readVariantConfigurationOverviewForQuoteEntry:"users/${userId}/quotes/${quoteId}/entries/${quoteEntryNumber}/ccpconfigurator/configurationOverview",readVariantConfigurationPriceSummary:"ccpconfigurator/${configId}/pricing",getVariantConfigurationOverview:"ccpconfigurator/${configId}/configurationOverview",searchConfiguratorVariants:"ccpconfigurator/${configId}/variants"}}}}}var Ug=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({providers:[{provide:vt.CONFIGURATOR_ADAPTER_LIST,useClass:Pg,multi:!0},{provide:Yt,useExisting:Ag,multi:!0},{provide:va,useExisting:Ng,multi:!0},{provide:ha,useExisting:Rg,multi:!0},{provide:Ca,useExisting:Vg,multi:!0},{provide:ya,useExisting:Og,multi:!0},{provide:xa,useExisting:Mg,multi:!0},{provide:bi,useExisting:Fg,multi:!0},{provide:ba,useExisting:Dg,multi:!0}],imports:[L,lo.withConfigFactory(Gg)]})}}return i})(),Of=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=B({type:i})}static{this.\u0275inj=U({imports:[Ug,wg,Kd]})}}return i})();export{X as CONFIGURATOR_DATA,Ko as CONFIGURATOR_FEATURE,Po as ConfigFormUpdateEvent,m as Configurator,Ef as ConfiguratorActions,Cp as ConfiguratorAddToCartButtonComponent,yp as ConfiguratorAddToCartButtonModule,qe as ConfiguratorAttributeBaseComponent,Rp as ConfiguratorAttributeCheckBoxComponent,Fp as ConfiguratorAttributeCheckBoxListComponent,Dp as ConfiguratorAttributeCheckboxListModule,Np as ConfiguratorAttributeCheckboxModule,xp as ConfiguratorAttributeCompositionConfig,Oe as ConfiguratorAttributeCompositionContext,bp as ConfiguratorAttributeCompositionDirective,ca as ConfiguratorAttributeCompositionModule,Do as ConfiguratorAttributeDropDownComponent,Pp as ConfiguratorAttributeDropDownModule,Ip as ConfiguratorAttributeFooterComponent,Tp as ConfiguratorAttributeFooterModule,Ep as ConfiguratorAttributeHeaderComponent,Op as ConfiguratorAttributeHeaderModule,ni as ConfiguratorAttributeInputFieldComponent,Rr as ConfiguratorAttributeInputFieldModule,sa as ConfiguratorAttributeMultiSelectionBaseComponent,Vp as ConfiguratorAttributeMultiSelectionBundleComponent,Gp as ConfiguratorAttributeMultiSelectionBundleModule,Ro as ConfiguratorAttributeMultiSelectionImageComponent,Up as ConfiguratorAttributeMultiSelectionImageModule,Bp as ConfiguratorAttributeNotSupportedComponent,Lp as ConfiguratorAttributeNotSupportedModule,Dr as ConfiguratorAttributeNumericInputFieldComponent,Nr as ConfiguratorAttributeNumericInputFieldModule,Mp as ConfiguratorAttributeNumericInputFieldService,ot as ConfiguratorAttributePriceChangeService,Ar as ConfiguratorAttributeProductCardComponent,Fr as ConfiguratorAttributeProductCardModule,yt as ConfiguratorAttributeQuantityComponent,xt as ConfiguratorAttributeQuantityModule,Vt as ConfiguratorAttributeQuantityService,No as ConfiguratorAttributeRadioButtonComponent,kp as ConfiguratorAttributeRadioButtonModule,$p as ConfiguratorAttributeReadOnlyComponent,jp as ConfiguratorAttributeReadOnlyModule,fn as ConfiguratorAttributeSingleSelectionBaseComponent,Hp as ConfiguratorAttributeSingleSelectionBundleComponent,qp as ConfiguratorAttributeSingleSelectionBundleDropdownComponent,Kp as ConfiguratorAttributeSingleSelectionBundleDropdownModule,Qp as ConfiguratorAttributeSingleSelectionBundleModule,Mo as ConfiguratorAttributeSingleSelectionImageComponent,Wp as ConfiguratorAttributeSingleSelectionImageModule,ma as ConfiguratorBasicEffectService,Or as ConfiguratorCartService,te as ConfiguratorCommonsService,Yp as ConfiguratorConflictAndErrorMessagesComponent,zp as ConfiguratorConflictAndErrorMessagesModule,Xp as ConfiguratorConflictDescriptionComponent,Zp as ConfiguratorConflictDescriptionModule,nd as ConfiguratorConflictSolverDialogComponent,rd as ConfiguratorConflictSolverDialogLauncherService,ad as ConfiguratorConflictSolverDialogModule,Jp as ConfiguratorConflictSuggestionComponent,ed as ConfiguratorConflictSuggestionModule,fa as ConfiguratorCoreConfig,td as ConfiguratorExitButtonComponent,id as ConfiguratorExitButtonModule,bt as ConfiguratorExpertModeService,cd as ConfiguratorFormComponent,sd as ConfiguratorFormModule,Mr as ConfiguratorGroupComponent,ld as ConfiguratorGroupMenuComponent,pd as ConfiguratorGroupMenuModule,Pr as ConfiguratorGroupModule,oa as ConfiguratorGroupStatusService,dd as ConfiguratorGroupTitleComponent,gd as ConfiguratorGroupTitleModule,We as ConfiguratorGroupsService,Eg as ConfiguratorLanguageSetEventListener,Sg as ConfiguratorLogoutEventListener,cn as ConfiguratorMessageConfig,fd as ConfiguratorOverviewAttributeComponent,ua as ConfiguratorOverviewAttributeModule,md as ConfiguratorOverviewBundleAttributeComponent,_d as ConfiguratorOverviewBundleAttributeModule,la as ConfiguratorOverviewFilterBarComponent,da as ConfiguratorOverviewFilterBarModule,vd as ConfiguratorOverviewFilterButtonComponent,hd as ConfiguratorOverviewFilterButtonModule,pa as ConfiguratorOverviewFilterComponent,Cd as ConfiguratorOverviewFilterDialogComponent,xd as ConfiguratorOverviewFilterDialogModule,Vr as ConfiguratorOverviewFilterModule,bd as ConfiguratorOverviewFormComponent,Id as ConfiguratorOverviewFormModule,Td as ConfiguratorOverviewMenuComponent,ga as ConfiguratorOverviewMenuModule,Sd as ConfiguratorOverviewNotificationBannerComponent,Ed as ConfiguratorOverviewNotificationBannerModule,wd as ConfiguratorOverviewSidebarComponent,Od as ConfiguratorOverviewSidebarModule,Ad as ConfiguratorPreviousNextButtonsComponent,Fd as ConfiguratorPreviousNextButtonsModule,Re as ConfiguratorPriceComponent,Ne as ConfiguratorPriceModule,Dd as ConfiguratorPriceSummaryComponent,Rd as ConfiguratorPriceSummaryModule,Nd as ConfiguratorProductTitleComponent,Md as ConfiguratorProductTitleModule,aa as ConfiguratorQuantityService,Pd as ConfiguratorRestartDialogComponent,Gd as ConfiguratorRestartDialogModule,Hd as ConfiguratorRouterListener,Qd as ConfiguratorRouterModule,wf as ConfiguratorSelectors,ht as ConfiguratorShowMoreComponent,Ct as ConfiguratorShowMoreModule,Sp as ConfiguratorShowOptionsComponent,wp as ConfiguratorShowOptionsModule,se as ConfiguratorStorefrontUtilsService,Ud as ConfiguratorTabBarComponent,Bd as ConfiguratorTabBarModule,Pt as ConfiguratorUISettingsConfig,kd as ConfiguratorUpdateMessageComponent,$d as ConfiguratorUpdateMessageModule,Mt as ConfiguratorUtilsService,jd as ConfiguratorVariantCarouselComponent,qd as ConfiguratorVariantCarouselModule,j as OccConfigurator,Og as OccConfiguratorVariantAddToCartSerializer,Ag as OccConfiguratorVariantNormalizer,Fg as OccConfiguratorVariantOverviewNormalizer,Dg as OccConfiguratorVariantOverviewSerializer,Rg as OccConfiguratorVariantPriceSummaryNormalizer,Ng as OccConfiguratorVariantSerializer,Mg as OccConfiguratorVariantUpdateCartEntrySerializer,Vo as RulebasedConfiguratorAdapter,Kd as RulebasedConfiguratorComponentsModule,vt as RulebasedConfiguratorConnector,wg as RulebasedConfiguratorCoreModule,Of as RulebasedConfiguratorModule,ya as VARIANT_CONFIGURATOR_ADD_TO_CART_SERIALIZER,Yt as VARIANT_CONFIGURATOR_NORMALIZER,bi as VARIANT_CONFIGURATOR_OVERVIEW_NORMALIZER,ba as VARIANT_CONFIGURATOR_OVERVIEW_SERIALIZER,Ca as VARIANT_CONFIGURATOR_PRICE_NORMALIZER,ha as VARIANT_CONFIGURATOR_PRICE_SUMMARY_NORMALIZER,va as VARIANT_CONFIGURATOR_SERIALIZER,xa as VARIANT_CONFIGURATOR_UPDATE_CART_ENTRY_SERIALIZER,Pg as VariantConfiguratorOccAdapter,Ug as VariantConfiguratorOccModule};
