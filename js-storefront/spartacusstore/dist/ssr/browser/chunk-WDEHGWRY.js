import{M as a,ha as g,ia as C}from"./chunk-H2QHHFZD.js";import{Af as b,B as v,Cd as y,Df as T,Gd as R,Kd as l,Ld as S,Ne as i,Oe as f,Og as O,Za as E,a as k,fg as G,gg as I,ma as o,na as p,pa as c,wf as m,xf as M,zf as r}from"./chunk-PRP3ZKGZ.js";var ce=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=o({token:e,factory:function(t){let u=null;return t?u=new(t||e):u=c(R),u},providedIn:"root"})}}return e})(),_=5e3,x=255,Q=10,oe=1,re="MMMM d, YYYY h:mm aa",j=5,D={customerTicketing:{attachmentRestrictions:{maxSize:Q,allowedTypes:[".pdf",".txt",".png",".jpg",".jpeg",".gif",".doc",".docx",".html",".htm",".zip"]},inputCharactersLimit:_,inputCharactersLimitForSubject:x,listViewPageSize:j}},L={routing:{routes:{supportTickets:{paths:["my-account/support-tickets"]},supportTicketDetails:{paths:["my-account/support-ticket/:ticketCode"],paramsMapping:{ticketCode:"ticketCode"}}}}},h="customerTicketing",F="customerTicketingCore",A=(()=>{class e extends i{static{this.type="GetTicketQueryResetEvent"}}return e})(),d=(()=>{class e extends i{static{this.type="GetTicketQueryReloadEvent"}}return e})(),P=(()=>{class e extends i{static{this.type="GetTicketsQueryResetEvents"}}return e})(),N=(()=>{class e extends i{static{this.type="GetTicketsQueryReloadEvents"}}return e})(),w=(()=>{class e extends i{static{this.type="NewMessageEvent"}}return e})(),U=(()=>{class e extends i{static{this.type="TicketReopenedEvent"}}return e})(),K=(()=>{class e extends i{static{this.type="TicketClosedEvent"}}return e})(),Y=(()=>{class e extends i{static{this.type="GetTicketCategoryQueryResetEvent"}}return e})(),ae=(()=>{class e extends i{static{this.type="GetTicketCategoryQueryReloadEvent"}}return e})(),H=(()=>{class e extends i{static{this.type="GetTicketAssociatedObjectsQueryResetEvent"}}return e})(),de=(()=>{class e extends i{static{this.type="GetTicketAssociatedObjectsQueryReloadEvent"}}return e})(),q=(()=>{class e extends i{static{this.type="TicketCreatedEvent"}}return e})();var z=(()=>{class e extends i{static{this.type="UploadAttachmentSuccessEvent"}}return e})(),V=(()=>{class e{constructor(n,t){this.eventService=n,this.globalMessageService=t,this.subscriptions=new k,this.onLanguageAndCurrencySetEvent(),this.onLoginAndLogoutEvent(),this.onTicketCreatedEvent(),this.onNewMessage(),this.onTicketClosed(),this.onTicketReopened(),this.onUploadAttachmentSucess()}onTicketCreatedEvent(){this.subscriptions.add(this.eventService.get(q).subscribe(()=>{this.globalMessageService.add({key:"createCustomerTicket.ticketCreated"},r.MSG_TYPE_CONFIRMATION),this.eventService.dispatch({},N)}))}onLanguageAndCurrencySetEvent(){this.subscriptions.add(v(this.eventService.get(G),this.eventService.get(I)).subscribe(()=>{this.eventService.dispatch({},N),this.eventService.dispatch({},d)}))}onLoginAndLogoutEvent(){this.subscriptions.add(v(this.eventService.get(m),this.eventService.get(M)).subscribe(()=>{this.eventService.dispatch({},A),this.eventService.dispatch({},P),this.eventService.dispatch({},Y),this.eventService.dispatch({},H)}))}onNewMessage(){this.subscriptions.add(this.eventService.get(w).subscribe(()=>{this.eventService.dispatch({},d)}))}onTicketClosed(){this.subscriptions.add(this.eventService.get(K).subscribe(()=>{this.eventService.dispatch({},A),this.globalMessageService.add({key:"customerTicketingDetails.requestClosed"},r.MSG_TYPE_CONFIRMATION)}))}onTicketReopened(){this.subscriptions.add(this.eventService.get(U).subscribe(()=>{this.eventService.dispatch({},d),this.globalMessageService.add({key:"customerTicketingDetails.requestReopened"},r.MSG_TYPE_CONFIRMATION)}))}onUploadAttachmentSucess(){this.subscriptions.add(this.eventService.get(z).subscribe(()=>{this.eventService.dispatch({},d)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(t){return new(t||e)(c(f),c(b))}}static{this.\u0275prov=o({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),X=(()=>{class e{constructor(n){}static{this.\u0275fac=function(t){return new(t||e)(c(V))}}static{this.\u0275mod=E({type:e})}static{this.\u0275inj=p({})}}return e})();function Z(){return{featureModules:{[h]:{cmsComponents:["SupportTicketHistoryComponent","SupportTicketUpdateComponent","SupportTicketDetailsComponent","SupportTicketReopenComponent","SupportTicketCloseComponent","MyAccountViewRequestsComponent"]},[F]:h}}}var ue=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275mod=E({type:e})}static{this.\u0275inj=p({providers:[S(Z),l(L),l(D)],imports:[X,y.forChild([{path:null,canActivate:[T,C],component:g,data:{cxRoute:"supportTicketDetails"}},{path:null,canActivate:[T,C],component:g,data:{cxRoute:"supportTickets"}}])]})}}return e})(),ve=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=o({token:e,factory:()=>O({facade:e,feature:h,methods:["getTicketState","getTicket","getTicketsState","getTickets","createTicketEvent","getTicketCategoriesState","getTicketCategories","getTicketAssociatedObjectsState","getTicketAssociatedObjects","createTicket","uploadAttachment","downloadAttachment"]}),providedIn:"root"})}}return e})();a.CUSTOMER_TICKETING_REOPEN="CUSTOMER_TICKETING_REOPEN";a.CUSTOMER_TICKETING_CLOSE="CUSTOMER_TICKETING_CLOSE";a.CUSTOMER_TICKETING_CREATE="CUSTOMER_TICKETING_CREATE";var B=function(e){return e.GREY="cx-text-grey",e.GREEN="cx-text-green",e}(B||{}),J=function(e){return e.OPEN="OPEN",e.CLOSED="CLOSED",e.INPROCESS="INPROCESS",e}(J||{}),W=function(e){return e.OPEN="Open",e.CLOSED="Closed",e.INPROCESS="INPROCESS",e}(W||{});export{ce as a,_ as b,x as c,Q as d,oe as e,re as f,h as g,A as h,d as i,P as j,N as k,w as l,U as m,K as n,Y as o,ae as p,H as q,de as r,q as s,z as t,ue as u,ve as v,B as w,J as x,W as y};
