import{f as Ye,g as Pe,h as J,i as Xt,j as Zt,k as Jt,l as ei,m as Xe,n as ti,o as ii,p as ni,q as oi,r as Me}from"./chunk-KPYSLQGO.js";import{a as zt,b as Wt,c as Gt}from"./chunk-3ERLXEDD.js";import{f as Qt,o as ae,p as D,q as de,r as q,s as Yt}from"./chunk-MPV6X5I6.js";import"./chunk-MBZSSUSM.js";import{c as Ht}from"./chunk-MOKI6WPS.js";import{H as Qe,L as Kt}from"./chunk-EU5ZHKTW.js";import{Aa as Lt,Ca as jt,Da as We,Ea as we,J as Ft,K as Rt,L as Ot,M as kt,N as He,Ob as Ut,P as Bt,Sa as Ge,X as se,Y as fe,Z as Se,_ as Ee,ba as Ke,ea as Vt,ka as Nt,kb as qt,lb as De,xa as ze}from"./chunk-H2QHHFZD.js";import{$b as m,Ab as v,Ag as ue,Bb as l,Bc as ye,Be as je,Ca as Y,Cb as Ct,Cc as j,D as Ce,Db as ft,De as qe,Dg as V,Eb as oe,Eg as N,Gd as At,Ge as wt,Hb as Fe,I as K,Ib as Re,Ic as R,J as ie,Jb as Oe,Kb as F,Kd as pe,La as gt,Lb as d,Le as Dt,M as le,Mb as B,Nb as C,Ob as xt,Oc as Le,Pa as o,Q as mt,Sb as ke,Te as Pt,Ub as P,Uc as yt,Ue as Mt,Vb as ht,Wa as h,Wb as Be,Xf as Ae,Xg as Ie,Ya as k,Za as I,_d as bt,a as te,ac as u,bb as g,bc as A,c as ct,d as Q,dc as Ve,e as ne,ec as U,eh as $t,gc as vt,hb as M,he as It,ib as p,kb as Z,ma as X,n as O,na as b,ng as be,o as lt,oa as pt,oe as St,pa as z,q as S,qa as ut,r as ge,sb as a,tb as s,ua as dt,ub as $,uc as Ne,va as f,vb as E,vc as Tt,w as Te,wa as x,wb as w,wc as re,we as Et,xa as _t,xb as me,xc as W,yb as T,zf as Ue}from"./chunk-PRP3ZKGZ.js";import{a as ee,b as ce}from"./chunk-25N2FLV6.js";var ai=new pt("AsmCustomer360Normalizer"),xe=class{},ci=(()=>{class t{constructor(e){this.asmCustomer360Adapter=e}getAsmCustomer360Data(e){return this.asmCustomer360Adapter.getAsmCustomer360Data(e)}static{this.\u0275fac=function(i){return new(i||t)(z(xe))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ri=(()=>{class t{constructor(e,i,n){this.commandService=e,this.asmCustomer360Connector=i,this.userAccountFacade=n,this.asmCustomer360Command$=this.commandService.create(r=>this.userAccountFacade.get().pipe(le(1),ie(_=>{let y=r.reduce((G,_e)=>_e.requestData?G.concat(_e.requestData):G,[]);if(y.length>0){let G={queries:y,options:{userId:_?.customerId??""}};return this.asmCustomer360Connector.getAsmCustomer360Data(G)}else return O({value:[]})})))}get360Data(e){return this.asmCustomer360Command$.execute(e)}static{this.\u0275fac=function(i){return new(i||t)(z(Dt),z(ci),z(Ht))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),fi=[ri,{provide:ae,useExisting:ri}],li=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({providers:[ci,...fi],imports:[Gt]})}}return t})();function mi(t,c,e){return{actionType:c,selectedUser:t,route:e}}function xi(t,c){t&1&&me(0)}var hi=["tabHeaderItem"],ui=t=>({name:t}),vi=t=>({date:t}),Ti=t=>({cartSize:t}),ve=t=>({code:t}),$e=t=>({price:t});function yi(t,c){}function Ai(t,c){t&1&&g(0,yi,0,0,"ng-template")}function bi(t,c){if(t&1){let e=T();a(0,"cx-message",18),m(1,"cxTranslate"),v("closeMessage",function(){f(e);let n=l();return x(n.closeErrorAlert())}),s()}if(t&2){let e=l();p("text",u(1,2,"asmCustomer360.alertErrorMessage"))("type",e.globalMessageType.MSG_TYPE_ERROR)}}function Ii(t,c){if(t&1&&(E(0),a(1,"div",31),$(2,"cx-media",32),s(),w()),t&2){let e=c.ngIf;o(2),p("container",e)}}function Si(t,c){if(t&1&&(a(0,"div",33),d(1),m(2,"cxArgs"),s()),t&2){let e=l(2);o(),C(" ",A(2,1,e.getAvatarText,e.customer)," ")}}function Ei(t,c){if(t&1&&(a(0,"div",34),d(1),s()),t&2){let e=l().ngIf;o(),C(" ",e.address.town," ")}}function wi(t,c){if(t&1&&(a(0,"div",35),d(1),m(2,"cxDate"),m(3,"cxTranslate"),s()),t&2){let e=l().ngIf,i=l();o(),C(" ",A(3,4,"asmCustomer360.header.signedUpAt",P(7,vi,A(2,1,e.signedUpAt,i.asmCustomer360Config==null||i.asmCustomer360Config.asmCustomer360==null?null:i.asmCustomer360Config.asmCustomer360.dateFormat)))," ")}}function Di(t,c){if(t&1){let e=T();a(0,"span",36),$(1,"cx-icon",37),d(2),m(3,"cxTranslate"),a(4,"button",38),m(5,"cxTranslate"),v("click",function(){f(e);let n=l(2);return x(n.navigateTo({cxRoute:"cart"}))}),d(6),s()()}if(t&2){let e=l().ngIf,i=l();o(),p("type",i.cartIcon),o(),C(" ",A(3,4,"asmCustomer360.header.activeCartLabel",P(10,Ti,e==null?null:e.cartSize))," "),o(2),M("aria-label",A(5,7,"asmCustomer360.aria.activeCartCode",P(12,ve,e.cartCode))),o(2),C(" ",e.cartCode," ")}}function Pi(t,c){if(t&1){let e=T();a(0,"span",39),$(1,"cx-icon",37),d(2),m(3,"cxTranslate"),a(4,"button",38),m(5,"cxTranslate"),v("click",function(){f(e);let n=l().ngIf,r=l();return x(r.navigateTo({cxRoute:"orderDetails",params:{code:n.latestOrderCode}}))}),d(6),s(),d(7),m(8,"cxDate"),s()}if(t&2){let e=l().ngIf,i=l();o(),p("type",i.orderIcon),o(),C(" ",A(3,5,"asmCustomer360.header.recentOrderLabel",P(14,$e,e==null?null:e.latestOrderTotal))," "),o(2),M("aria-label",A(5,8,"asmCustomer360.aria.recentOrderCode",P(16,ve,e.latestOrderCode))),o(2),C(" ",e.latestOrderCode,""),o(),C(", ",A(8,11,e==null?null:e.latestOrderTime,i.asmCustomer360Config==null||i.asmCustomer360Config.asmCustomer360==null?null:i.asmCustomer360Config.asmCustomer360.dateFormat)," ")}}function Mi(t,c){if(t&1){let e=T();a(0,"span",40),$(1,"cx-icon",37),d(2),m(3,"cxTranslate"),a(4,"button",38),m(5,"cxTranslate"),v("click",function(){f(e);let n=l().ngIf,r=l();return x(r.navigateTo({cxRoute:"supportTicketDetails",params:{ticketCode:n.latestOpenedTicketId}}))}),d(6),s(),d(7),m(8,"cxDate"),s()}if(t&2){let e=l().ngIf,i=l();o(),p("type",i.ticketIcon),o(),C(" ",u(3,5,"asmCustomer360.header.recentTicketLabel")," "),o(2),M("aria-label",A(5,7,"asmCustomer360.aria.recentOrderCode",P(13,ve,e.latestOpenedTicketId))),o(2),C(" ",e.latestOpenedTicketId,""),o(),C(", ",A(8,10,e==null?null:e.latestOpenedTicketCreatedAt,i.asmCustomer360Config==null||i.asmCustomer360Config.asmCustomer360==null?null:i.asmCustomer360Config.asmCustomer360.dateFormat)," ")}}function $i(t,c){if(t&1&&(a(0,"div",19)(1,"div",20)(2,"div",21),g(3,Ii,3,1,"ng-container",17),m(4,"cxArgs"),g(5,Si,3,4,"ng-template",null,2,U),a(7,"div",22)(8,"div",23),d(9),m(10,"cxTranslate"),s(),a(11,"div",24),d(12),s(),g(13,Ei,2,1,"div",25),s()(),g(14,wi,4,9,"div",26),s(),a(15,"div",27),g(16,Di,7,14,"span",28)(17,Pi,9,18,"span",29)(18,Mi,9,15,"span",30),s()()),t&2){let e=c.ngIf,i=F(6),n=l();o(3),p("ngIf",A(4,9,n.getAvatarImage,e))("ngIfElse",i),o(6),C(" ",A(10,12,"asmCustomer360.header.newSubTitle",P(15,ui,e==null?null:e.name))," "),o(3),C(" ",e==null?null:e.email," "),o(),p("ngIf",e==null||e.address==null?null:e.address.town),o(),p("ngIf",e==null?null:e.signedUpAt),o(2),p("ngIf",e==null?null:e.cartCode),o(),p("ngIf",e==null?null:e.latestOrderCode),o(),p("ngIf",e==null?null:e.latestOpenedTicketId)}}function Fi(t,c){if(t&1){let e=T();a(0,"button",41,3),v("click",function(){let n=f(e).index,r=l();return x(r.selectTab(n))})("keydown",function(n){let r=f(e).index,_=l();return x(_.switchTab(n,r))}),d(2),m(3,"cxTranslate"),s()}if(t&2){let e=c.$implicit,i=c.index,n=l();Z("active",n.activeTab===i),M("aria-selected",n.activeTab===i),o(2),C(" ",u(3,4,e.i18nNameKey)," ")}}function Ri(t,c){t&1&&(E(0),a(1,"div",42),$(2,"div",43),a(3,"div",44),d(4),m(5,"cxTranslate"),s(),a(6,"div",45),d(7),m(8,"cxTranslate"),s()(),w()),t&2&&(o(4),C(" ",u(5,2,"asmCustomer360.errorMessageHeader")," "),o(3),C(" ",u(8,4,"asmCustomer360.alertErrorMessage")," "))}function Oi(t,c){if(t&1){let e=T();a(0,"cx-asm-customer-360-section",48),v("navigate",function(n){f(e);let r=l(3);return x(r.navigateTo(n))}),s()}if(t&2){let e=c.$implicit,i=c.index,n=l().ngIf;p("component",e.component)("config",e.config)("data",n==null?null:n[i])}}function ki(t,c){if(t&1&&(E(0),g(1,Oi,1,3,"cx-asm-customer-360-section",47),w()),t&2){let e=l(2);o(),p("ngForOf",e.currentTab==null?null:e.currentTab.components)}}function Bi(t,c){if(t&1&&(g(0,ki,2,1,"ng-container",46),m(1,"async")),t&2){let e=l();p("ngIf",u(1,1,e.asmCustomer360Tabs$))}}function Vi(t,c){if(t&1){let e=T();a(0,"button",49),m(1,"cxTranslate"),m(2,"cxTranslate"),v("click",function(){f(e);let n=l();return x(n.closeModal("Cross click"))}),$(3,"cx-icon",50),s()}if(t&2){let e=l();M("aria-label",u(1,3,"common.close"))("title",u(2,5,"common.close")),o(3),p("type",e.closeIcon)}}var et=t=>({count:t});function Ni(t,c){if(t&1&&(a(0,"div",10),d(1),m(2,"cxTranslate"),s()),t&2){let e=l(2);o(),C(" ",A(2,1,"asmCustomer360.productItem.quantity",P(4,et,e.quantity))," ")}}function Li(t,c){if(t&1&&(E(0),a(1,"div",7),d(2),s(),g(3,Ni,3,6,"div",8),a(4,"div",9),d(5),m(6,"cxTranslate"),s(),w()),t&2){let e,i=l();o(2),C(" ",i.product==null?null:i.product.code," "),o(),p("ngIf",i.quantity),o(2),C(" ",A(6,3,"asmCustomer360.productItem.itemPrice",P(6,$e,(e=i.product==null?null:i.product.basePrice)!==null&&e!==void 0?e:i.product==null||i.product.price==null?null:i.product.price.formattedValue))," ")}}function ji(t,c){t&1&&(a(0,"div",12),d(1),m(2,"cxTranslate"),s()),t&2&&(o(),C(" ",u(2,1,"asmCustomer360.productItem.outOfStock")," "))}function qi(t,c){if(t&1&&g(0,ji,3,3,"div",11),t&2){let e=l();p("ngIf",(e.product.stock==null?null:e.product.stock.stockLevelStatus)==="outOfStock")}}function Ui(t,c){t&1&&me(0)}function Hi(t,c){if(t&1&&(E(0),g(1,Ui,1,0,"ng-container",7),w()),t&2){let e=l(2);o(),p("ngTemplateOutlet",e.headerTemplate)}}function Ki(t,c){if(t&1){let e=T();a(0,"cx-asm-customer-360-product-item",11),v("selectProduct",function(n){f(e);let r=l(4);return x(r.selectProduct.emit(n))}),s()}if(t&2){let e=l().$implicit;p("product",e)("quantity",e==null?null:e.quantity)}}function zi(t,c){if(t&1&&(E(0),g(1,Ki,1,2,"cx-asm-customer-360-product-item",10),w()),t&2){let e=c.index,i=l().ngIf,n=l(2);o(),p("ngIf",n.showMore||e<i)}}function Wi(t,c){t&1&&(a(0,"span"),d(1),m(2,"cxTranslate"),s()),t&2&&(o(),B(u(2,1,"asmCustomer360.productListing.showMore")))}function Gi(t,c){t&1&&(a(0,"span"),d(1),m(2,"cxTranslate"),s()),t&2&&(o(),B(u(2,1,"asmCustomer360.productListing.showLess")))}function Qi(t,c){if(t&1&&g(0,Gi,3,3,"span",6),t&2){let e=l(4);p("ngIf",e.showMore)}}function Yi(t,c){if(t&1){let e=T();E(0),a(1,"button",12),v("click",function(){f(e);let n=l(3);return x(n.toggleShowMore())}),g(2,Wi,3,3,"span",13)(3,Qi,1,1,"ng-template",null,1,U),s(),w()}if(t&2){let e=F(4),i=l(3);o(2),p("ngIf",!i.showMore)("ngIfElse",e)}}function Xi(t,c){if(t&1&&(E(0),a(1,"div",8),g(2,zi,2,1,"ng-container",9),s(),g(3,Yi,5,2,"ng-container",6),w()),t&2){let e=c.ngIf,i=l(2);o(),Z("show-more",i.showMore),p("ngClass","column-"+e),o(),p("ngForOf",i.products),o(),p("ngIf",i.products.length>e)}}function Zi(t,c){if(t&1){let e=T();a(0,"div",3)(1,"div",4)(2,"button",5),v("click",function(){f(e);let n=l();return x(n.clickHeader.emit())}),d(3),s(),g(4,Hi,2,1,"ng-container",6),s(),g(5,Xi,4,5,"ng-container",6),m(6,"async"),s()}if(t&2){let e=l();o(),M("aria-label",e.headerText),o(),Z("inactive",e.headerInactive),p("disabled",e.headerInactive),M("aria-label",e.headerText),o(),C(" ",e.headerText," "),o(),p("ngIf",e.headerTemplate),o(),p("ngIf",u(6,8,e.numberofColumns$))}}function Ji(t,c){if(t&1&&(a(0,"div",14),d(1),s()),t&2){let e=l();o(),C(" ",e.emptyResultDescription," ")}}function en(t,c){if(t&1){let e=T();a(0,"cx-asm-customer-360-product-listing",2),m(1,"cxTranslate"),m(2,"cxTranslate"),v("selectProduct",function(n){f(e);let r=l();return x(r.sectionContext.navigate$.next({cxRoute:"product",params:n}))}),s()}if(t&2){let e=c.ngIf;l();let i=F(3);p("emptyResultDescription",u(1,5,"asmCustomer360.activeCart.emptyDescription"))("headerInactive",!0)("headerTemplate",i)("headerText",u(2,7,"asmCustomer360.activeCart.header"))("products",e)}}function tn(t,c){if(t&1){let e=T();E(0),a(1,"button",4),m(2,"cxTranslate"),v("click",function(){f(e);let n=l(2);return x(n.sectionContext.navigate$.next({cxRoute:"cart"}))}),d(3),s(),a(4,"div",5),d(5),m(6,"cxTranslate"),s(),$(7,"div",6),a(8,"div",7),d(9),m(10,"cxTranslate"),s(),w()}if(t&2){let e=c.ngIf;o(),M("aria-label",A(2,4,"asmCustomer360.activeCart.aria.linkLabel",P(13,ve,e.code))),o(2),C(" ",e.code," "),o(2),C(" ",A(6,7,"asmCustomer360.productListing.totalNoItems",P(15,et,e.totalItemCount))," "),o(4),C(" ",A(10,10,"asmCustomer360.productListing.totalPrice",P(17,$e,e.totalPrice))," ")}}function nn(t,c){if(t&1&&(g(0,tn,11,19,"ng-container",3),m(1,"async")),t&2){let e=l();p("ngIf",u(1,1,e.activeCart$))}}var on=["table"],rn=t=>({number:t}),di=(t,c,e)=>({"text-start":t,"text-center":c,"text-end":e});function sn(t,c){if(t&1){let e=T();a(0,"button",15),m(1,"cxTranslate"),v("click",function(){f(e);let n=l().index,r=l(3);return x(r.setPageNumber(n,!0))}),d(2),s()}if(t&2){let e=l().index,i=l(3);Z("active",i.currentPageNumber===e),p("disabled",i.currentPageNumber===e),M("aria-current",i.currentPageNumber===e?"page":null)("aria-label",A(1,6,"asmCustomer360.page",P(9,rn,e+1))),o(2),C(" ",e+1," ")}}function an(t,c){if(t&1&&(E(0),g(1,sn,3,11,"button",14),w()),t&2){let e=l(3);o(),p("ngIf",e.entryPages.length>1)}}function cn(t,c){if(t&1&&(a(0,"div",12),m(1,"cxTranslate"),g(2,an,2,1,"ng-container",13),s()),t&2){let e=l(2);M("aria-label",u(1,2,"asmCustomer360.pagination")),o(2),p("ngForOf",e.entryPages)}}function ln(t,c){if(t&1&&(a(0,"div",9)(1,"h4",10),d(2),s(),g(3,cn,3,4,"div",11),s()),t&2){let e=l();o(2),C(" ",e.headerText," "),o(),p("ngIf",e.entryPages)}}function mn(t,c){if(t&1&&(a(0,"span"),d(1),m(2,"cxTranslate"),s()),t&2){let e=l().$implicit;o(),B(u(2,1,e.i18nTextKey))}}function pn(t,c){if(t&1&&(a(0,"span"),d(1),s()),t&2){let e=l().$implicit;o(),B(e.text)}}function un(t,c){if(t&1){let e=T();a(0,"th",21),m(1,"cxArgs"),v("click",function(){let n=f(e).index,r=l(2);return x(r.setSelectedTabIndex(n,0))}),a(2,"button",22),m(3,"cxArgs"),v("click",function(){let n=f(e).$implicit,r=l(2);return x(r.sortEntriesAndUpdatePages(n.property))})("keydown",function(n){let r=f(e).index,_=l(2);return x(_.onKeyDownCell(n,r,0))}),g(4,mn,3,3,"span",7)(5,pn,2,1,"span",7),s()()}if(t&2){let e=c.$implicit,i=c.index,n=l(2);Z("active",n.sortProperty===e.property)("asc",n.listSortOrder===n.SortOrder.ASC)("desc",n.listSortOrder!==n.SortOrder.ASC),p("ngClass",Be(21,di,e.headerTextAlign===n.CustomerTableTextAlign.START,e.headerTextAlign===n.CustomerTableTextAlign.CENTER,e.headerTextAlign===n.CustomerTableTextAlign.END)),M("aria-sort",Ve(1,11,n.sortDirection,e.property,n.sortProperty,n.listSortOrder)),o(2),p("tabindex",Ve(3,16,n.tabIndexValue,n.focusedTableColumnIndex,n.focusedTableRowIndex,i)),o(2),p("ngIf",e==null?null:e.i18nTextKey),o(),p("ngIf",!(e!=null&&e.i18nTextKey))}}function dn(t,c){t&1&&me(0)}function _n(t,c){if(t&1){let e=T();a(0,"button",27),m(1,"cxTranslate"),v("click",function(){f(e);let n=l(2).$implicit,r=l(2);return x(r.selectItem.emit(n))}),d(2),m(3,"cxTranslate"),s()}if(t&2){let e=l().$implicit,i=l().$implicit;p("title",i[e.property]||u(1,3,"asmCustomer360.emptyCellValue")),M("aria-label",i[e.property]),o(2),C(" ",i[e.property]||u(3,5,"asmCustomer360.emptyCellValue")," ")}}function gn(t,c){if(t&1&&$(0,"cx-star-rating",29),t&2){let e=l(2).$implicit,i=l().$implicit;p("rating",i[e.property])}}function Cn(t,c){if(t&1&&g(0,gn,1,1,"cx-star-rating",28),t&2){let e=l().$implicit,i=F(7);p("ngIf",e.renderAsStarRating)("ngIfElse",i)}}function fn(t,c){if(t&1&&(E(0),a(1,"span"),d(2),m(3,"cxDate"),s(),w()),t&2){let e=l(2).$implicit,i=l().$implicit,n=l(2);o(2),B(A(3,1,i[e.property],n.asmCustomer360Config==null||n.asmCustomer360Config.asmCustomer360==null?null:n.asmCustomer360Config.asmCustomer360.dateTimeFormat))}}function xn(t,c){if(t&1&&g(0,fn,4,4,"ng-container",30),t&2){let e=l().$implicit,i=F(9),n=l().$implicit;p("ngIf",(e==null?null:e.isDate)&&n[e.property])("ngIfElse",i)}}function hn(t,c){if(t&1&&(E(0),a(1,"span",31),m(2,"cxTranslate"),d(3),m(4,"cxTranslate"),s(),w()),t&2){let e=l().$implicit,i=l().$implicit;o(),p("title",i[e.property]||u(2,2,"asmCustomer360.emptyCellValue")),o(2),B(i[e.property]||u(4,4,"asmCustomer360.emptyCellValue"))}}function vn(t,c){if(t&1){let e=T();a(0,"td",25),v("keydown",function(n){let r=f(e).index,_=l().index,y=l(2);return x(y.onKeyDownCell(n,r,_+1))})("click",function(){let n=f(e).index,r=l().index,_=l(2);return x(_.setSelectedTabIndex(n,r+1))}),g(1,dn,1,0,"ng-container",26)(2,_n,4,7,"ng-template",null,1,U)(4,Cn,1,2,"ng-template",null,2,U)(6,xn,1,2,"ng-template",null,3,U)(8,hn,5,6,"ng-template",null,4,U),s()}if(t&2){let e=c.$implicit,i=F(3),n=F(5),r=l(3);p("ngClass",Be(4,di,e.textAlign===r.CustomerTableTextAlign.START,e.textAlign===r.CustomerTableTextAlign.CENTER,e.textAlign===r.CustomerTableTextAlign.END)),o(),p("ngIf",e.navigatable)("ngIfThen",i)("ngIfElse",n)}}function Tn(t,c){if(t&1&&(a(0,"tr",23),g(1,vn,10,8,"td",24),s()),t&2){let e=l(2);o(),p("ngForOf",e.columns)}}function yn(t,c){if(t&1&&(E(0),a(1,"table",16,0)(3,"caption",17),d(4),s(),a(5,"thead")(6,"tr",18),g(7,un,6,25,"th",19),s()(),a(8,"tbody"),g(9,Tn,2,1,"tr",20),m(10,"async"),s()(),w()),t&2){let e=l();o(),M("aria-rowcount",e.entries.length)("aria-colcount",e.columns.length)("data-per-page",e.pageSize),o(3),C(" ",e.headerText," "),o(3),p("ngForOf",e.columns),o(2),p("ngForOf",u(10,6,e.currentPage$))}}function An(t,c){if(t&1&&(a(0,"div",32),d(1),s()),t&2){let e=l();o(),C(" ",e.emptyStateText,`
`)}}var bn=(t,c)=>({initial:1,end:t,total:c});function In(t,c){if(t&1){let e=T();a(0,"button",3),v("click",function(){let n=f(e).$implicit,r=l(2);return x(r.selectStore(n))}),a(1,"div",4)(2,"div",5),d(3),s(),a(4,"div",5),d(5),s(),a(6,"div",5),d(7),s()(),a(8,"div",6),d(9),s()()}if(t&2){let e=c.$implicit,i=l(2);Z("selected",i.selectedStore===e),M("aria-label",e.displayName),o(3),B(e.displayName),o(2),xt(" ",e.address==null?null:e.address.line1,", ",e.address==null?null:e.address.line2," "),o(2),B(e.address==null?null:e.address.town),o(2),C(" ",e.formattedDistance," ")}}function Sn(t,c){if(t&1&&$(0,"img",12),t&2){let e=l(3);oe("alt",e.selectedStore.displayName),oe("title",e.selectedStore.displayName),p("src",e.selectedStore.storeImages==null||e.selectedStore.storeImages[0]==null?null:e.selectedStore.storeImages[0].url,gt)}}function En(t,c){if(t&1&&(a(0,"div",19)(1,"span",20),d(2),s(),d(3),m(4,"async"),s()),t&2){let e=c.$implicit,i=l(5);o(2),B(e.weekDay),o(),C("",u(4,2,i.getStoreOpening(e))," ")}}function wn(t,c){if(t&1&&(a(0,"div",17),g(1,En,5,4,"div",18),s()),t&2){let e=c.ngIf;o(),p("ngForOf",e)}}function Dn(t,c){if(t&1&&(a(0,"div",19)(1,"span",20),d(2),s(),d(3),m(4,"async"),s()),t&2){let e=c.$implicit,i=l(5);o(2),B(e.name),o(),C("",u(4,2,i.getStoreOpening(e))," ")}}function Pn(t,c){if(t&1&&(a(0,"div",17),g(1,Dn,5,4,"div",18),s()),t&2){let e=c.ngIf;o(),p("ngForOf",e)}}function Mn(t,c){if(t&1&&(a(0,"div"),d(1),s()),t&2){let e=c.$implicit;o(),C(" ",e.value," ")}}function $n(t,c){if(t&1&&(a(0,"div",13),g(1,wn,2,1,"div",14)(2,Pn,2,1,"div",14),a(3,"div",15),g(4,Mn,2,1,"div",16),s()()),t&2){let e=c.ngIf,i=l(3);o(),p("ngIf",e.weekDayOpeningList),o(),p("ngIf",e.specialDayOpeningList),o(2),p("ngForOf",i.selectedStore.features==null?null:i.selectedStore.features.entry)}}function Fn(t,c){if(t&1&&(a(0,"div")(1,"div",7),g(2,Sn,1,3,"img",8),a(3,"div",9)(4,"div",10),d(5),s(),a(6,"div"),d(7),s(),a(8,"div"),d(9),s(),a(10,"div"),d(11),s()()(),g(12,$n,5,3,"div",11),s()),t&2){let e=l(2);o(2),p("ngIf",e.selectedStore.storeImages==null?null:e.selectedStore.storeImages[0]),o(3),B(e.selectedStore.displayName),o(2),B(e.selectedStore.address==null?null:e.selectedStore.address.line1),o(2),B(e.selectedStore.address==null?null:e.selectedStore.address.line2),o(2),B(e.selectedStore.address==null?null:e.selectedStore.address.town),o(),p("ngIf",e.selectedStore==null?null:e.selectedStore.openingHours)}}function Rn(t,c){if(t&1&&(E(0),a(1,"div",1),d(2),m(3,"cxTranslate"),s(),a(4,"div"),g(5,In,10,8,"button",2),s(),g(6,Fn,13,6,"div",0),w()),t&2){let e=l();o(2),C(" ",A(3,3,"asmCustomer360.maps.storesFound",ht(6,bn,e.storeData.pagination==null?null:e.storeData.pagination.pageSize,e.storeData.pagination==null?null:e.storeData.pagination.totalResults))," "),o(3),p("ngForOf",e.storeData.stores),o(),p("ngIf",e.selectedStore)}}function On(t,c){if(t&1){let e=T();a(0,"cx-asm-customer-360-product-listing",1),m(1,"cxTranslate"),m(2,"cxTranslate"),v("clickHeader",function(){f(e);let n=l();return x(n.sectionContext.navigate$.next({cxRoute:"myInterests"}))})("selectProduct",function(n){f(e);let r=l();return x(r.sectionContext.navigate$.next({cxRoute:"product",params:n}))}),s()}if(t&2){let e=c.ngIf;p("emptyResultDescription",u(1,3,"asmCustomer360.productInterests.emptyDescription"))("headerText",u(2,5,"asmCustomer360.productInterests.header"))("products",e)}}var pi=t=>({address:t});function kn(t,c){t&1&&me(0)}function Bn(t,c){t&1&&me(0)}function Vn(t,c){if(t&1&&(a(0,"div",16),$(1,"cx-card",17),m(2,"async"),s()),t&2){let e=c.$implicit,i=c.index,n=l(2);o(),p("index",i)("border",!0)("fitToContainer",!0)("content",u(2,4,n.getCardContent(e)))}}function Nn(t,c){if(t&1&&(E(0),a(1,"div")(2,"div",3)(3,"div",4)(4,"h4",5),d(5),m(6,"cxTranslate"),s()()(),a(7,"div",3)(8,"div",4)(9,"h5",6),d(10),m(11,"cxTranslate"),s(),a(12,"div",7),g(13,kn,1,0,"ng-container",8),s()(),a(14,"div",4)(15,"h5",6),d(16),m(17,"cxTranslate"),s(),a(18,"div",9),g(19,Bn,1,0,"ng-container",8),s()(),$(20,"div",10),a(21,"div",4)(22,"h5",6),d(23),m(24,"cxTranslate"),s(),a(25,"div",11),d(26),s()(),a(27,"div",4)(28,"h5",6),d(29),m(30,"cxTranslate"),s(),a(31,"div",12),d(32),s()()()(),a(33,"h4",13),d(34),m(35,"cxTranslate"),s(),a(36,"div",14),g(37,Vn,3,6,"div",15),s(),w()),t&2){let e=c.ngIf;l();let i=F(4);o(5),C(" ",u(6,13,"asmCustomer360.profile.address")," "),o(5),C(" ",u(11,15,"asmCustomer360.profile.billingAddress")," "),o(3),p("ngTemplateOutlet",i)("ngTemplateOutletContext",P(25,pi,e==null?null:e.billingAddress)),o(3),C(" ",u(17,17,"asmCustomer360.profile.deliveryAddress")," "),o(3),p("ngTemplateOutlet",i)("ngTemplateOutletContext",P(27,pi,e==null?null:e.deliveryAddress)),o(4),C(" ",u(24,19,"asmCustomer360.profile.phone1")," "),o(3),C(" ",e==null?null:e.phone1," "),o(3),C(" ",u(30,21,"asmCustomer360.profile.phone2")," "),o(3),C(" ",e==null?null:e.phone2," "),o(2),C(" ",u(35,23,"asmCustomer360.profile.paymentMethodHeader")," "),o(3),p("ngForOf",e.paymentDetails)}}function Ln(t,c){if(t&1&&(a(0,"span",24),d(1),s()),t&2){let e=l().address;o(),C("",e.town,", ")}}function jn(t,c){if(t&1&&(a(0,"span",25),d(1),s()),t&2){let e=l().address;o(),C("",e.region.name,", ")}}function qn(t,c){if(t&1&&(a(0,"div",18)(1,"div",19),d(2),s(),a(3,"div",20),d(4),s(),a(5,"div"),g(6,Ln,2,1,"span",21)(7,jn,2,1,"span",22),a(8,"span",23),d(9),s()()()),t&2){let e=c.address;o(2),C(" ",e==null?null:e.line1," "),o(2),C(" ",e==null?null:e.line2," "),o(2),p("ngIf",e==null?null:e.town),o(),p("ngIf",e==null||e.region==null?null:e.region.name),o(2),B(e==null||e.country==null?null:e.country.name)}}function Un(t,c){if(t&1){let e=T();a(0,"cx-asm-customer-360-product-listing",2),m(1,"cxTranslate"),m(2,"cxTranslate"),v("selectProduct",function(n){f(e);let r=l();return x(r.sectionContext.navigate$.next({cxRoute:"product",params:n}))}),s()}if(t&2){let e=c.ngIf;l();let i=F(3);p("emptyResultDescription",u(1,5,"asmCustomer360.savedCart.emptyDescription"))("headerInactive",!0)("headerTemplate",i)("headerText",u(2,7,"asmCustomer360.savedCart.header"))("products",e)}}function Hn(t,c){if(t&1){let e=T();E(0),a(1,"button",4),m(2,"cxTranslate"),v("click",function(){let n=f(e).ngIf,r=l(2);return x(r.sectionContext.navigate$.next({cxRoute:"savedCartsDetails",params:{savedCartId:n==null?null:n.code}}))}),d(3),s(),a(4,"div",5),d(5),m(6,"cxTranslate"),s(),$(7,"div",6),a(8,"div",7),d(9),m(10,"cxTranslate"),s(),w()}if(t&2){let e=c.ngIf;o(),M("aria-label",A(2,4,"asmCustomer360.savedCart.aria.linkLabel",P(13,ve,e.code))),o(2),C(" ",e.code," "),o(2),C(" ",A(6,7,"asmCustomer360.productListing.totalNoItems",P(15,et,e.totalItemCount))," "),o(4),C(" ",A(10,10,"asmCustomer360.productListing.totalPrice",P(17,$e,e.totalPrice))," ")}}function Kn(t,c){if(t&1&&(g(0,Hn,11,19,"ng-container",3),m(1,"async")),t&2){let e=l();p("ngIf",u(1,1,e.savedCart$))}}var zn=["*"];function Wn(t,c){if(t&1&&(a(0,"div",9)(1,"h4",10),d(2),s()()),t&2){let e=l();o(2),C(" ",e.headerText," ")}}function Gn(t,c){if(t&1){let e=T();a(0,"cx-message",11),m(1,"cxTranslate"),v("closeMessage",function(){f(e);let n=l();return x(n.removeAlert.emit())}),s()}if(t&2){let e=l();p("text",u(1,2,"asmCustomer360.alertErrorMessage"))("type",e.globalMessageType.MSG_TYPE_ERROR)}}function Qn(t,c){if(t&1){let e=T();a(0,"cx-message",11),m(1,"cxTranslate"),v("closeMessage",function(){f(e);let n=l();return x(n.removeAlertForApplyAction.emit())}),s()}if(t&2){let e=l();p("text",u(1,2,"asmCustomer360.applyActionAlter"))("type",e.globalMessageType.MSG_TYPE_ERROR)}}function Yn(t,c){if(t&1){let e=T();a(0,"button",17),v("click",function(){f(e);let n=l(2).$implicit,r=l();return x(r.apply.emit(n))}),d(1),s()}if(t&2){let e=l(3);o(),C(" ",e.applyButtonText," ")}}function Xn(t,c){if(t&1&&(E(0),g(1,Yn,2,1,"button",16),w()),t&2){let e=l(2);o(),p("ngIf",e.showApplyButton)}}function Zn(t,c){t&1&&(a(0,"td",22),d(1," | "),s())}function Jn(t,c){if(t&1&&(E(0),a(1,"td"),$(2,"cx-icon",19),s(),a(3,"td",20),d(4),s(),g(5,Zn,2,0,"td",21),w()),t&2){let e=l(3);o(4),C(" ",e.applied," "),o(),p("ngIf",e.showRemoveButton)}}function eo(t,c){if(t&1){let e=T();a(0,"td")(1,"button",23),v("click",function(){f(e);let n=l(2).$implicit,r=l();return x(r.remove.emit(n))}),d(2),s()()}if(t&2){let e=l(3);o(2),C(" ",e.removeButtonText," ")}}function to(t,c){if(t&1&&(E(0),a(1,"tr",18),g(2,Jn,6,2,"ng-container",15)(3,eo,3,1,"td",15),s(),w()),t&2){let e=l(2);o(2),p("ngIf",!e.isCustomerCoupon),o(),p("ngIf",e.showRemoveButton)}}function io(t,c){if(t&1&&(E(0),a(1,"tr",12)(2,"td")(3,"tr",13),d(4),s(),a(5,"tr",14),d(6),s()(),a(7,"td"),g(8,Xn,2,1,"ng-container",15)(9,to,4,2,"ng-container",15),s()(),w()),t&2){let e=c.$implicit;o(4),C(" ",e.code," "),o(2),C(" ",e.name," "),o(2),p("ngIf",!e.applied),o(),p("ngIf",e.applied)}}function no(t,c){t&1&&$(0,"hr",24)}function oo(t,c){if(t&1&&(a(0,"div",25),d(1),s()),t&2){let e=l();o(),C(" ",e.emptyStateText,`
`)}}var tt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=X({token:t,factory:function(i){let n=null;return i?n=new(i||t):n=z(At),n},providedIn:"root"})}}return t})(),H=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),Je=(()=>{class t extends H{constructor(){super(...arguments),this.customer$=new ne(1),this.config$=new ne(1),this.navigate$=new ct,this.data$=new ne(1),this.savedCarts$=new ne(1),this.activeCart$=new ne(1),this.orderHistory$=new ne(1)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=_t(t)))(n||t)}})()}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),ro=(()=>{class t{set customer(e){this.source.customer$.next(e)}set config(e){this.source.config$.next(e)}set data(e){this.source.data$.next(e)}constructor(e){this.source=e,this.navigate=new Y,this.subscription=new te,this.subscription.add(e.navigate$.subscribe(i=>this.navigate.emit(i))),this.subscription.add(()=>{this.source.config$.complete(),this.source.customer$.complete(),this.source.data$.complete(),this.source.navigate$.complete()})}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(h(Je))}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-section"]],inputs:{component:"component",customer:"customer",config:"config",data:"data"},outputs:{navigate:"navigate"},standalone:!1,features:[ke([Je,{provide:H,useExisting:Je}])],decls:1,vars:1,consts:[[4,"ngComponentOutlet"]],template:function(i,n){i&1&&g(0,xi,1,0,"ng-container",0),i&2&&p("ngComponentOutlet",n.component)},dependencies:[Tt],encapsulation:2})}}return t})(),so=(()=>{class t{constructor(e,i,n,r,_){this.asmCustomer360Config=e,this.asmCustomer360Facade=i,this.launchDialogService=n,this.csAgentAuthService=r,this.directionService=_,this.role="dialog",this.modal=!0,this.labelledby="asm-customer-360-title",this.describedby="asm-customer-360-desc",this.cartIcon=se.CART,this.closeIcon=se.CLOSE,this.orderIcon=se.ORDER,this.ticketIcon=se.FILE,this.globalMessageType=Ue,this.focusConfig={trap:!0,block:!0,autofocus:".close",focusOnEscape:!0},this.activeTab=0,this.subscription=new te,this.showErrorAlert$=new Q(!1),this.showErrorTab$=new Q(!1),this.errorAlert$=this.showErrorAlert$.asObservable(),this.errorTab$=this.showErrorTab$.asObservable(),this.customerOverview$=this.asmCustomer360Facade.get360Data([{requestData:{type:D.OVERVIEW}}]).pipe(S(y=>y?.value?.find(_e=>_e.type===D.OVERVIEW)?.overview||void 0),K(()=>(this.showErrorAlert$.next(!0),O(void 0)))),this.tabs=e?.asmCustomer360?.tabs??[],this.currentTab=this.tabs[0]}ngOnInit(){this.subscription.add(this.csAgentAuthService.isCustomerSupportAgentLoggedIn().pipe(mt()).subscribe(e=>{e||this.launchDialogService.closeDialog("logout")})),this.subscription.add(this.launchDialogService.data$.subscribe(e=>{this.customer=e.customer})),this.setTabData()}ngOnDestroy(){this.subscription.unsubscribe()}selectTab(e){this.activeTab=e,this.currentTab=this.tabs[e],this.updateTabIndex(e),this.setTabData()}switchTab(e,i){let n=this.tabs.length-1,r=!0;this.isBackNavigation(e)?(i--,i<0&&(i=n)):this.isForwardsNavigation(e)?(i++,i>n&&(i=0)):e.code===q.HOME?i=0:e.code===q.END?i=n:r=!1,r&&(this.updateTabIndex(i),e.stopPropagation(),e.preventDefault())}navigateTo(e){let i=mi(this.customer,Yt.NAVIGATE,e);this.closeModal(i)}closeErrorAlert(){this.showErrorAlert$.next(!1)}closeModal(e){this.launchDialogService.closeDialog(e)}getAvatarText(e){e=e??{};let{firstName:i="",lastName:n=""}=e;return`${i.charAt(0)}${n.charAt(0)}`}getAvatarImage(e){return e?.userAvatar?.url?{altText:e.name,url:e.userAvatar.url,format:e.userAvatar.format}:void 0}updateTabIndex(e){this.tabHeaderItems.toArray().forEach((i,n)=>{n===e?(i.nativeElement.tabIndex=0,i.nativeElement.focus()):i.nativeElement.tabIndex=-1})}setTabData(){this.showErrorTab$.next(!1);let e=this.asmCustomer360Facade.get360Data(this.currentTab.components).pipe(K(()=>(this.showErrorTab$.next(!0),this.showErrorAlert$.next(!0),O(void 0))));this.asmCustomer360Tabs$=e.pipe(Ce(St),S(i=>this.currentTab.components.map(n=>{let r=n.requestData;if(r)return i.value.find(_=>_.type===r.type)})))}isForwardsNavigation(e){return e.code==="ArrowRight"&&this.isLTRDirection()||e.code==="ArrowLeft"&&this.isRTLDirection()}isBackNavigation(e){return e.code===q.ARROW_LEFT&&this.isLTRDirection()||e.code===q.ARROW_RIGHT&&this.isRTLDirection()}isLTRDirection(){return this.directionService.getDirection()===fe.LTR}isRTLDirection(){return this.directionService.getDirection()===fe.RTL}static{this.\u0275fac=function(i){return new(i||t)(h(tt),h(ae),h(Bt),h(Qt),h(Ge))}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360"]],viewQuery:function(i,n){if(i&1&&Fe(hi,5),i&2){let r;Re(r=Oe())&&(n.tabHeaderItems=r)}},hostVars:4,hostBindings:function(i,n){i&2&&M("role",n.role)("aria-modal",n.modal)("aria-labelledby",n.labelledby)("aria-describedby",n.describedby)},standalone:!1,decls:25,vars:22,consts:[["tabContent",""],["closeButton",""],["customerTextAvatar",""],["tabHeaderItem",""],["role","dialog","aria-labelledby","asm-customer-360-title",1,"cx-asm-customer-360","cx-modal-container","cx-asm-dialog",3,"esc","cxFocus"],[1,"cx-modal-content"],[1,"cx-dialog-header","modal-header"],[1,"header-title"],["id","asm-customer-360-title",1,"modal-title"],["id","asm-customer-360-desc",1,"cx-visually-hidden"],[4,"ngTemplateOutlet"],[3,"text","type","closeMessage",4,"ngIf"],["class","header-content",4,"ngIf"],[1,"cx-dialog-body"],["role","tablist",1,"cx-tab-headers"],["class","cx-tab-header","role","tab","attr.aria-controls","asm-customer-360-tab-panel",3,"active","click","keydown",4,"ngFor","ngForOf"],["id","asm-customer-360-tab-panel",1,"cx-tab-content","modal-body"],[4,"ngIf","ngIfElse"],[3,"closeMessage","text","type"],[1,"header-content"],[1,"header-profile-details"],[1,"header-profile-details-info"],[1,"cx-asm-customer-info","ml-3"],[1,"cx-asm-customer-name"],[1,"cx-asm-customer-email"],["class","cx-asm-customer-address",4,"ngIf"],["class","header-profile-details-log",4,"ngIf"],[1,"header-account-details"],["class","header-account-details-active-cart",4,"ngIf"],["class","header-account-details-recent-order",4,"ngIf"],["class","header-account-details-recent-ticket",4,"ngIf"],[1,"cx-avatar-image"],[3,"container"],[1,"cx-avatar"],[1,"cx-asm-customer-address"],[1,"header-profile-details-log"],[1,"header-account-details-active-cart"],[1,"account-icon",3,"type"],[1,"cx-overview-title-link","link",3,"click"],[1,"header-account-details-recent-order"],[1,"header-account-details-recent-ticket"],["role","tab","attr.aria-controls","asm-customer-360-tab-panel",1,"cx-tab-header",3,"click","keydown"],[1,"cx-tab-error"],[1,"cx-tab-error-image"],[1,"cx-tab-error-header"],[1,"cx-tab-error-message"],[4,"ngIf"],[3,"component","config","data","navigate",4,"ngFor","ngForOf"],[3,"navigate","component","config","data"],["type","button",1,"close",3,"click"],[3,"type"]],template:function(i,n){if(i&1){let r=T();a(0,"div",4),v("esc",function(){return f(r),x(n.closeModal("Escape clicked"))}),a(1,"div",5)(2,"div",6)(3,"div",7)(4,"h3",8),d(5),m(6,"cxTranslate"),s(),a(7,"div",9),d(8),m(9,"cxTranslate"),s(),g(10,Ai,1,0,null,10),s(),g(11,bi,2,4,"cx-message",11),m(12,"async"),g(13,$i,19,17,"div",12),m(14,"async"),s(),a(15,"div",13)(16,"div",14),g(17,Fi,4,6,"button",15),s(),a(18,"div",16),g(19,Ri,9,6,"ng-container",17),m(20,"async"),g(21,Bi,2,3,"ng-template",null,0,U),s()()()(),g(23,Vi,4,7,"ng-template",null,1,U)}if(i&2){let r=F(22),_=F(24);p("cxFocus",n.focusConfig),o(5),C(" ",u(6,9,"asmCustomer360.header.newTitle")," "),o(3),C(" ",A(9,11,"asmCustomer360.header.newSubtitle",P(20,ui,n.customer.firstName))," "),o(2),p("ngTemplateOutlet",_),o(),p("ngIf",u(12,14,n.errorAlert$)),o(2),p("ngIf",u(14,16,n.customerOverview$)),o(4),p("ngForOf",n.tabs),o(2),p("ngIf",u(20,18,n.showErrorTab$))("ngIfElse",r)}},dependencies:[re,W,ye,We,Se,Ft,Ke,ro,j,V,ue,Ye],encapsulation:2,changeDetection:0})}}return t})(),ao=(()=>{class t{constructor(){this.isOrderEntry=!0,this.selectProduct=new Y}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-product-item"]],inputs:{product:"product",quantity:"quantity",isOrderEntry:"isOrderEntry"},outputs:{selectProduct:"selectProduct"},standalone:!1,decls:9,vars:8,consts:[["notOrderEntryTemplate",""],[1,"cx-asm-customer-360-product-item-media","link",3,"click"],["format","product",3,"container","alt"],[1,"cx-asm-customer-360-product-item-content"],[1,"cx-asm-customer-360-product-item-name","link",3,"click"],[3,"title"],[4,"ngIf","ngIfElse"],[1,"cx-asm-customer-360-product-item-code"],["class","cx-asm-customer-360-product-item-quantity",4,"ngIf"],[1,"cx-asm-customer-360-product-item-price"],[1,"cx-asm-customer-360-product-item-quantity"],["class","cx-asm-customer-360-product-item-out-of-stock",4,"ngIf"],[1,"cx-asm-customer-360-product-item-out-of-stock"]],template:function(i,n){if(i&1){let r=T();a(0,"button",1),v("click",function(){return f(r),x(n.selectProduct.emit(n.product))}),$(1,"cx-media",2),s(),a(2,"div",3)(3,"button",4),v("click",function(){return f(r),x(n.selectProduct.emit(n.product))}),a(4,"span",5),d(5),s()(),g(6,Li,7,8,"ng-container",6)(7,qi,1,1,"ng-template",null,0,U),s()}if(i&2){let r,_=F(8);M("aria-label",n.product==null?null:n.product.name),o(),p("container",n.product==null||n.product.images==null?null:n.product.images.PRIMARY)("alt",(r=n.product==null?null:n.product.name)!==null&&r!==void 0?r:""),o(2),M("aria-label",n.product==null?null:n.product.name),o(),oe("title",n.product==null?null:n.product.name),o(),B(n.product==null?null:n.product.name),o(),p("ngIf",n.isOrderEntry)("ngIfElse",_)}},dependencies:[W,We,V],encapsulation:2,changeDetection:0})}}return t})(),co=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({imports:[R,we,N]})}}return t})(),it=(()=>{class t{constructor(e){this.breakpointService=e,this.clickHeader=new Y,this.selectProduct=new Y}ngOnInit(){this.numberofColumns$=this.getNumberofColumns()}toggleShowMore(){this.showMore=!this.showMore}getNumberofColumns(){return this.breakpointService.breakpoint$.pipe(S(e=>{switch(e){case He.xl:return 3;case He.lg:return 2;default:return 1}}))}static{this.\u0275fac=function(i){return new(i||t)(h(Vt))}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-product-listing"]],inputs:{emptyResultDescription:"emptyResultDescription",headerInactive:"headerInactive",headerText:"headerText",products:"products",headerTemplate:"headerTemplate"},outputs:{clickHeader:"clickHeader",selectProduct:"selectProduct"},standalone:!1,decls:3,vars:2,consts:[["emptyResultTemplate",""],["showLess",""],["class","product-listing",4,"ngIf","ngIfElse"],[1,"product-listing"],["role","heading","aria-level","4",1,"product-listing-header"],[1,"title-link","link",3,"click","disabled"],[4,"ngIf"],[4,"ngTemplateOutlet"],[1,"product-listing-items",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"product","quantity","selectProduct",4,"ngIf"],[3,"selectProduct","product","quantity"],[1,"link","cx-action-link","show-hide-button",3,"click"],[4,"ngIf","ngIfElse"],[1,"empty-result-description"]],template:function(i,n){if(i&1&&g(0,Zi,7,10,"div",2)(1,Ji,2,1,"ng-template",null,0,U),i&2){let r=F(2);p("ngIf",n.products==null?null:n.products.length)("ngIfElse",r)}},dependencies:[Ne,re,W,ye,ao,j,V],encapsulation:2,changeDetection:0})}}return t})(),nt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({imports:[R,N,we,co]})}}return t})(),lo=(()=>{class t{constructor(e,i){this.sectionContext=e,this.productService=i,this.activeCart$=this.sectionContext.data$.pipe(S(n=>n.cart)),this.productItems$=this.activeCart$.pipe(ie(n=>n?.entries?.length?Te(n.entries.map(r=>this.productService.get(r.productCode,Ae.DETAILS).pipe(Ce(_=>!!_),S(_=>ce(ee({},_),{quantity:r.quantity,basePrice:r.basePrice,totalPrice:r.totalPrice})),le(1)))):O([])))}static{this.\u0275fac=function(i){return new(i||t)(h(H),h(Ie))}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-active-cart"]],standalone:!1,decls:4,vars:3,consts:[["headerTemplate",""],[3,"emptyResultDescription","headerInactive","headerTemplate","headerText","products","selectProduct",4,"ngIf"],[3,"selectProduct","emptyResultDescription","headerInactive","headerTemplate","headerText","products"],[4,"ngIf"],[1,"cx-overview-title-link","link",3,"click"],[1,"cart-total-no-items"],[1,"cart-divider"],[1,"cart-total-price"]],template:function(i,n){i&1&&(g(0,en,3,9,"cx-asm-customer-360-product-listing",1),m(1,"async"),g(2,nn,2,3,"ng-template",null,0,U)),i&2&&p("ngIf",u(1,1,n.productItems$))},dependencies:[W,it,j,V],encapsulation:2,changeDetection:0})}}return t})(),mo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({imports:[R,N,nt]})}}return t})(),L=function(t){return t.START="START",t.CENTER="CENTER",t.END="END",t}(L||{}),ot=(()=>{class t{constructor(e,i){this.asmCustomer360Config=e,this.directionService=i,this.selectItem=new Y,this.SortOrder=J,this.CustomerTableTextAlign=L,this.currentPageNumber=0,this.currentPage$=new Q(void 0),this.listSortOrder=J.DESC,this.focusedTableColumnIndex=0,this.focusedTableRowIndex=0,this.setFocusOnStartTableItem=!1}ngOnChanges(e){if(e?.entries){let i=this.sortEntries(this.entries,this.sortProperty,this.listSortOrder);this.entryPages=this.updateEntryPages(i),this.setPageNumber(this.currentPageNumber)}}ngAfterViewChecked(){this.setFocusOnStartTableItem&&(this.setSelectedTabIndex(0,1),this.setFocusOnStartTableItem=!1)}sortEntriesAndUpdatePages(e){let i=this.sortProperty,n;e!==i?n=J.ASC:n=this.listSortOrder===J.ASC?J.DESC:J.ASC,this.sortProperty=e,this.listSortOrder=n,this.entries=this.sortEntries(this.entries,this.sortProperty,this.listSortOrder),this.entryPages=this.updateEntryPages(this.entries),this.setPageNumber(this.currentPageNumber)}setPageNumber(e,i=!1){this.currentPageNumber=e,this.currentPage$.next(this.entryPages[this.currentPageNumber]),i&&(this.setFocusOnStartTableItem=!0)}sortDirection(e,i,n){return e===i?n===J.ASC?"ascending":"descending":"none"}tabIndexValue(e,i,n){return e===n&&i===0?0:-1}onKeyDownCell(e,i,n){let r=!0;switch(e.code){case q.ARROW_LEFT:case q.ARROW_RIGHT:this.moveFocusLeftRight(e,i,n);break;case q.ARROW_DOWN:this.moveFocusDown(i,n);break;case q.ARROW_UP:this.moveFocusUp(i,n);break;case q.HOME:this.moveFocusHome(e,n);break;case q.END:this.moveFocusEnd(e,n);break;case q.PAGE_DOWN:this.handlePageDown();break;case q.PAGE_UP:this.handlePageUp();break;default:r=!1}r&&(e.stopPropagation(),e.preventDefault())}setSelectedTabIndex(e,i){let n=this.columns.length-1,r=this.table.nativeElement.rows.length-1;if(e>n||i>r)return;this.removeCellTabIndex(this.focusedTableColumnIndex,this.focusedTableRowIndex),this.focusedTableColumnIndex=e,this.focusedTableRowIndex=i;let _=this.table.nativeElement.rows[i].cells[e],y=_.firstChild,G=y.tagName==="BUTTON"?y:_;G.tabIndex=0,G.focus()}handlePageUp(){if(this.entryPages.length>1&&this.currentPageNumber>0){let e=Math.max(0,this.currentPageNumber-1);this.setPageNumber(e,!0)}}handlePageDown(){let e=this.entryPages.length-1;if(this.entryPages.length>1&&this.currentPageNumber<e){let i=Math.min(e,this.currentPageNumber+1);this.setPageNumber(i,!0)}}moveFocusEnd(e,i){let n=this.table.nativeElement.rows.length-1;i=e.ctrlKey?n:i,this.setSelectedTabIndex(this.columns.length-1,i)}moveFocusHome(e,i){i=e.ctrlKey?0:i,this.setSelectedTabIndex(0,i)}moveFocusUp(e,i){i=Math.max(0,i-1),this.setSelectedTabIndex(e,i)}moveFocusDown(e,i){let n=this.table.nativeElement.rows.length-1;i=Math.min(n,i+1),this.setSelectedTabIndex(e,i)}moveFocusLeftRight(e,i,n){let r=this.columns.length-1;this.isBackNavigation(e)?i=Math.max(0,i-1):i=Math.min(r,i+1),this.setSelectedTabIndex(i,n)}removeCellTabIndex(e,i){let n=this.table.nativeElement.rows?.[i]?.cells?.[e],r=n?.firstChild;r&&(r.tagName==="BUTTON"?r.tabIndex=-1:n&&(n.tabIndex=-1))}isBackNavigation(e){return e.code===q.ARROW_LEFT&&this.isLTRDirection()||e.code===q.ARROW_RIGHT&&this.isRTLDirection()}isLTRDirection(){return this.directionService.getDirection()===fe.LTR}isRTLDirection(){return this.directionService.getDirection()===fe.RTL}updateEntryPages(e){let i=[];for(let n=0;n<e.length;n+=this.pageSize)i.push(e.slice(n,n+this.pageSize));return i}sortEntries(e,i,n){return e?.length?e.sort(Xe(ti(i,Xe(Jt(J.DESC),Me(ii,ei(n)),Me(ni,Zt(n)),Me(oi,Xt(n)))))):[]}static{this.\u0275fac=function(i){return new(i||t)(h(tt),h(Ge))}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-table"]],viewQuery:function(i,n){if(i&1&&Fe(on,5),i&2){let r;Re(r=Oe())&&(n.table=r.first)}},inputs:{columns:"columns",emptyStateText:"emptyStateText",entries:"entries",headerText:"headerText",pageSize:"pageSize",sortProperty:"sortProperty"},outputs:{selectItem:"selectItem"},standalone:!1,features:[dt],decls:4,vars:3,consts:[["table",""],["linkTemplate",""],["starRating",""],["dateCell",""],["tableCell",""],["class","cx-asm-customer-360-table-heading",4,"ngIf"],["aria-hidden","true",1,"cx-asm-customer-360-table-separator"],[4,"ngIf"],["class","cx-asm-customer-360-table-empty",4,"ngIf"],[1,"cx-asm-customer-360-table-heading"],[1,"cx-asm-customer-360-table-heading-text"],["class","cx-asm-customer-360-table-heading-pages",4,"ngIf"],[1,"cx-asm-customer-360-table-heading-pages"],[4,"ngFor","ngForOf"],["class","cx-asm-customer-360-table-heading-page link",3,"active","disabled","click",4,"ngIf"],[1,"cx-asm-customer-360-table-heading-page","link",3,"click","disabled"],["role","grid",1,"cx-asm-customer-360-table"],[1,"cx-visually-hidden"],["role","row",1,"cx-asm-customer-360-table-row-header"],["class","cx-asm-customer-360-table-header","role","columnheader",3,"active","asc","desc","ngClass","click",4,"ngFor","ngForOf"],["class","cx-asm-customer-360-table-row","role","row",4,"ngFor","ngForOf"],["role","columnheader",1,"cx-asm-customer-360-table-header",3,"click","ngClass"],[1,"link",3,"click","keydown","tabindex"],["role","row",1,"cx-asm-customer-360-table-row"],["role","cell","tabindex","-1",3,"ngClass","keydown","click",4,"ngFor","ngForOf"],["role","cell","tabindex","-1",3,"keydown","click","ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["tabindex","-1",1,"cx-asm-customer-360-table-link","link",3,"click","title"],["tabindex","-1",3,"rating",4,"ngIf","ngIfElse"],["tabindex","-1",3,"rating"],[4,"ngIf","ngIfElse"],[3,"title"],[1,"cx-asm-customer-360-table-empty"]],template:function(i,n){i&1&&(g(0,ln,4,2,"div",5),$(1,"hr",6),g(2,yn,11,8,"ng-container",7)(3,An,2,1,"div",8)),i&2&&(p("ngIf",n.headerText),o(2),p("ngIf",(n.entryPages==null?null:n.entryPages.length)&&(n.columns==null?null:n.columns.length)),o(),p("ngIf",!(n.entryPages!=null&&n.entryPages.length)))},dependencies:[Ne,re,W,qt,j,V,ue,Ye],encapsulation:2,changeDetection:0})}}return t})(),rt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({imports:[R,N,Pe,De]})}}return t})(),he=function(t){return t.SavedCart="SAVED CART",t.Cart="CART",t.Ticket="TICKET",t.Order="ORDER",t}(he||{}),po=(()=>{class t{constructor(e){this.context=e,this.columns=[{property:"typeLabel",i18nTextKey:"asmCustomer360.activity.type",headerTextAlign:L.START},{property:"associatedTypeId",text:"id",i18nTextKey:"asmCustomer360.activity.id",headerTextAlign:L.START,textAlign:L.START,navigatable:!0},{property:"description",text:"description",i18nTextKey:"asmCustomer360.activity.description",headerTextAlign:L.START},{property:"statusLabel",text:"status",i18nTextKey:"asmCustomer360.activity.status",headerTextAlign:L.START},{property:"createdAt",text:"created",i18nTextKey:"asmCustomer360.activity.created",isDate:!0},{property:"updatedAt",text:"updated",i18nTextKey:"asmCustomer360.activity.updated",isDate:!0}]}ngOnInit(){let e=[];this.entries$=ge([this.context.data$]).pipe(S(([i])=>(e=[],i.activities.forEach(n=>{e.push(ce(ee({},n),{typeLabel:n.type?.name,statusLabel:n.status?.name}))}),e)))}itemSelected(e){if(e){let i;e.type?.code===he.SavedCart?i={cxRoute:"savedCartsDetails",params:{savedCartId:e?.associatedTypeId}}:e.type?.code===he.Cart?i={cxRoute:"cart"}:e.type?.code===he.Order?i={cxRoute:"orderDetails",params:{code:e?.associatedTypeId}}:e.type?.code===he.Ticket&&(i={cxRoute:"supportTicketDetails",params:{ticketCode:e?.associatedTypeId}}),i&&this.context.navigate$.next(i)}}static{this.\u0275fac=function(i){return new(i||t)(h(H))}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-activity"]],standalone:!1,decls:5,vars:13,consts:[["sortProperty","createdAt",3,"selectItem","emptyStateText","headerText","columns","entries","pageSize"]],template:function(i,n){if(i&1&&(a(0,"cx-asm-customer-360-table",0),m(1,"cxTranslate"),m(2,"cxTranslate"),m(3,"async"),m(4,"async"),v("selectItem",function(_){return n.itemSelected(_)}),s()),i&2){let r;p("emptyStateText",u(1,5,"asmCustomer360.activity.emptyStateText"))("headerText",u(2,7,"asmCustomer360.activity.headerText"))("columns",n.columns)("entries",u(3,9,n.entries$))("pageSize",(r=u(4,11,n.context.config$))==null?null:r.pageSize)}},dependencies:[ot,j,V],encapsulation:2,changeDetection:0})}}return t})(),uo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({imports:[R,rt,N]})}}return t})(),_o=(()=>{class t{constructor(e,i,n,r,_){this.source=e,this.changeDetectorRef=i,this.storeFinderService=n,this.translationService=r,this.storeFinderConfig=_,this.subscription=new te}ngOnInit(){this.dataSource$=ge([this.source.config$,this.source.data$]),this.subscription.add(this.dataSource$.pipe(ie(([e,i])=>(this.storeFinderService.findStoresAction(i.address,{pageSize:e.pageSize},void 0,void 0,void 0,this.storeFinderConfig.googleMaps?.radius),this.storeFinderService.getFindStoresEntities())),ie(e=>(e&&(this.storeData=e,this.selectedStore=this.storeData.stores?.[0]),O(void 0)))).subscribe(()=>this.changeDetectorRef.detectChanges()))}ngOnDestroy(){this.subscription.unsubscribe()}selectStore(e){this.selectedStore=e}getStoreOpening(e){let{closed:i,openingTime:n,closingTime:r}=e;if(i)return this.translationService.translate("asmCustomer360.maps.storeClosed");if(n){let _=`${n.formattedHour}`;return r&&(_=`${_} - ${r.formattedHour}`),O(_)}else return O("")}static{this.\u0275fac=function(i){return new(i||t)(h(H),h(vt),h(Wt),h(be),h(zt))}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-map"]],standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],[1,"store-count"],["class","store-listing-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"store-listing-item",3,"click"],[1,"store-listing-item-details"],[1,"store-listing-item-text"],[1,"store-listing-item-distance","store-listing-item-text"],[1,"store-details"],["width","110px","height","110px",3,"src","alt","title",4,"ngIf"],[1,"store-details-info"],[1,"bold"],["class","store-openings",4,"ngIf"],["width","110px","height","110px",3,"src","alt","title"],[1,"store-openings"],["class","store-openings-dates",4,"ngIf"],[1,"store-openings-features"],[4,"ngFor","ngForOf"],[1,"store-openings-dates"],["class","store-openings-date",4,"ngFor","ngForOf"],[1,"store-openings-date"],[1,"store-openings-day","bold"]],template:function(i,n){i&1&&g(0,Rn,7,9,"ng-container",0),i&2&&p("ngIf",n.storeData)},dependencies:[re,W,j,V],encapsulation:2,changeDetection:0})}}return t})(),go=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({imports:[R,N]})}}return t})(),Co=(()=>{class t{constructor(e,i){this.sectionContext=e,this.productService=i,this.products$=this.sectionContext.data$.pipe(ie(n=>n?.customerProductInterests?.length?Te(n.customerProductInterests.map(r=>this.productService.get(r.product.code,Ae.DETAILS).pipe(Ce(_=>!!_),le(1)))):O([])))}static{this.\u0275fac=function(i){return new(i||t)(h(H),h(Ie))}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-product-interests"]],standalone:!1,decls:2,vars:3,consts:[[3,"emptyResultDescription","headerText","products","clickHeader","selectProduct",4,"ngIf"],[3,"clickHeader","selectProduct","emptyResultDescription","headerText","products"]],template:function(i,n){i&1&&(g(0,On,3,7,"cx-asm-customer-360-product-listing",0),m(1,"async")),i&2&&p("ngIf",u(1,1,n.products$))},dependencies:[W,it,j,V],encapsulation:2,changeDetection:0})}}return t})(),fo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({imports:[R,N,nt]})}}return t})(),xo=(()=>{class t{constructor(e,i,n,r){this.asmCustomer360Config=e,this.context=i,this.datePipe=n,this.translation=r,this.reviewColumns=[{property:"item",i18nTextKey:"asmCustomer360.productReviews.columnHeaders.item",navigatable:!0,headerTextAlign:L.START,textAlign:L.START},{property:"dateAndStatus",i18nTextKey:"asmCustomer360.productReviews.columnHeaders.dateAndStatus",headerTextAlign:L.START},{property:"rating",i18nTextKey:"asmCustomer360.productReviews.columnHeaders.rating",renderAsStarRating:!0},{property:"reviewText",i18nTextKey:"asmCustomer360.productReviews.columnHeaders.review",headerTextAlign:L.START}],this.subscription=new te}ngOnInit(){this.reviewEntries$=ge([this.context.data$,this.translation.translate("asmCustomer360.productReviews.sku")]).pipe(S(([e,i])=>e.reviews.map(n=>ce(ee({},n),{item:`${n.productName}, ${i}: ${n.productCode}`,dateAndStatus:`${this.getLongDate(new Date(n.createdAt))} / ${n.localizedReviewStatus}`}))))}navigateTo(e){let i={name:e.productName,code:e.productCode};this.context.navigate$.next({cxRoute:"product",params:i})}getLongDate(e){return e?this.datePipe.transform(e,this.asmCustomer360Config?.asmCustomer360?.dateTimeFormat)??"":""}static{this.\u0275fac=function(i){return new(i||t)(h(tt),h(H),h(ue),h(be))}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-product-reviews"]],standalone:!1,features:[ke([ue])],decls:5,vars:13,consts:[["sortProperty","dateAndStatus",3,"selectItem","emptyStateText","headerText","columns","entries","pageSize"]],template:function(i,n){if(i&1&&(a(0,"cx-asm-customer-360-table",0),m(1,"cxTranslate"),m(2,"cxTranslate"),m(3,"async"),m(4,"async"),v("selectItem",function(_){return n.navigateTo(_)}),s()),i&2){let r;p("emptyStateText",u(1,5,"asmCustomer360.productReviews.emptyDescription"))("headerText",u(2,7,"asmCustomer360.productReviews.header"))("columns",n.reviewColumns)("entries",u(3,9,n.reviewEntries$))("pageSize",(r=u(4,11,n.context.config$))==null?null:r.pageSize)}},dependencies:[ot,j,V],encapsulation:2,changeDetection:0})}}return t})(),ho=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({imports:[R,rt,N]})}}return t})(),vo=(()=>{class t{constructor(e,i){this.sectionContext=e,this.translation=i,this.focusConfig={trap:!0,block:!0,autofocus:"customer-list-selector",focusOnEscape:!0},this.iconTypes=se}ngOnInit(){this.customerProfileData$=this.sectionContext.data$.pipe(S(e=>e?.profile))}getCardContent({defaultPayment:e,expiryMonth:i,expiryYear:n,cardNumber:r,cardType:_}){return ge([this.translation.translate("paymentCard.expires",{month:i,year:n}),this.translation.translate("paymentCard.defaultPaymentMethod")]).pipe(S(([y,G])=>({role:"region",header:e?G:void 0,text:[r??"",y],img:this.getCardIcon(_?.code??""),label:e?"paymentCard.defaultPaymentLabel":"paymentCard.additionalPaymentLabel"})))}getCardIcon(e){let i;return e===de.VISA?i=this.iconTypes.VISA:e===de.MASTER||e===de.MASTERCARD_EUROCARD?i=this.iconTypes.MASTER_CARD:e===de.DINERS?i=this.iconTypes.DINERS_CLUB:e===de.AMEX?i=this.iconTypes.AMEX:i=this.iconTypes.CREDIT_CARD,i}static{this.\u0275fac=function(i){return new(i||t)(h(H),h(be))}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-profile"]],standalone:!1,decls:5,vars:3,consts:[["address",""],[1,"cx-asm-customer-360-profile"],[4,"ngIf"],[1,"row"],[1,"col"],[1,"mt-4","mb-3"],[1,"cx-asm-profile-subheader"],[1,"cx-asm-profile-container","billing-address"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cx-asm-profile-container","delivery-address"],[1,"w-100","d-lg-none"],[1,"cx-asm-profile-container","profile-phone1"],[1,"cx-asm-profile-container","profile-phone2"],[1,"mt-4","mb-4"],[1,"cx-asm-profile-cards"],["class","cx-asm-profile-card",4,"ngFor","ngForOf"],[1,"cx-asm-profile-card"],[3,"index","border","fitToContainer","content"],[1,"cx-asm-profile-address-cell"],[1,"address-line1"],[1,"address-line2"],["class","address-town",4,"ngIf"],["class","address-region",4,"ngIf"],[1,"address-country"],[1,"address-town"],[1,"address-region"]],template:function(i,n){i&1&&(a(0,"div",1),g(1,Nn,38,29,"ng-container",2),m(2,"async"),g(3,qn,10,5,"ng-template",null,0,U),s()),i&2&&(o(),p("ngIf",u(2,1,n.customerProfileData$)))},dependencies:[Lt,re,W,ye,j,V],encapsulation:2})}}return t})(),To=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({imports:[jt,R,N]})}}return t})(),yo=(()=>{class t{constructor(e,i){this.sectionContext=e,this.productService=i,this.savedCart$=this.sectionContext.data$.pipe(S(n=>n.savedCart)),this.productItems$=this.savedCart$.pipe(ie(n=>n?.entries?.length?Te(n.entries.map(r=>this.productService.get(r.productCode,Ae.DETAILS).pipe(Ce(_=>!!_),S(_=>ce(ee({},_),{quantity:r.quantity,basePrice:r.basePrice,totalPrice:r.totalPrice})),le(1)))):O([])))}static{this.\u0275fac=function(i){return new(i||t)(h(H),h(Ie))}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-saved-cart"]],standalone:!1,decls:4,vars:3,consts:[["headerTemplate",""],[3,"emptyResultDescription","headerInactive","headerTemplate","headerText","products","selectProduct",4,"ngIf"],[3,"selectProduct","emptyResultDescription","headerInactive","headerTemplate","headerText","products"],[4,"ngIf"],[1,"cx-overview-title-link","link",3,"click"],[1,"cart-total-no-items"],[1,"cart-divider"],[1,"cart-total-price"]],template:function(i,n){i&1&&(g(0,Un,3,9,"cx-asm-customer-360-product-listing",1),m(1,"async"),g(2,Kn,2,3,"ng-template",null,0,U)),i&2&&p("ngIf",u(1,1,n.productItems$))},dependencies:[W,it,j,V],encapsulation:2,changeDetection:0})}}return t})(),Ao=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({imports:[R,N,nt]})}}return t})(),bo=(()=>{class t{constructor(e){this.context=e,this.supportTicketsColumns=[{property:"id",i18nTextKey:"asmCustomer360.supportTickets.columnHeaders.id",navigatable:!0,headerTextAlign:L.START,textAlign:L.START},{property:"subject",i18nTextKey:"asmCustomer360.supportTickets.columnHeaders.headline",headerTextAlign:L.START},{property:"categoryLabel",i18nTextKey:"asmCustomer360.supportTickets.columnHeaders.category",headerTextAlign:L.START},{property:"createdAt",i18nTextKey:"asmCustomer360.activity.created",isDate:!0},{property:"updatedAt",i18nTextKey:"asmCustomer360.activity.updated",isDate:!0},{property:"statusLabel",i18nTextKey:"asmCustomer360.activity.status",headerTextAlign:L.START}]}ngOnInit(){this.supportTicketsEntries$=this.context.data$.pipe(S(e=>e?.tickets?.map(i=>ce(ee({},i),{statusLabel:i.status.name,categoryLabel:i.category.name}))??[]))}navigateTo(e){e&&this.context.navigate$.next({cxRoute:"supportTicketDetails",params:{ticketCode:e.id}})}static{this.\u0275fac=function(i){return new(i||t)(h(H))}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-support-tickets"]],standalone:!1,decls:5,vars:13,consts:[["sortProperty","createdAt",3,"selectItem","emptyStateText","headerText","columns","entries","pageSize"]],template:function(i,n){if(i&1&&(a(0,"cx-asm-customer-360-table",0),m(1,"cxTranslate"),m(2,"cxTranslate"),m(3,"async"),m(4,"async"),v("selectItem",function(_){return n.navigateTo(_)}),s()),i&2){let r;p("emptyStateText",u(1,5,"asmCustomer360.supportTickets.emptyDescription"))("headerText",u(2,7,"asmCustomer360.supportTickets.header"))("columns",n.supportTicketsColumns)("entries",u(3,9,n.supportTicketsEntries$))("pageSize",(r=u(4,11,n.context.config$))==null?null:r.pageSize)}},dependencies:[ot,j,V],encapsulation:2,changeDetection:0})}}return t})(),Io=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({imports:[R,rt,N]})}}return t})(),st=(()=>{class t{constructor(){this.apply=new Y,this.remove=new Y,this.removeAlert=new Y,this.removeAlertForApplyAction=new Y,this.globalMessageType=Ue}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-promotion-listing"]],inputs:{headerText:"headerText",emptyStateText:"emptyStateText",applyButtonText:"applyButtonText",applied:"applied",removeButtonText:"removeButtonText",entries:"entries",showAlert:"showAlert",showAlertForApplyAction:"showAlertForApplyAction",showRemoveButton:"showRemoveButton",showApplyButton:"showApplyButton",isCustomerCoupon:"isCustomerCoupon"},outputs:{apply:"apply",remove:"remove",removeAlert:"removeAlert",removeAlertForApplyAction:"removeAlertForApplyAction"},standalone:!1,ngContentSelectors:zn,decls:19,vars:13,consts:[["class","cx-asm-customer-360-promotion-listing-heading",4,"ngIf"],[1,"message-container"],[3,"text","type","closeMessage",4,"ngIf"],[1,"cx-asm-customer-360-promotion-listing"],[1,"cx-visually-hidden"],["role","columnheader"],[4,"ngFor","ngForOf"],["class","cx-asm-customer-360-promotion-listing-separator","aria-hidden","true",4,"ngIf"],["class","cx-asm-customer-360-promotion-listing-empty",4,"ngIf"],[1,"cx-asm-customer-360-promotion-listing-heading"],[1,"cx-asm-customer-360-promotion-listing-heading-text"],[3,"closeMessage","text","type"],[1,"cx-asm-customer-360-promotion-listing-row"],["tabindex","-1",1,"cx-asm-customer-360-promotion-listing-subheader"],[1,"cx-asm-customer-360-promotion-listing-description"],[4,"ngIf"],["class","cx-asm-customer-360-promotion-listing-apply-button",3,"click",4,"ngIf"],[1,"cx-asm-customer-360-promotion-listing-apply-button",3,"click"],[1,"cx-asm-customer-360-promotion-listing-action"],["type","SUCCESS",1,"success"],[1,"cx-asm-customer-360-promotion-listing-applied"],["class","cx-asm-customer-360-promotion-listing-action-separator",4,"ngIf"],[1,"cx-asm-customer-360-promotion-listing-action-separator"],[1,"cx-asm-customer-360-promotion-listing-remove-button",3,"click"],["aria-hidden","true",1,"cx-asm-customer-360-promotion-listing-separator"],[1,"cx-asm-customer-360-promotion-listing-empty"]],template:function(i,n){i&1&&(Ct(),g(0,Wn,3,1,"div",0),ft(1),a(2,"div",1),g(3,Gn,2,4,"cx-message",2)(4,Qn,2,4,"cx-message",2),s(),a(5,"table",3)(6,"caption",4),d(7),s(),a(8,"thead",4)(9,"tr")(10,"th",5),d(11),m(12,"cxTranslate"),s(),a(13,"th",5),d(14),m(15,"cxTranslate"),s()()(),g(16,io,10,4,"ng-container",6),s(),g(17,no,1,0,"hr",7)(18,oo,2,1,"div",8)),i&2&&(p("ngIf",n.headerText),o(3),p("ngIf",n.showAlert),o(),p("ngIf",n.showAlertForApplyAction),o(3),C(" ",n.headerText," "),o(4),C(" ",u(12,9,"asmCustomer360.promotions.headerName")," "),o(3),C(" ",u(15,11,"asmCustomer360.promotions.headerAction")," "),o(2),p("ngForOf",n.entries),o(),p("ngIf",!n.showAlert),o(),p("ngIf",(n.entries==null?null:n.entries.length)===0&&!n.showAlert))},dependencies:[re,W,Ke,Se,V],encapsulation:2,changeDetection:0})}}return t})(),So=(()=>{class t{constructor(e,i,n,r,_){this.context=e,this.cartVoucherService=i,this.userIdService=n,this.activeCartFacade=r,this.asmCustomer360Facade=_,this.showErrorAlert$=new Q(!1),this.showErrorAlertForApplyAction$=new Q(!1),this.subscription=new te}ngOnInit(){this.subscription.add(this.userIdService.getUserId().subscribe(e=>{this.userId=e??""})),this.subscription.add(this.activeCartFacade.requireLoadedCart().subscribe(e=>{this.currentCartId=e?.code})),this.subscription.add(this.cartVoucherService.getAddVoucherResultError().subscribe(e=>{e&&(this.refreshComponent(),this.showErrorAlertForApplyAction$.next(!0))})),this.showErrorAlert$.next(!1),this.showErrorAlertForApplyAction$.next(!1),this.fetchCoupons()}fetchCoupons(){this.entries$=this.context.data$.pipe(S(e=>{let i=[];return e.coupons.forEach(n=>{i.push(ee({},n))}),i}),K(()=>(this.showErrorAlert$.next(!0),O([]))))}closeErrorAlert(){this.showErrorAlert$.next(!1)}closeErrorAlertForApplyAction(){this.showErrorAlertForApplyAction$.next(!1)}refreshComponent(){this.entries$=this.asmCustomer360Facade.get360Data([{requestData:{type:D.COUPON_LIST}}]).pipe(S(e=>{let i=e?.value?.find(r=>r.type===D.COUPON_LIST),n=[];return i.coupons&&i.coupons.forEach(r=>{n.push(ee({},r))}),n}),K(()=>(this.showErrorAlert$.next(!0),O([]))))}applyCouponToCustomer(e){this.cartVoucherService.addVoucher(e?.code,this.currentCartId),this.refreshActionButton(!0,e?.code)}removeCouponToCustomer(e){this.cartVoucherService.removeVoucher(e?.code,this.currentCartId),this.refreshActionButton(!1,e?.code)}refreshActionButton(e,i){this.entries$=this.entries$.pipe(S(n=>(n.forEach(r=>{r.code===i&&(r.applied=e)}),n)))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(h(H),h(Kt),h(bt),h(Qe),h(ae))}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-coupon"]],standalone:!1,decls:9,vars:26,consts:[[3,"apply","remove","removeAlert","removeAlertForApplyAction","emptyStateText","headerText","entries","showAlert","showAlertForApplyAction","applyButtonText","applied","removeButtonText","showRemoveButton","showApplyButton"]],template:function(i,n){i&1&&(a(0,"cx-asm-customer-360-promotion-listing",0),m(1,"cxTranslate"),m(2,"cxTranslate"),m(3,"async"),m(4,"async"),m(5,"async"),m(6,"cxTranslate"),m(7,"cxTranslate"),m(8,"cxTranslate"),v("apply",function(_){return n.applyCouponToCustomer(_)})("remove",function(_){return n.removeCouponToCustomer(_)})("removeAlert",function(){return n.closeErrorAlert()})("removeAlertForApplyAction",function(){return n.closeErrorAlertForApplyAction()}),s()),i&2&&p("emptyStateText",u(1,10,"asmCustomer360.coupons.emptyDescription"))("headerText",u(2,12,"asmCustomer360.coupons.headerText"))("entries",u(3,14,n.entries$))("showAlert",u(4,16,n.showErrorAlert$))("showAlertForApplyAction",u(5,18,n.showErrorAlertForApplyAction$))("applyButtonText",u(6,20,"asmCustomer360.coupons.applyButtonText"))("applied",u(7,22,"asmCustomer360.coupons.applied"))("removeButtonText",u(8,24,"asmCustomer360.coupons.removeButtonText"))("showRemoveButton",!0)("showApplyButton",!0)},dependencies:[st,j,V],encapsulation:2,changeDetection:0})}}return t})(),at=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({imports:[R,N,Pe,De,ze,Ee]})}}return t})(),Eo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({imports:[R,at,N]})}}return t})(),wo=(()=>{class t{constructor(e,i,n){this.context=e,this.asmCustomer360Facade=i,this.activeCartFacade=n,this.showErrorAlert$=new Q(!1),this.entries$=new Q([]),this.subscription=new te}ngOnInit(){this.showErrorAlert$.next(!1),this.fetchPromotions(),this.subscription.add(this.activeCartFacade.getActiveCartId().subscribe(e=>{e&&this.entries$.value.length===0&&this.refreshPromotions()}))}refreshPromotions(){this.asmCustomer360Facade.get360Data([{requestData:{type:D.PROMOTION_LIST}}]).pipe(S(e=>{let i=e?.value?.find(r=>r.type===D.PROMOTION_LIST),n=[];return i.promotions&&i.promotions.forEach(r=>{n.push({applied:r.applied,code:r.name||"",name:r.message})}),n}),K(()=>(this.showErrorAlert$.next(!0),O([])))).subscribe(e=>{this.entries$.next(e)})}fetchPromotions(){this.context.data$.pipe(S(e=>{let i=[];return e.promotions.forEach(n=>{i.push({applied:n.applied,code:n.name||"",name:n.message})}),i}),K(()=>(this.showErrorAlert$.next(!0),O([])))).subscribe(e=>{this.entries$.next(e)})}closeErrorAlert(){this.showErrorAlert$.next(!1)}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(h(H),h(ae),h(Qe))}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-promotion"]],standalone:!1,decls:6,vars:17,consts:[[3,"emptyStateText","headerText","showAlert","entries","applied","showRemoveButton","showApplyButton"]],template:function(i,n){i&1&&($(0,"cx-asm-customer-360-promotion-listing",0),m(1,"cxTranslate"),m(2,"cxTranslate"),m(3,"async"),m(4,"async"),m(5,"cxTranslate")),i&2&&p("emptyStateText",u(1,7,"asmCustomer360.promotions.emptyDescription"))("headerText",u(2,9,"asmCustomer360.promotions.headerText"))("showAlert",u(3,11,n.showErrorAlert$))("entries",u(4,13,n.entries$))("applied",u(5,15,"asmCustomer360.promotions.applied"))("showRemoveButton",!1)("showApplyButton",!1)},dependencies:[st,j,V],encapsulation:2,changeDetection:0})}}return t})(),Do=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({imports:[R,at,N]})}}return t})(),Po=(()=>{class t{constructor(e,i,n){this.context=e,this.asmCustomer360Facade=i,this.customerCouponService=n,this.showErrorAlert$=new Q(!1),this.showErrorAlertForApplyAction$=new Q(!1),this.subscription=new te,this.currentTabIsAssignable=!0,this.iconTypes=se,this.activeTab=0}ngOnInit(){this.subscription.add(this.customerCouponService.getClaimCustomerCouponResultError().subscribe(e=>{e&&(this.changeTab(!0),this.showErrorAlertForApplyAction$.next(!0))})),this.subscription.add(this.customerCouponService.getDisclaimCustomerCouponResultError().subscribe(e=>{e&&(this.changeTab(!1),this.showErrorAlertForApplyAction$.next(!0))})),this.fetchCustomerCoupons(),this.currentTabIsAssignable=!0,this.hideAllErrorAlert()}fetchCustomerCoupons(){this.entries$=this.context.data$.pipe(S(e=>{let i=[];return e.customerCoupons.forEach(n=>{i.push({code:n.name,name:n.description,codeForApplyAction:n.code,applied:!1})}),i}),K(()=>(this.showErrorAlert$.next(!0),O([]))))}changeTab(e){this.currentTabIsAssignable=e,this.hideAllErrorAlert(),this.entries$=this.asmCustomer360Facade.get360Data([{requestData:{type:D.CUSTOMER_COUPON_LIST,additionalRequestParameters:{assignable:e}}}]).pipe(S(i=>this.mapParams(e,i)),K(()=>(this.showErrorAlert$.next(!0),O([]))))}searchCustomerCoupon(e){this.hideAllErrorAlert(),this.entries$=this.asmCustomer360Facade.get360Data([{requestData:{type:D.CUSTOMER_COUPON_LIST,additionalRequestParameters:{assignable:this.currentTabIsAssignable,searchQuery:e}}}]).pipe(S(i=>this.mapParams(this.currentTabIsAssignable,i)),K(()=>(this.showErrorAlert$.next(!0),O([]))))}hideAllErrorAlert(){this.showErrorAlert$.next(!1),this.showErrorAlertForApplyAction$.next(!1)}mapParams(e,i){let n=i?.value?.find(_=>_.type===D.CUSTOMER_COUPON_LIST),r=[];return n.customerCoupons&&n.customerCoupons.forEach(_=>{r.push({code:_.name,name:_.description,codeForApplyAction:_.code,applied:!e})}),this.activeTab=e?0:1,r}closeErrorAlert(){this.showErrorAlert$.next(!1)}closeErrorAlertForApplyAction(){this.showErrorAlertForApplyAction$.next(!1)}claimCouponToCustomer(e){this.customerCouponService.claimCustomerCoupon(e.codeForApplyAction),this.refreshActionButton(e?.codeForApplyAction)}disclaimCouponToCustomer(e){this.customerCouponService.resetDisclaimCustomerCoupon(),this.customerCouponService.disclaimCustomerCoupon(e.codeForApplyAction),this.refreshActionButton(e?.codeForApplyAction)}refreshActionButton(e){this.entries$=this.entries$.pipe(S(i=>i.filter(n=>n.codeForApplyAction!==e)))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(h(H),h(ae),h($t))}}static{this.\u0275cmp=k({type:t,selectors:[["cx-asm-customer-360-customer-coupon"]],standalone:!1,decls:24,vars:48,consts:[["searchBox",""],[3,"apply","remove","removeAlert","removeAlertForApplyAction","headerText","emptyStateText","applyButtonText","applied","removeButtonText","entries","showRemoveButton","showApplyButton","isCustomerCoupon","showAlert","showAlertForApplyAction"],[1,"cx-asm-customer-360-promotion-listing-tabs"],[1,"cx-tab-header",3,"click","textContent"],["aria-hidden","true",1,"cx-asm-customer-360-promotion-listing-separator"],[1,"cx-asm-customer-360-promotion-listing-search"],[1,"cx-asm-customer-360-promotion-listing-search-input",3,"keydown.enter","placeholder"],["role","button",1,"cx-asm-customer-360-promotion-listing-search-icon-reset",3,"click","type","title"],["role","button",1,"cx-asm-customer-360-promotion-listing-search-icon-search",3,"click","type","title"]],template:function(i,n){if(i&1){let r=T();a(0,"cx-asm-customer-360-promotion-listing",1),m(1,"cxTranslate"),m(2,"cxTranslate"),m(3,"cxTranslate"),m(4,"cxTranslate"),m(5,"cxTranslate"),m(6,"async"),m(7,"async"),m(8,"async"),v("apply",function(y){return f(r),x(n.claimCouponToCustomer(y))})("remove",function(y){return f(r),x(n.disclaimCouponToCustomer(y))})("removeAlert",function(){return f(r),x(n.closeErrorAlert())})("removeAlertForApplyAction",function(){return f(r),x(n.closeErrorAlertForApplyAction())}),E(9),a(10,"div",2)(11,"button",3),m(12,"cxTranslate"),v("click",function(){f(r);let y=F(18);return n.changeTab(!0),x(y.value="")}),s(),a(13,"button",3),m(14,"cxTranslate"),v("click",function(){f(r);let y=F(18);return n.changeTab(!1),x(y.value="")}),s()(),$(15,"hr",4),a(16,"div",5)(17,"input",6,0),m(19,"cxTranslate"),v("keydown.enter",function(){f(r);let y=F(18);return x(n.searchCustomerCoupon(y.value))}),s(),a(20,"cx-icon",7),m(21,"cxTranslate"),v("click",function(){f(r);let y=F(18);return x(y.value="")}),s(),a(22,"cx-icon",8),m(23,"cxTranslate"),v("click",function(){f(r);let y=F(18);return x(n.searchCustomerCoupon(y.value))}),s()(),w(),s()}i&2&&(p("headerText",u(1,22,"asmCustomer360.customerCoupons.headerText"))("emptyStateText",u(2,24,"asmCustomer360.customerCoupons.emptyDescription"))("applyButtonText",u(3,26,"asmCustomer360.customerCoupons.applyButtonText"))("applied",u(4,28,"asmCustomer360.customerCoupons.applied"))("removeButtonText",u(5,30,"asmCustomer360.customerCoupons.removeButtonText"))("entries",u(6,32,n.entries$))("showRemoveButton",!0)("showApplyButton",!0)("isCustomerCoupon",!0)("showAlert",u(7,34,n.showErrorAlert$))("showAlertForApplyAction",u(8,36,n.showErrorAlertForApplyAction$)),o(11),Z("active",n.activeTab===0),p("textContent",u(12,38,"asmCustomer360.customerCoupons.availableTab")),o(2),Z("active",n.activeTab===1),p("textContent",u(14,40,"asmCustomer360.customerCoupons.sentTab")),o(4),oe("placeholder",u(19,42,"asmCustomer360.customerCoupons.searchBox")),o(3),oe("title",u(21,44,"common.close")),p("type",n.iconTypes.CLOSE),o(2),oe("title",u(23,46,"common.search")),p("type",n.iconTypes.SEARCH))},dependencies:[st,Se,j,V],encapsulation:2,changeDetection:0})}}return t})(),Mo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({imports:[R,at,N,Ee,Ut]})}}return t})(),$o={launch:{[kt.ASM_CUSTOMER_360]:{inlineRoot:!0,component:so,dialogType:Ot.DIALOG}}},_i=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({providers:[pe($o)],imports:[R,De,N,Pe,we,Ee,Rt,Nt,ze,mo,fo,Ao,To,uo,go,ho,Io,Eo,Do,Mo]})}}return t})(),gi={asmCustomer360:{dateFormat:"MM-dd-yyyy",dateTimeFormat:"dd-MM-yy hh:mm a",tabs:[{i18nNameKey:"asmCustomer360.overviewTab",components:[{component:lo,requestData:{type:D.ACTIVE_CART}},{component:yo,requestData:{type:D.SAVED_CART}},{component:Co,requestData:{type:D.PRODUCT_INTEREST_LIST}}]},{i18nNameKey:"asmCustomer360.profileTab",components:[{component:vo,requestData:{type:D.CUSTOMER_PROFILE}}]},{i18nNameKey:"asmCustomer360.activityTab",components:[{component:po,requestData:{type:D.ACTIVITY_LIST,additionalRequestParameters:{listSize:10}},config:{pageSize:5}}]},{i18nNameKey:"asmCustomer360.feedbackTab",components:[{component:bo,requestData:{type:D.SUPPORT_TICKET_LIST,additionalRequestParameters:{listSize:10}},config:{pageSize:5}},{component:xo,requestData:{type:D.REVIEW_LIST,additionalRequestParameters:{listSize:10}},config:{pageSize:5}}]},{i18nNameKey:"asmCustomer360.promotionsTab",components:[{component:So,requestData:{type:D.COUPON_LIST}},{component:wo,requestData:{type:D.PROMOTION_LIST}},{component:Po,requestData:{type:D.CUSTOMER_COUPON_LIST,additionalRequestParameters:{assignable:!0}}}]},{i18nNameKey:"asmCustomer360.storeLocationsTab",components:[{component:_o,requestData:{type:D.STORE_LOCATION},config:{pageSize:10}}]}]}};var Fo=(()=>{class t{constructor(e,i,n,r){this.http=e,this.occEndpointsService=i,this.converterService=n,this.baseSiteService=r,this.logger=ut(It),this.baseSiteService.getActive().subscribe(_=>this.activeBaseSite=_)}getHeaders(){return qe.createHeader(je,!0,new Le)}getAsmCustomer360Data(e){let i=qe.createHeader(je,!0,new Le),n=this.occEndpointsService.buildUrl("asmCustomer360",{urlParams:{baseSiteId:this.activeBaseSite,userId:e.options.userId??""}},{baseSite:!1,prefix:!1}),r={customer360Queries:e.queries};return this.http.post(n,r,{headers:i}).pipe(K(_=>lt(Mt(_,this.logger))),this.converterService.pipeable(ai))}static{this.\u0275fac=function(i){return new(i||t)(z(yt),z(wt),z(Pt),z(Et))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),Ro={backend:{occ:{endpoints:{asmCustomer360:"/assistedservicewebservices/${baseSiteId}/users/${userId}/customer360"}}}},Ci=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({providers:[pe(Ro),{provide:xe,useClass:Fo}],imports:[R]})}}return t})();var $r=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=b({providers:[pe(gi)],imports:[li,Ci,_i]})}}return t})();export{$r as AsmCustomer360Module};
