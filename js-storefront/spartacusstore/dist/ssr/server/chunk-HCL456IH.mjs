import './polyfills.server.mjs';
import{M as f,ha as D,ia as T,lc as I}from"./chunk-M3PBDWUL.mjs";import{Td as A,a as R,fb as v,ma as s,me as y,na as C,oa as o,pa as d,qe as u,re as p,vf as l,wf as h,yh as i}from"./chunk-JI3YDV22.mjs";var S={cart:{validation:{enabled:!1},selectiveCart:{enabled:!1}}},M={routing:{routes:{cart:{paths:["cart"]}}}},F=Symbol("ORDER_ENTRIES_CONTEXT"),a=class extends l{},te=(()=>{class e extends a{static{this.type="CreateCartEvent"}}return e})(),ne=(()=>{class e extends a{static{this.type="CreateCartSuccessEvent"}}return e})(),re=(()=>{class e extends a{static{this.type="CreateCartFailEvent"}}return e})(),ae=(()=>{class e extends a{static{this.type="CartAddEntryEvent"}}return e})(),se=(()=>{class e extends a{static{this.type="CartAddEntrySuccessEvent"}}return e})(),ie=(()=>{class e extends a{static{this.type="CartAddEntryFailEvent"}}return e})(),ce=(()=>{class e extends a{static{this.type="CartRemoveEntryFailEvent"}}return e})(),oe=(()=>{class e extends a{static{this.type="CartRemoveEntrySuccessEvent"}}return e})(),de=(()=>{class e extends a{static{this.type="CartUpdateEntrySuccessEvent"}}return e})(),Ee=(()=>{class e extends a{static{this.type="CartUpdateEntryFailEvent"}}return e})(),Ce=(()=>{class e extends l{static{this.type="CartUiEventAddToCart"}}return e})(),ve=(()=>{class e extends a{static{this.type="MergeCartSuccessEvent"}}return e})(),N=(()=>{class e extends a{static{this.type="LoadCartEvent"}}return e})(),O=(()=>{class e extends a{static{this.type="RemoveCartEvent"}}return e})(),ue=(()=>{class e extends a{static{this.type="DeleteCartEvent"}}return e})(),le=(()=>{class e extends a{static{this.type="DeleteCartSuccessEvent"}}return e})(),fe=(()=>{class e extends a{static{this.type="DeleteCartFailEvent"}}return e})(),g=(()=>{class e extends a{static{this.type="AddCartVoucherEvent"}}return e})(),Re=(()=>{class e extends g{static{this.type="AddCartVoucherSuccessEvent"}}return e})(),Ae=(()=>{class e extends g{static{this.type="AddCartVoucherFailEvent"}}return e})(),_=(()=>{class e extends a{static{this.type="RemoveCartVoucherEvent"}}return e})(),ye=(()=>{class e extends _{static{this.type="RemoveCartVoucherSuccessEvent"}}return e})(),pe=(()=>{class e extends _{static{this.type="RemoveCartVoucherFailEvent"}}return e})(),m="cartBase",c="cartBaseCore",x="miniCart",V="addToCart",L=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=s({token:e,factory:()=>i({facade:e,feature:c,methods:["getCart","getCarts","getCartEntity","isStable","createCart","mergeToCurrentCart","loadCart","getEntries","getLastEntry","addEntry","addEntries","removeEntry","updateEntry","getEntry","assignEmail","removeCart","deleteCart","reloadCart","getCartIdByType"],async:!0}),providedIn:"root"})}}return e})(),U=(()=>{class e{constructor(r,t){this.eventService=r,this.multiCartFacade=t,this.subscriptions=new R,this.onCartBaseAction()}onCartBaseAction(){this.subscriptions.add(this.eventService.get(N).subscribe(({userId:r,cartId:t})=>{r&&t&&this.multiCartFacade.loadCart({userId:r,cartId:t})})),this.subscriptions.add(this.eventService.get(O).subscribe(({cartId:r})=>{this.multiCartFacade.removeCart(r)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(t){return new(t||e)(d(h),d(L))}}static{this.\u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),w=(()=>{class e{constructor(r){}static{this.\u0275fac=function(t){return new(t||e)(d(U))}}static{this.\u0275mod=v({type:e})}static{this.\u0275inj=C({})}}return e})(),b=new o("ActiveCartOrderEntriesContext");function k(){return{featureModules:{[m]:{cmsComponents:["CartApplyCouponComponent","CartComponent","CartProceedToCheckoutComponent","CartTotalsComponent","SaveForLaterComponent","ClearCartComponent"]},[x]:{cmsComponents:["MiniCartComponent"]},[V]:{cmsComponents:["ProductAddToCartComponent"]},[c]:m}}}var he=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275mod=v({type:e})}static{this.\u0275inj=C({providers:[p(k),u(S),u(M)],imports:[w,A.forChild([{path:null,canActivate:[T],component:D,data:{cxRoute:"cart",cxContext:{[F]:b}}}])]})}}return e})(),De=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=s({token:e,factory:function(t){let E=null;return t?E=new(t||e):E=d(y),E},providedIn:"root"})}}return e})(),Te=(()=>{class e extends I{static{this.type="CartPageEvent"}}return e})(),Ie=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=s({token:e,factory:()=>i({facade:e,feature:c,methods:["getActive","takeActive","getActiveCartId","takeActiveCartId","getEntries","getLastEntry","getLoading","isStable","addEntry","removeEntry","updateEntry","getEntry","addEmail","getAssignedUser","isGuestCart","addEntries","requireLoadedCart","reloadActiveCart","hasPickupItems","hasDeliveryItems","getPickupEntries","getDeliveryEntries"],async:!0}),providedIn:"root"})}}return e})(),me=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=s({token:e,factory:()=>i({facade:e,feature:c,methods:["getCartAccessCode"]}),providedIn:"root"})}}return e})(),ge=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=s({token:e,factory:()=>i({facade:e,feature:c,methods:["createCartGuestUser","updateCartGuestUser"]}),providedIn:"root"})}}return e})(),_e=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=s({token:e,factory:()=>i({facade:e,feature:c,methods:["validateCart","getValidationResults"]}),providedIn:"root"})}}return e})(),Se=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=s({token:e,factory:()=>i({facade:e,feature:c,methods:["addVoucher","removeVoucher","getAddVoucherResultError","getAddVoucherResultSuccess","getAddVoucherResultLoading","resetAddVoucherProcessingState"],async:!0}),providedIn:"root"})}}return e})(),Me=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=s({token:e,factory:()=>i({facade:e,feature:c,methods:["getCart","getEntries","isStable","addEntry","removeEntry","updateEntry","getEntry"],async:!0}),providedIn:"root"})}}return e})();f.CLEAR_CART="CLEAR_CART";f.ADDED_TO_CART="ADDED_TO_CART";var Fe=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=s({token:e,factory:e.\u0275fac})}}return e})(),j=function(e){return e.ITEM="cx-cart-item",e.LIST_ITEM="cx-cart-item-list-row",e.ITEM_DETAILS="cx-cart-item.details",e.ITEM_CONFIGURATOR_ISSUES="cx-configurator-issues-notification",e.ITEM_BUNDLE_DETAILS="cx-cart-item.bundle-details",e.ITEM_DELIVERY_DETAILS="cx-cart-item.delivery-details",e.ORDER_SUMMARY="cx-order-summary",e.CART_ITEM_LIST="cx-cart-item-list",e.ADD_TO_CART_CONTAINER="cx-add-to-cart-container",e.PICKUP_INFO="cx-pickup-info",e.ADD_TO_CART_PICKUP_OPTION="cx-add-to-cart-pickup-option",e.DELIVERY_MODE="cx-delivery-mode",e.ORDER_OVERVIEW="cx-order-overview",e.CPQ_QUOTE_MODULE="cx-cpq-quote",e.CPQ_QUOTE_HEADING="cx-cpq-quote-heading",e.CPQ_QUOTE="cx-cpq-quote-offer",e}(j||{}),P=function(e){return e.ActiveCart="CART",e.Checkout="CHECKOUT",e.Order="ORDER",e.SaveForLater="SAVE_FOR_LATER",e.SavedCart="SAVED_CART",e}(P||{}),B=function(e){return e.CART="Cart",e.ORDER="Order",e.QUOTE="Quote",e.SAVED_CART="SavedCart",e}(B||{}),K=function(e){return e.ACTIVE="Active",e.WISH_LIST="WishList",e.SELECTIVE="Selective",e.NEW_CREATED="NewCreated",e}(K||{}),W=function(e){return e.NO_STOCK="noStock",e.LOW_STOCK="lowStock",e.REVIEW_CONFIGURATION="reviewConfiguration",e.PRICING_ERROR="pricingError",e.UNRESOLVABLE_ISSUES="unresolvableIssues",e}(W||{}),Q=function(e){return e.ACTIVE_CART="ACTIVE_CART",e.NEW_SAVED_CART="NEW_SAVED_CART",e.QUICK_ORDER="QUICK_ORDER",e.SAVED_CART="SAVED_CART",e.ORDER_CONFIRMATION="ORDER_CONFIRMATION",e.ORDER_DETAILS="ORDER_DETAILS",e.UNIT_ORDER_DETAILS="UNIT_ORDER_DETAILS",e}(Q||{}),G=function(e){return e.SUCCESS="success",e.LOW_STOCK="lowStock",e.NO_STOCK="noStock",e.UNKNOWN_IDENTIFIER="unknownIdentifier",e.UNKNOWN_ERROR="unknownError",e.LIMIT_EXCEEDED="limitExceeded",e}(G||{}),Ne=new o("CartNormalizer"),Oe=new o("OrderEntryPromotionsNormalizer"),xe=new o("CartModificationNormalizer"),Ve=new o("SaveCartNormalizer"),Le=new o("CartVoucherNormalizer");export{F as a,a as b,te as c,ne as d,re as e,ae as f,se as g,ie as h,ce as i,oe as j,de as k,Ee as l,Ce as m,ve as n,N as o,O as p,ue as q,le as r,fe as s,g as t,Re as u,Ae as v,_ as w,ye as x,pe as y,m as z,x as A,V as B,L as C,b as D,he as E,De as F,Te as G,Ie as H,me as I,ge as J,_e as K,Se as L,Me as M,Fe as N,j as O,P,B as Q,K as R,W as S,Q as T,G as U,Ne as V,Oe as W,xe as X,Le as Y};
